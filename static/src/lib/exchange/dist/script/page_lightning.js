function connect(a){function b(a,b){var c,d="msgType";if(a&&a[d]){if(Array.prototype.forEach)k[a[d]]&&Array.prototype.forEach.call(k[a[d]],function(b,c){b(a)});else if(k[a[d]]){c=k[a[d]].length;for(var e=k[a[d]],f=0,g=e.length;f<g;f++)e[f](a)}j.LastTime=Math.round((new Date).getTime())}}function c(a){b(a,1)}function d(){if(m){for(var a in l){l[a];i.emit("request",l[a])}m=!1,h=!0}}function e(a){var b={};h=!1;try{b=JSON.stringify(a)}catch(a){}}function f(){if(j.LastTime){var a=Math.round((new Date).getTime()),b=a-j.LastTime;n&&n(b)}else n&&n(Number.MAX_VALUE);setTimeout(f,1e3)}function g(a){return JSON.parse(JSON.stringify(a))}var h,i,j={},k={},l={},m=!0;if(a=a||"http://hq.huobi.com",a&&window.socketInstanced&&window.socketInstanced[a])return socketInstanced[a];j.reg=function(a,b){if("object"==typeof a)if(a.symbolList)for(var c in a.symbolList)a.symbolList.hasOwnProperty(c)&&(k[c+a.symbolList[c][0].symbolId]=b);else a.msgType&&(k[a.msgType+a.symbolId]?k[a.msgType+a.symbolId].push(b):k[a.msgType+a.symbolId]=[b]);else k[a]?k[a].push(b):k[a]=[b]},j.help=function(){},j.fnList=k,j.msg=function(a,b){if("unMsg"===b)if(a.symbolList)for(var c in a.symbolList)a.symbolList.hasOwnProperty(c)&&delete l[c+a.symbolList[c][0].symbolId];else delete l[a];else if(a.symbolList)for(var d in a.symbolList)a.symbolList.hasOwnProperty(d)&&(l[d+a.symbolList[d][0].symbolId]=a);else a.msgType&&(l[a.msgType+a.symbolId]=a);h&&i.emit("request",a)},j.clearmsg=function(){l={}};var n;return j.Daemon=function(a){n=a},j.UnMsg=function(a){var b=g(a);b.msgType="reqMsgUnsubscribe",j.msg(b,"unMsg")},!function(){i=io.connect(a,{"force new connection":0,"sync disconnect on unload":0,"reconnection delay":1e3,"reconnection delay max":5e3,"max reconnection attempts":999999}),i.on("request",c),i.on("message",b),i.on("connect",d),i.on("error",function(){console.warn("error",arguments)}),i.on("reconnect",function(){h=!0;for(var a in l)i.emit("request",l[a])}),i.on("disconnect",e),window.socketInstanced||(window.socketInstanced={}),window.socketInstanced[a]=j,j.conn=i,f()}(),HBCONN=j,HBCONN.msgList=l,j}function SOCKET_API(a){return{reqKLine:function(b,c,d,e){return{msg:{version:a||1,msgType:"reqKLine",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolId:b,from:d||0,to:e||-1,period:c},msgType:"reqKLine"}},lastKLine:function(b,c){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{lastKLine:[{symbolId:b,pushType:"pushLong",period:[c]}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{lastKLine:[{symbolId:b,pushType:"pushLong",period:[c]}]}},msgType:"lastKLine"}},reqMarketDetail:function(b){return{msg:{version:a||1,msgType:"reqMarketDetail",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolId:b},msgType:"reqMarketDetail"}},reqMarketDepthTop:function(b){return{msg:{version:a||1,msgType:"reqMarketDepthTop",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolId:b},msgType:"reqMarketDepthTop"}},marketDepth:function(b,c){return{msg:{version:a||1,msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolList:{marketDepth:[{symbolId:b,percent:c||10,pushType:"pushLong"}]}},msgType:"marketDepth"}},unMarketDepth:function(b,c){return{msg:{version:a||1,msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolList:{marketDepth:[{symbolId:b,percent:c||10,pushType:"pushLong"}]}},msgType:"UnMarketDepth"}},marketDepthTopShort:function(b){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDepthTopShort:[{symbolId:b,pushType:"pushLong"}]}},msgType:"marketDepthTopShort"}},marketDepthTop:function(b){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDepthTop:[{symbolId:b,pushType:"pushLong"}]}},msgType:"marketDepthTop"}},marketDetail:function(b){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDetail:[{symbolId:b,pushType:"pushLong"}]}},msgType:"marketDetail"}},marketDetail0:function(b){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDetail0:[{symbolId:b,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDetail0:[{symbolId:b,pushType:"pushLong"}]}},msgType:"marketDetail0"}},marketDetail1:function(b){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDetail1:[{symbolId:b,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDetail1:[{symbolId:b,pushType:"pushLong"}]}},msgType:"marketDetail1"}},marketDetail2:function(b){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDetail2:[{symbolId:b,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDetail2:[{symbolId:b,pushType:"pushLong"}]}},msgType:"marketDetail2"}},marketDetail3:function(b){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDetail3:[{symbolId:b,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDetail3:[{symbolId:b,pushType:"pushLong"}]}},msgType:"marketDetail3"}},marketDetail4:function(b){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDetail4:[{symbolId:b,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDetail4:[{symbolId:b,pushType:"pushLong"}]}},msgType:"marketDetail4"}},marketDetail5:function(b){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDetail5:[{symbolId:b,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDetail5:[{symbolId:b,pushType:"pushLong"}]}},msgType:"marketDetail5"}},marketDepthTopDiff:function(b){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDepthTopDiff:[{symbolId:b,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketDepthTopDiff:[{symbolId:b,pushType:"pushLong"}]}},msgType:"marketDepthTopDiff"}},tradeDetail:function(b){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{tradeDetail:[{symbolId:b,pushType:"pushLong"}]}},msgType:"tradeDetail"}},marketOverview:function(b){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:a||1,requestIndex:Date.now(),symbolList:{marketOverview:[{symbolId:b,pushType:"pushLong"}]}},msgType:"marketOverview"}},reqTradeDetailTop:function(b,c){return{msg:{version:a||1,msgType:"reqTradeDetailTop",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolId:b,count:c||150},msgType:"reqTradeDetailTop"}}}}define("static/js/exchange/dist/script/page_lightning",["jquery","./module_this_jack","./module_time","./module_validator","./module_md5","./module_dialog","./module_tip","./page_l_market","./module_tmpl","./module_socket_io","./module_connect","./module_number","./module_socket_api","./module_accurate","./page_l_trade","./module_range","./module_ajax","./module_switch","./module_cookie","./page_l_notice","./page_l_order","./module_order","./module_hb_extend","./page_l_chart","./module_oauth","./module_coin","./module_appseting","./module_balance"],function(a){function b(){z=document[g]?1:0,HRYB.GLOBAL.docHidden=z,i(document).trigger("DoDocHidden")}function c(){var a=this;return a.Close=function(b,c){var d=[];b?Array.prototype.push.apply(d,b):Array.prototype.push.apply(d,a),i.each(d,function(){var a=i(this);a.css({height:"",width:""}),!a.hasClass("close")&&a.addClass("close")}),c&&c("close",a)},a.Open=function(b,c){var d=[];b?Array.prototype.push.apply(d,b):d=a,d.length>1?i.each(d,function(a,b){var c=i(this);c.hasClass("close")&&c.removeClass("close"),b.DragSize&&b.SetSize("",b.DragSize)}):(d.hasClass("close")&&d.removeClass("close"),d.DragSize&&d.SetSize("",d.DragSize)),c&&c("open",a)},a.Toggle=function(b,c,d,e,f){var g,h=b?b:a,i=void 0!==e?e:"";h.on("click",d,function(){h.hasClass("close")?(c?"height"==c?a.SetSize("",["initial",""],function(a){h.removeClass("close")}):a.SetSize("",["","initial"],function(a){h.removeClass("close")}):h.removeClass("close"),g="show"):(c?"height"==c?h.SetSize("",["initial",i],function(a){h.addClass("close")}):h.SetSize("",[i,"initial"],function(a){h.addClass("close")}):h.addClass("close"),g="close"),f&&f(g)})},a.Drag=function(b,c,d){var e,f,g=[],h=void 0!==c?c:"",j=[800,375],k=[],l=[];a.on("mousedown",".handle",function(b){b.stopImmediatePropagation(),e=i(this),g[0]=b.pageX,g[1]=b.pageY,l=[a.Size[0],a.Size[1]],e.attr("data-active",1).addClass("active"),a.addClass("dragging")}),a.on("mouseup",function(){e&&e.attr("data-active",0).removeClass("active"),a.removeClass("dragging"),!e||1*e.attr("data-active")||("width"==b&&k[0]<=h?(a.Close(),a.DragSize[0]="initial"):a.removeClass("close"),"height"==b&&k[1]<=h?(a.Close(),a.DragSize[1]="initial"):a.removeClass("close"),f&&d&&d(k,a),k=[],f=!1)}),u.on("mousemove",function(c){if(c.stopImmediatePropagation(),g[2]=c.pageX,g[3]=c.pageY,e&&1*e.attr("data-active")){var h=["width"==b?k[0]:"initial","height"==b?k[1]:"initial"];k.length>0&&(a.SetSize("",h),a.DragSize=h),k.length>0&&d&&d(k,a),f=f||!0,k=[g[0]-g[2]+l[0],g[1]-g[3]+l[1]],k[0]=k[0]>j[0]?j[0]:k[0],k[1]=k[1]>j[1]?j[1]:k[1]}}).on("mouseup",function(){e&&e.attr("data-active",0).removeClass("active")})},a.GetMouse=function(){var b=[];a.on("mousedown",function(a){b[0]=a.pageX,b[1]=a.pageY}).on("mousemove",function(a){b[2]=a.pageX,b[3]=a.pageY,b[4]=b[2]-b[0]>0?b[2]-b[0]:0,b[5]=b[3]-b[1]>0?b[3]-b[1]:0}),a.mouseXY=b},a.GetSize=function(b){var c=b?b:a,d=[];return c.is&&c.outerWidth&&(d=c.is(":hidden")?[0,0]:[c.outerWidth(!0),c.outerHeight(!0)]),d},a.SetSize=function(b,c,d){var e=b?b:a;"initial"!=c[0]&&e.css("width",c[0]),"initial"!=c[1]&&e.css("height",c[1]),"initial"!=c[2]&&e.css("left",c[2]),"initial"!=c[3]&&e.css("top",c[3]),d&&d(e)},a.Tab=function(b,c,d,e,f){return void 0!=e&&"number"==typeof e?(a.find(b).eq(1*e).addClass("cur").siblings().removeClass("cur"),a.find(c).eq(1*e).show().siblings(c).hide(),void(d&&d(e))):void a.on("click",b,function(){var b=i(this),e=b.index(),g=f&&f(a);return g!==!1&&(b.addClass("cur").siblings().removeClass("cur"),a.find(c).eq(e).show().siblings(c).hide(),void(d&&d(e)))})},a}function d(a){x=e(),f(a)}function e(){var a=[];for(var b in w)a[b]=v.GetSize(w[b]),w[b].Size=v.GetSize(w[b]);return a}function f(a){var b=x[1][0]-x[6][0],c=x[0][1]-x[2][1]-x[4][1]-x[8][1]-x[13][1]-35,d=x[0][1]-x[2][1]-x[4][1]-(x[10][1]>x[11][1]?x[10][1]:x[11][1]),e=x[0][1]-x[2][1]-x[4][1],f=Math.floor(d-76-(d-126)%42);v.SetSize(w[12],["initial",d-5]),v.SetSize(w[3],[x[1][0],e]),v.SetSize(w[5],["initial",e]),v.SetSize(w[6],["initial",e]),v.SetSize(w[7],["initial",c]),v.SetSize(w[9],["initial",d]),v.SetSize(i(".market_body"),["initial",f<=8?20:f]),b>=1130?w[8].addClass("column"):w[8].removeClass("column"),x[1][0]<=1e3?w[1].css("overflow-x","auto"):w[1].css("overflow-x","hidden"),v.LayoutInit&&!a||u.trigger("__SetChart",[[b,c]]),v.LayoutInit=1}var g,h,i=a("jquery"),j=a("./module_this_jack"),k=a("./module_time"),l=a("./module_validator"),m=a("./module_md5"),n=a("./module_dialog"),o=a("./module_tip"),p=(a("./page_l_market"),a("./page_l_trade"),a("./page_l_chart")),q=(a("./page_l_notice"),a("./module_oauth")),r=a("./module_coin"),s=a("./module_appseting"),t=window.UID&&document.getElementById("balance")?a("./module_balance"):"",u=i(document),v=i(window),w=[v,i("body"),i("#doc_head"),i("#doc_body"),i("#doc_foot"),i("#main"),i("#bar"),i("#chart"),i("#order"),i("#depth"),i("#trade"),i("#overview"),i("#market_info"),i("#copyright")],x=[],y=i.Deferred(),z=0;HRYB.GLOBAL={},i(".symbol").html(CURRENT_SYMBOL).parent().attr("href",HRY.host+"/#/user/loan").attr("target","_blank").css("color","#707070"),i(".CURRENCY_STR").html(CURRENCY_STR).parent().attr("href",HRY.host+"/#/user/loan").attr("target","_blank").css("color","#707070"),i(".CURRENCY_SYMBOL").html(CURRENCY_SYMBOL),"undefined"!=typeof document.hidden?(g="hidden",h="visibilitychange"):"undefined"!=typeof document.mozHidden?(g="mozHidden",h="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(g="msHidden",h="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(g="webkitHidden",h="webkitvisibilitychange"),"undefined"==typeof document.addEventListener&&"undefined"==typeof document[g]||document.addEventListener(h,b,!1),HRYB.UTT=k,AR=w,!function(){function a(a,b){window.localStorage.clear();var c=i(a);c.on("click","span",function(){var a=i(this),c=a.data("act"),d=a.data("val");a.addClass("cur").siblings().removeClass("cur"),b&&b([c,d])})}q.GetOauth(),r.GetCoinList(),s.GetAppConfigData(),j(c,v),j(c,w[8]),j(c,w[6]),j(c,w[10]);var b=i("#loading");new n({dialog:"#login_dialog"},function(a,b){UID||"close"!=b||v.Close([w[10]],function(){v.trigger("__RESIZE",["","",1])})}),new n({dialog:"#two_factor_dialog"},function(){});w[8].Drag("height","80",function(){v.trigger("__RESIZE",["",1,2])}),w[10].Toggle("","height",".panel_trigger","",function(a){!UID,"close"==a?w[8].Close("",function(){v.trigger("__RESIZE",["","",3])}):w[8].Open("",function(){v.trigger("__RESIZE",["","",4])}),v.trigger("__RESIZE",[150,5])}),w[10].Tab(".tabs li",".panel",function(a){!UID,v.Open([w[8],w[10]],function(){v.trigger("__RESIZE",["",1,6])}),u.trigger("__OrderType",a)}),w[8].Tab(".tabs li",".order_col",function(a){a?w[8].addClass("current"):w[8].removeClass("current")},"",function(a){return!a.hasClass("column")}),w[10].is(":visible")&&w[11].css("padding-bottom","30px");var e=i("#balance");v.Toggle(e,"",".bar","",function(a){console.log(a)}),e.blur(function(){e.addClass("close")}),v.on("__RESIZE",function(a,b,c,e){var f=b||0;v.SetChart=0,f?setTimeout(function(){d(c)},f):d(c)}).on("load",function(){v.trigger("__RESIZE",["","",7])}).on("resize",function(){if(v.trigger("__RESIZE",["","",8]),v.SetChart)return!1}),u.on("__TradeTab",function(a,b){w[10].Tab(".tabs li",".panel","",b)}).on("__SetChart",function(a,b){v.SetChart=1,f.rd&&f.rd({w:b[0],h:b[1],fs:1})}).on("__MarketData",function(){b.is(":visible")&&(b.addClass("out"),v.trigger("__RESIZE",["","",9]),setTimeout(function(){b.remove()},750))}),t&&i.when(t(y,function(){i("#balance").data("refresh")||HRYB.AJAX.GetBalance.Stop()})).done(function(){HRYB.AJAX.GetBalance.Play(),i(document).on("DoDocHidden",function(){z?HRYB.AJAX.GetBalance.Stop():HRYB.AJAX.GetBalance.Play()})});var f=p("chart",{border:0,currentTools:"CrossLine",symlist:[SYMBOL],symbol:0,vIndicator:"MACD",timeShare:1,schemes:"lightning",drawRange:.75,level:4,version:"151201",url:$_ws_hq_url});window._Chart=f,a("#period",function(a){window.localStorage.clear(),a&&f[a[0]]&&f[a[0]](a[1])}),a("#indicator",function(a){a&&f[a[0]]&&f[a[0]](a[1])}),i("#chart_zoom").click(function(){var a=i(this);a.hasClass("zoom")?(v.Open([w[6],w[8]],function(){v.trigger("__RESIZE",["",1,10])}),a.removeClass("zoom")):(v.Close([w[6],w[8]],function(){v.trigger("__RESIZE",["",1,11])}),a.addClass("zoom"))}),l({forms:i(".form_login"),tip:".form_tip",changes:function(a){var b=i(a),c=i(a).parents(".group");b.attr("data-write")&&PC.RapidWrite({input:b}),c.find(".v_info").hide(),c.find(".group_help").show()},beforeSubmit:function(a){var b=a.find(":submit");a.attr("action",HRY.host+HRY.modules.oauth+"loginService.do"),BtnSubmit=b.text(),b.prop("disabled",!0).text(Lang.L("Loading"))},postData:function(a){var b=[];return i.each(a,function(a,c){"password"!=c.name?b.push(c):b.push({name:"password",value:m.hbmd5(c.value)})}),b},callback:function(a,b){a=JSON.parse(a);var c=i(b).find(".form_tip"),d=b.find(":submit");if(d.prop("disabled",!1).text(BtnSubmit),a.success)window.location.reload();else{var e=(i("#by_phone"),i("#vcode_p")),f=i("#v_code");15==a.code&&e.show(),f.attr("src",HRY.host+HRY.modules.oauth+"/validcode/registcode.jpg?r="+Math.random()),c.html(a.msg).addClass("v_error")}},ajaxError:function(a){var b=a.find(".form_tip"),c=a.find(":submit");b.html(window.Texts&&Texts.NetworkError).addClass("v_error"),c.prop("disabled",!1).text(BtnSubmit)}}),i("#v_code").click(function(){var a=i(this);a[0].src=HRY.host+HRY.modules.oauth+"/validcode/registcode.jpg"+Math.random()}),o({tip:".bind_tips"},function(a,b){})}()}),function(){function a(){var a=[].slice.apply(arguments);if(!(a.length<2))return a.shift().apply(a.shift(),a)}"function"==typeof define?define("static/js/exchange/dist/script/module_this_jack",[],function(){return a}):"undefined"!=typeof exports?module.exports=a:window.Jack=a}(),function(){function a(a,b){var c=new Date(1e3*a),d=b||"YYYY-MM-DD";return Date.prototype.Format=function(a){var b={"M+":this.getMonth()+1,"D+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(Y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a},c.Format(d)}"function"==typeof define?define("static/js/exchange/dist/script/module_time",[],function(){return a}):"undefined"!=typeof exports?module.exports=a:window.unixToTime=a}(),function(window){var BitValidator=function(options){var _language={error:L("错误"),success:L("校验通过"),undefined:L("未定义"),error_min:L("数值小于"),error_max:L("数值大于"),error_submit:L("表单提交出错"),error_input:L("输入错误"),error_null:L("请输入信息")},_dataType={"*":/[\w\W]+/,n:/^\d+\.?\d*$/,s:/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]+$/,m:/^1[0-9]{10}$/,p:/^[0-9]{5,11}$/,e:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/,ZEN:/^(?!_)(?!.*?_$)([a-zA-Z0-9_.\u4e00-\u9fa5\s])*$/,NAME:/^(?!_)(?!.*?_$)([·a-zA-Z_.\u4e00-\u9fa5\s])*$/,EN:/^(?!_)(?!.*?_$)([a-zA-Z_\s.])*$/,NEN:/^(?!_\-)(?!.*?_$)([a-zA-Z0-9\s\,\'.])*$/,SPE:/^([^\/\\/:<>!\*\|"\?\$\=])*$/,pwd:/(?!\d+$)[\dA-Za-z\W]/,num_range:function(a){var b=Number($(a).attr("data-min")),c=Number($(a).attr("data-max")),d=$(a).attr("data-msg-error")?$(a).attr("data-msg-error").split(","):[],e=$(a).val(),f="";return!!/^\d+\.?\d*$/.test(e)&&(e<b?f=d[1]?d[1].indexOf("@@")>0?d[1].replace("@@",b):d[1]:_language.error_min+b:!(e>c)||(f=d[2]?d[2].indexOf("@@")>0?d[2].replace("@@",c):d[2]:_language.error_max+c))},compare:function(a){var b=$(a),c=b.parents("form"),d=b.val(),e=b.data("compare"),f=/^\./.test(e)?c.find(e).val():c.find('[name="'+e+'"]').val();return d==f}},_default={forms:null,beforeSend:null,process:null,beforeValidation:null,beforeSubmit:null,formSubmit:null,callback:null,single:null,changes:null,ignoreHidden:!0,ajaxPost:!0,ajaxError:null,instant:!1,postData:null,tip:"",is_focus:!0,dataType:{}},_class={class_name:{input:{"default":"input_text",success:"",error:"input_text_red"},msg:{"default":"v_info",success:"v_success",error:"v_error"}}},_option=$.extend(_default,_class,options),_data_type=$.extend(_dataType,_option.dataType,$.ValidatorDataType),_form=$(options.forms),_record=!1,_init={fn_init:function(a){a.attr("validator","true");var b=a.find(":submit");b.prop("disabled")&&!b.data("disabled")&&b.prop("disabled",!1),_option.beforeSend&&_option.beforeSend(a),_option.instant?a.on("change",function(b){_init.fn_find(a)}):a.on("change",function(b){_init.fn_msg(b.target,3),_option.changes&&_option.changes(b.target,a)}),a.submit(function(){if(_option.beforeValidation&&_option.beforeValidation($(this)),!_init.fn_find($(this)))return _option.process&&_option.process(),!1;var a=_option.beforeSubmit&&_option.beforeSubmit($(this));return a!==!1&&(_option.ajaxPost?(_init.fn_ajax($(this)),!1):void 0)})},fn_find:function(a){var b=[],c=null,d=null,e=null;return a.find("[data-type]").length>0?a.find("[data-type]").each(function(f,g){var h=$(g),i=h.data("must");return b=_init.fn_check(h,_init.fn_value(h,a),h.data("type")),c=h,d=h.data("ignore"),e=h.data("handle"),!!($(c).is(":hidden")&&_option.ignoreHidden&&"undefined"==typeof e||$(c).attr("disabled")&&!i||$(c).attr("readonly")&&!i)||("empty"===d&&1==b[0]||("ignore"===d||(_option.single&&_option.single([c,b[0]]),1==b[0]&&_init.fn_msg(g,1),2==b[0]&&_init.fn_msg(g,2,b[1]),3==b[0]&&_init.fn_msg(g,3),0!=b[0]?(_record=!1,!1):(b[1]?_init.fn_msg(g,0,b[1]):_init.fn_msg(g,0),void(_record=!0)))))}):_record=!0,_record},fn_value:function(a,b){var c;return a.is(":radio")?(c=b.find(":radio[name='"+a.attr("name")+"']:checked").val(),c=void 0===c?"":c):a.is(":checkbox")?(b.find(":checkbox[name='"+a.attr("name")+"']:checked").each(function(){c+=$(this).val()+","}),c=void 0===c?"":c):c=a.val(),$.trim(c)},fn_data_type:function(type){var _type=type,_reg=/\/.+\//g,_match=/^(.+?)(\d+)-(\d+)$/,_multi_reg=/^(.+?)(,|$|\||\s)(.+?)$/,_multi=/\/.+?\/[mgi]*(?=(,|$|\||\s))|[\w\*-]+/g,_rule=null;if(_reg.test(_type))_rule=[0,eval(_type)];else if(_data_type[_type]||!_type.match(_match)||_multi_reg.test(_type)){if(_data_type[_type])_rule="function"==typeof _data_type[_type]?[1,_data_type[_type]]:[2,_data_type[_type]];else if(_multi_reg.test(_type)){var _arr=[[]],_mark=_type.replace(_multi,"").replace(/\s*/g,"").split(""),_item=_type.match(_multi),_m=0;_arr[0].push(_item[0]);for(var _n=0;_n<_mark.length;_n++)"|"==_mark[_n]&&(_m++,_arr[_m]=[]),_arr[_m].push(_item[_n+1]);_rule=[4,_arr]}}else{var _temp=_type.match(_match);_rule=[3,_data_type[_temp[1]],_temp[2],_temp[3]]}if(!_rule)return alert(_type+_language.undefined),!1;if("4"==_rule[0]){var _it,_its,_rules=_rule[1];if(_rules.length>1)for(_it in _rules)for(_its in _rules[_it]){var _items=_rules[_it][_its];_data_type[_items]||_data_type[_items.match(_match)[1]]||(alert("l276 "+_items+_language.undefined),_rule=!1)}}return _rule},fn_check:function(a,b,c){function d(c){var d=[];if(""==$.trim(b))d[0]=1;else{if("0"!=c[0]&&"2"!=c[0]||(c[1].test(b)?d[0]=0:($(a).change(function(){c[1].test($(this).val())&&_init.fn_msg(a,0)}),d[0]=2)),"1"==c[0]){var e=c[1](a);"string"==typeof e?($(a).change(function(){c[1](a)&&_init.fn_msg(a,0)}),d=[2,c[1](a)]):c[1](a)?d[0]=0:d[0]=2}"3"==c[0]&&(c[1].test(b)?b.length<Number(c[2])||b.length>Number(c[3])?d[0]=2:d[0]=0:d[0]=2)}return d}var e=a,f=[],g=_init.fn_data_type(e.data("type")),h=null;if(g){if("4"==g[0])for(var i=0;i<g[1].length;i++){for(var j=0;j<g[1][i].length&&(h=_init.fn_data_type(g[1][i][j]),f=d(h),"0"==f[0]);j++);if("0"==f[0])break}else f=d(g);return f}return!1},fn_ajax:function(a){var b,c,d;b=a.attr("action"),d=a.attr("method")||"post",c=_option.postData?_option.postData(a.serializeArray()):a.serializeArray();var e=!0;1==a.attr("data-async")&&(e=!1),$.ajax({url:b,type:d,async:e,data:c,beforeSend:function(){},success:function(b){_option.callback&&_option.callback(b,a)},error:function(){_option.ajaxError&&_option.ajaxError(a),console.log(_language.error_submit)}})},fn_msg:function(a,b,c){var d,e,f,g=$(a).parents("form"),h=_option.tip?g.find(_option.tip):$(a).closest(".group").find("."+_option.class_name.msg["default"]),i=_option.class_name.msg.success,j=_option.class_name.msg.error,k=_option.class_name.input.success,l=_option.class_name.input.error;switch(d=$(a).data("msg-null")||_language.error_null,e=$(a).data("msg-error")||_language.error_input,f=$(a).data("msg-success")||"",e=/(.),(.)/.test(e)?e.split(",")[0]:e,c&&(e=c),b){case 0:$(a).removeClass(l).addClass(k),h.removeClass(j).addClass(i).html(f);break;case 1:_option.is_focus&&$(a).removeClass(k).addClass(l).focus(),h.removeClass(i).addClass(j).html(d);break;case 2:_option.is_focus&&$(a).removeClass(k).addClass(l).focus(),h.removeClass(i).addClass(j).html(e);break;case 3:$(a).removeClass(l),h.removeClass(j).html("")}}};_form&&_form.length>0&&_form.each(function(){var a=$(this);!a.attr("validator")&&_init.fn_init(a)})};"function"==typeof define?define("static/js/exchange/dist/script/module_validator",[],function(){return BitValidator}):"undefined"!=typeof exports?module.exports=BitValidator:window.BitValidator=BitValidator}(window),function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;c<16;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}function u(a,b,c){return t(a+"hello, moto",b,c)}"function"==typeof define?define("static/js/exchange/dist/script/module_md5",[],function(){return{md5:t,hbmd5:u}}):(a.md5=t,a.hbmd5=u)}(this),function(a){var b=function(a,b){function c(){if(k.length<=0){var a=k.selector;/^\./.test(a)?h.addClass(a.replace(".","")):/^\#/.test(a)&&h.attr("id",a.replace("#","")),j.append(h),k=h}$(m).length<=0&&(i.addClass(m.selector.replace(".","")),$("body").append(i),m=i),k._title=k.find(".mod_title"),k._body=k.find(".mod_bd"),k._foot=k.find(".mod_ft"),k._close=k.find(".close")}function d(a){a.title&&k._title.html(a.title),a.content&&k._body.html(a.content),a.foot&&k._foot.html(a.foot)}function e(a){k.show(),m.show().addClass("in"),a?a(k,"show"):n&&n(k,"show")}function f(a,b){k.hide(),m.hide().removeClass("in"),a?a(k,"close"):n&&n(k,"close",b)}var g=a||{},h=$('<div class="doc_dialog" style="display: none"><div class="mod_dialog"><div class="mod_hd"><span class="icon_wrap"><i class="icon"></i></span><span class="mod_title"></span><div class="mod_option"><a href="#" class="close">×</a></div></div><div class="mod_bd"></div><div class="mod_ft"></div></div></div>'),i=$('<div class="dialog_backdrop" style="display: none"></div>'),j=g.wrap?$(g.wrap):$("body"),k=g.dialog?$(g.dialog):$(".doc_dialog"),l=$(g.trigger)||"",m=g.backdrop?$(g.backdrop):$(".dialog_backdrop"),n=b?b:null;c(),l&&l.on("click",function(){e()}),k._close.on("click",function(){f("",$(this))}),this.Close=f,this.Show=e,this.Write=d};"function"==typeof define?define("static/js/exchange/dist/script/module_dialog",[],function(){return b}):"undefined"!=typeof exports?module.exports=b:a.BitDialog=b}(window),function(){var a=window,b=function(b,c){function d(){if(j=$(".bit_tips"),j.length<=0){var a='<div class="bit_tips"><div class="content"></div><button class="confirm btn btn_link size_xs" type="button"></buton><button class="cancel btn btn_link size_xs" type="button"></button><i class="arrow"></i><i class="close">×</i></div>';$("body").append(a)}j=$("body .bit_tips"),k=j.find(".arrow")}function e(a,b,d){!j||j.length<=0||(b?l=setTimeout(function(){j.fadeOut(10)},b):j.hide(),d||c&&c(a,"close"),"undefined"!=typeof document.onselectstart&&(document.onselectstart=new Function("return false")),setTimeout(function(){"undefined"!=typeof document.onselectstart&&(document.onselectstart=new Function("return true"))},300))}function f(a,b){function d(){clearTimeout(l),j.find(".content").html(g),m?j.css({"min-width":m+"px",width:m+"px"}):j.css({"min-width":"",width:""}),"true"===$.trim(k)||"click"==b?j.find(".close").show():j.find(".close").hide(),i?(e.html(i[0]||"").show(),f.html(i[1]||"").show()):(e.hide(),f.hide()),h(a,o)}var e=(j.find(".option"),j.find(".close"),j.find(".confirm")),f=j.find(".cancel"),g=a.attr("data-tips")||n,i=a.attr("data-tips-btn")&&a.attr("data-tips-btn").split(","),k=a.attr("data-tips-close"),m=a.attr("data-tips-width")||"",o=a.attr("data-tips-position")||"default";c?c(a,"show")!==!1&&d():d()}function g(a){var b=a;j.unbind("click"),j.on("click",".confirm",function(){return e(b),c&&c(b,"confirm"),!1}),j.on("click",".close, .cancel",function(){e(b)})}function h(a,b){var c,d=a.offset().left,e=a.offset().top,f=j.outerWidth(!0),g=j.outerHeight(!0),h=a.width(),i=b||"default";isNaN(parseFloat(i))?("left"==i&&(c=d,j.removeClass("center right")),"center"==i&&(c=d-f/2+h/2,j.addClass("center"),j.removeClass("right")),"right"==i&&(c=d-(f-h/2-25),
j.removeClass("center"),j.addClass("right")),"default"==i&&(c=d+h/2-25,j.removeClass("center right")),k&&k.css("left","")):(c=d+1*i,1*i<0&&k.css("left",-(1*i)+10)),j.css({left:c,top:e-(g+15)}).show()}function i(a){var b=a.tip?$(a.tip):"",c=a.content||"";d(),n=c,f(b),g(b)}var j,k,l,m=b||{},n=(m.tip?$(m.tip):"",m.control,m.text);m.tip&&($(document).on("click",m.tip,function(a){d();var b=$(this),c=b.attr("data-tips-trigger");"click"===c&&(f(b,"click"),g(b)),a.stopPropagation()}),$(document).on("mouseover",m.tip,function(){d();var a=$(this),b=a.attr("data-tips-trigger");"click"!=b&&(a.is(":input")?a.focus(function(){f(a)}):f(a))}),$(document).on("mouseout",m.tip,function(){var a=$(this),b=a.attr("data-tips-trigger");"click"!=b&&(a.is(":input")?a.blur(function(){e(a,1)}):e(a,1))})),j&&$(a).on("click",function(a){a.target!==j[0]&&a.target.parentNode!==j[0]&&e(j,0,1)}),this.Write=i,this.Close=e};"function"==typeof define?define("static/js/exchange/dist/script/module_tip",[],function(){return b}):"undefined"!=typeof exports?module.exports=b:window.Tips=b}(),define("static/js/exchange/dist/script/page_l_market",["static/js/exchange/dist/script/module_tmpl","static/js/exchange/dist/script/module_socket_io","static/js/exchange/dist/script/module_connect","static/js/exchange/dist/script/module_number","static/js/exchange/dist/script/module_socket_api","static/js/exchange/dist/script/module_accurate"],function(a){function b(a,b,c){var d=a||"";if(d)return m.msg(d.msg),b&&m.UnMsg(b.msg),m.reg(d.msgType,function(a){c&&c(a)}),d}function c(a,b){var c=document.getElementById(a)||document.getElementById("view_"+a);c.innerHTML=h("tmp_"+a,b)}function d(a){var b;o=HRYB.GLOBAL.appConfigData.siteName,b="cny"==CURRENCY_STR?"￥"+a:"$"+a,$(document).attr("title",b+" | "+o)}function e(a){var b=a.payload,e=[],f=[],h=[],i=[0,0],j=0,l=0;void 0!=b.asks.price&&null!=b.asks.price&&(l=b.asks.price.length),void 0!=b.bids.price&&null!=b.bids.price&&(j=b.bids.price.length);try{for(var m=0,n=Math.max(j,l);m<n;m++){i[0]=k.Add(i[0],void 0==b.asks.amount?0:b.asks.amount[m]),i[1]=k.Add(i[1],void 0==b.bids.amount?0:b.bids.amount[m]);try{b.asks.price[m]&&e.push([void 0==b.asks.price?0:b.asks.price[m],void 0==b.asks.amount?0:b.asks.amount[m],i[0]])}catch(o){}try{b.bids.price[m]&&f.push([void 0==b.bids.price?0:b.bids.price[m],void 0==b.bids.amount?0:b.bids.amount[m],i[1]])}catch(o){}}}catch(o){}for(var q=new Date,r=q.toLocaleDateString(),s="",t=0,u=b.trades.time.length;t<u;t++)b.trades.time[t]&&(q.setTime(1e3*b.trades.time[t]),s=q.toLocaleDateString(),r==s&&h.push([b.trades.time[t],b.trades.price[t],b.trades.amount[t],b.trades.direction[t]]));p[0]=b.priceOpen,p[1]=b.priceHigh,p[2]=b.priceLow,p[3]=b.priceLast,p[4]=b.priceNew,p[5]=b.totalAmount,p[6]=((b.priceNew-a.payload.yestdayPriceLast)/a.payload.yestdayPriceLast*100).toFixed(3),g&&(g==b.priceNew?p[7]=p[7]:g>b.priceNew?p[7]="font_down":p[7]="font_up"),g=b.priceNew,c("depth_ask",e),c("depth_bid",f),c("trades",h),c("overview",p),c("new_price",p),d(p[4])}var f,g,h=a("static/js/exchange/dist/script/module_tmpl"),i=(a("static/js/exchange/dist/script/module_socket_io"),a("static/js/exchange/dist/script/module_connect")),j=(a("static/js/exchange/dist/script/module_number"),a("static/js/exchange/dist/script/module_socket_api")),k=a("static/js/exchange/dist/script/module_accurate"),l=$(document),m=i($_ws_hq_url),n=j(1).marketDetail0(SYMBOL);f=b(n,"",function(a){l.trigger("__MarketData"),e(a)}),$("#depth_select").on("click","span",function(){var a=$(this),c=a.data("option");n=j(1)["marketDetail"+c](SYMBOL),f=b(n,f,function(a){e(a)}),a.addClass("cur").siblings("span").removeClass("cur")});var o,p=[]}),function(){function a(c,d){var e=/\W/.test(c)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);},__data = obj;with(obj){p.push('"+c.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):b[c]=b[c]||a(document.getElementById(c).innerHTML);return d?e(d):e}var b={};"function"==typeof define?define("static/js/exchange/dist/script/module_tmpl",[],function(){return a}):"undefined"!=typeof exports?module.exports=a:window.TmpL=a}(),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define("static/js/exchange/dist/script/module_socket_io",[],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.io=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports=a("./lib/")},{"./lib/":2}],2:[function(a,b,c){b.exports=a("./socket"),b.exports.parser=a("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(a,b,c){(function(c){function d(a,b){if(!(this instanceof d))return new d(a,b);b=b||{},a&&"object"==typeof a&&(b=a,a=null),a?(a=k(a),b.hostname=a.host,b.secure="https"==a.protocol||"wss"==a.protocol,b.port=a.port,a.query&&(b.query=a.query)):b.host&&(b.hostname=k(b.host).host),this.secure=null!=b.secure?b.secure:c.location&&"https:"==location.protocol,b.hostname&&!b.port&&(b.port=this.secure?"443":"80"),this.agent=b.agent||!1,this.hostname=b.hostname||(c.location?location.hostname:"localhost"),this.port=b.port||(c.location&&location.port?location.port:this.secure?443:80),this.query=b.query||{},"string"==typeof this.query&&(this.query=m.decode(this.query)),this.upgrade=!1!==b.upgrade,this.path=(b.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!b.forceJSONP,this.jsonp=!1!==b.jsonp,this.forceBase64=!!b.forceBase64,this.enablesXDR=!!b.enablesXDR,this.timestampParam=b.timestampParam||"t",this.timestampRequests=b.timestampRequests,this.transports=b.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=b.policyPort||843,this.rememberUpgrade=b.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=b.onlyBinaryUpgrades,this.perMessageDeflate=!1!==b.perMessageDeflate&&(b.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=b.pfx||null,this.key=b.key||null,this.passphrase=b.passphrase||null,this.cert=b.cert||null,this.ca=b.ca||null,this.ciphers=b.ciphers||null,this.rejectUnauthorized=void 0===b.rejectUnauthorized||b.rejectUnauthorized;var e="object"==typeof c&&c;e.global===e&&b.extraHeaders&&Object.keys(b.extraHeaders).length>0&&(this.extraHeaders=b.extraHeaders),this.open()}function e(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var f=a("./transports"),g=a("component-emitter"),h=a("debug")("engine.io-client:socket"),i=a("indexof"),j=a("engine.io-parser"),k=a("parseuri"),l=a("parsejson"),m=a("parseqs");b.exports=d,d.priorWebsocketSuccess=!1,g(d.prototype),d.protocol=j.protocol,d.Socket=d,d.Transport=a("./transport"),d.transports=a("./transports"),d.parser=a("engine.io-parser"),d.prototype.createTransport=function(a){h('creating transport "%s"',a);var b=e(this.query);b.EIO=j.protocol,b.transport=a,this.id&&(b.sid=this.id);var c=new f[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:b,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return c},d.prototype.open=function(){var a;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)a="websocket";else{if(0===this.transports.length){var b=this;return void setTimeout(function(){b.emit("error","No transports available")},0)}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(c){return this.transports.shift(),void this.open()}a.open(),this.setTransport(a)},d.prototype.setTransport=function(a){h("setting transport %s",a.name);var b=this;this.transport&&(h("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=a,a.on("drain",function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})},d.prototype.probe=function(a){function b(){if(m.onlyBinaryUpgrades){var b=!this.supportsBinary&&m.transport.supportsBinary;l=l||b}l||(h('probe transport "%s" opened',a),k.send([{type:"ping",data:"probe"}]),k.once("packet",function(b){if(!l)if("pong"==b.type&&"probe"==b.data){if(h('probe transport "%s" pong',a),m.upgrading=!0,m.emit("upgrading",k),!k)return;d.priorWebsocketSuccess="websocket"==k.name,h('pausing current transport "%s"',m.transport.name),m.transport.pause(function(){l||"closed"!=m.readyState&&(h("changing transport and sending upgrade packet"),j(),m.setTransport(k),k.send([{type:"upgrade"}]),m.emit("upgrade",k),k=null,m.upgrading=!1,m.flush())})}else{h('probe transport "%s" failed',a);var c=new Error("probe error");c.transport=k.name,m.emit("upgradeError",c)}}))}function c(){l||(l=!0,j(),k.close(),k=null)}function e(b){var d=new Error("probe error: "+b);d.transport=k.name,c(),h('probe transport "%s" failed because of error: %s',a,b),m.emit("upgradeError",d)}function f(){e("transport closed")}function g(){e("socket closed")}function i(a){k&&a.name!=k.name&&(h('"%s" works - aborting "%s"',a.name,k.name),c())}function j(){k.removeListener("open",b),k.removeListener("error",e),k.removeListener("close",f),m.removeListener("close",g),m.removeListener("upgrading",i)}h('probing transport "%s"',a);var k=this.createTransport(a,{probe:1}),l=!1,m=this;d.priorWebsocketSuccess=!1,k.once("open",b),k.once("error",e),k.once("close",f),this.once("close",g),this.once("upgrading",i),k.open()},d.prototype.onOpen=function(){if(h("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){h("starting upgrade probes");for(var a=0,b=this.upgrades.length;a<b;a++)this.probe(this.upgrades[a])}},d.prototype.onPacket=function(a){if("opening"==this.readyState||"open"==this.readyState)switch(h('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case"open":this.onHandshake(l(a.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var b=new Error("server error");b.code=a.data,this.onError(b);break;case"message":this.emit("data",a.data),this.emit("message",a.data)}else h('packet received with socket readyState "%s"',this.readyState)},d.prototype.onHandshake=function(a){this.emit("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this.upgrades=this.filterUpgrades(a.upgrades),this.pingInterval=a.pingInterval,this.pingTimeout=a.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},d.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){"closed"!=b.readyState&&b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)},d.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer),a.pingIntervalTimer=setTimeout(function(){h("writing ping packet - expecting pong within %sms",a.pingTimeout),a.ping(),a.onHeartbeat(a.pingTimeout)},a.pingInterval)},d.prototype.ping=function(){var a=this;this.sendPacket("ping",function(){a.emit("ping")})},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(h("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},d.prototype.write=d.prototype.send=function(a,b,c){return this.sendPacket("message",a,b,c),this},d.prototype.sendPacket=function(a,b,c,d){if("function"==typeof b&&(d=b,b=void 0),"function"==typeof c&&(d=c,c=null),"closing"!=this.readyState&&"closed"!=this.readyState){c=c||{},c.compress=!1!==c.compress;var e={type:a,data:b,options:c};this.emit("packetCreate",e),this.writeBuffer.push(e),d&&this.once("flush",d),this.flush()}},d.prototype.close=function(){function a(){d.onClose("forced close"),h("socket closing - telling transport to close"),d.transport.close()}function b(){d.removeListener("upgrade",b),d.removeListener("upgradeError",b),a()}function c(){d.once("upgrade",b),d.once("upgradeError",b)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var d=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?c():a()}):this.upgrading?c():a()}return this},d.prototype.onError=function(a){h("socket error %j",a),d.priorWebsocketSuccess=!1,this.emit("error",a),this.onClose("transport error",a)},d.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){h('socket close with reason: "%s"',a);var c=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",a,b),c.writeBuffer=[],c.prevBufferLen=0}},d.prototype.filterUpgrades=function(a){for(var b=[],c=0,d=a.length;c<d;c++)~i(this.transports,a[c])&&b.push(a[c]);return b}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(a,b,c){function d(a){this.path=a.path,this.hostname=a.hostname,this.port=a.port,this.secure=a.secure,this.query=a.query,this.timestampParam=a.timestampParam,this.timestampRequests=a.timestampRequests,this.readyState="",this.agent=a.agent||!1,this.socket=a.socket,this.enablesXDR=a.enablesXDR,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.extraHeaders=a.extraHeaders}var e=a("engine.io-parser"),f=a("component-emitter");b.exports=d,f(d.prototype),d.prototype.onError=function(a,b){var c=new Error(a);return c.type="TransportError",c.description=b,this.emit("error",c),this},d.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},d.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},d.prototype.send=function(a){if("open"!=this.readyState)throw new Error("Transport not open");this.write(a)},d.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},d.prototype.onData=function(a){var b=e.decodePacket(a,this.socket.binaryType);this.onPacket(b)},d.prototype.onPacket=function(a){this.emit("packet",a)},d.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(a,b,c){(function(b){function d(a){var c,d=!1,h=!1,i=!1!==a.jsonp;if(b.location){var j="https:"==location.protocol,k=location.port;k||(k=j?443:80),d=a.hostname!=location.hostname||k!=a.port,h=a.secure!=j}if(a.xdomain=d,a.xscheme=h,c=new e(a),"open"in c&&!a.forceJSONP)return new f(a);if(!i)throw new Error("JSONP disabled");return new g(a)}var e=a("xmlhttprequest-ssl"),f=a("./polling-xhr"),g=a("./polling-jsonp"),h=a("./websocket");c.polling=d,c.websocket=h}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(a,b,c){(function(c){function d(){}function e(a){f.call(this,a),this.query=this.query||{},h||(c.___eio||(c.___eio=[]),h=c.___eio),this.index=h.length;var b=this;h.push(function(a){b.onData(a)}),this.query.j=this.index,c.document&&c.addEventListener&&c.addEventListener("beforeunload",function(){b.script&&(b.script.onerror=d)},!1)}var f=a("./polling"),g=a("component-inherit");b.exports=e;var h,i=/\n/g,j=/\\n/g;g(e,f),e.prototype.supportsBinary=!1,e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),f.prototype.doClose.call(this)},e.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),b.async=!0,b.src=this.uri(),b.onerror=function(b){a.onError("jsonp poll error",b)};var c=document.getElementsByTagName("script")[0];c?c.parentNode.insertBefore(b,c):(document.head||document.body).appendChild(b),this.script=b;var d="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);d&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a),document.body.removeChild(a)},100)},e.prototype.doWrite=function(a,b){function c(){d(),b()}function d(){if(e.iframe)try{e.form.removeChild(e.iframe)}catch(a){e.onError("jsonp polling iframe removal error",a)}try{var b='<iframe src="javascript:0" name="'+e.iframeId+'">';f=document.createElement(b)}catch(a){f=document.createElement("iframe"),f.name=e.iframeId,f.src="javascript:0"}f.id=e.iframeId,e.form.appendChild(f),e.iframe=f}var e=this;if(!this.form){var f,g=document.createElement("form"),h=document.createElement("textarea"),k=this.iframeId="eio_iframe_"+this.index;g.className="socketio",g.style.position="absolute",g.style.top="-1000px",g.style.left="-1000px",g.target=k,g.method="POST",g.setAttribute("accept-charset","utf-8"),h.name="d",g.appendChild(h),document.body.appendChild(g),this.form=g,this.area=h}this.form.action=this.uri(),d(),a=a.replace(j,"\\\n"),this.area.value=a.replace(i,"\\n");try{this.form.submit()}catch(l){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==e.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-inherit":16}],7:[function(a,b,c){(function(c){function d(){}function e(a){if(i.call(this,a),c.location){var b="https:"==location.protocol,d=location.port;d||(d=b?443:80),this.xd=a.hostname!=c.location.hostname||d!=a.port,this.xs=a.secure!=b}else this.extraHeaders=a.extraHeaders}function f(a){this.method=a.method||"GET",this.uri=a.uri,this.xd=!!a.xd,this.xs=!!a.xs,this.async=!1!==a.async,this.data=void 0!=a.data?a.data:null,this.agent=a.agent,this.isBinary=a.isBinary,this.supportsBinary=a.supportsBinary,this.enablesXDR=a.enablesXDR,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.extraHeaders=a.extraHeaders,this.create()}function g(){for(var a in f.requests)f.requests.hasOwnProperty(a)&&f.requests[a].abort()}var h=a("xmlhttprequest-ssl"),i=a("./polling"),j=a("component-emitter"),k=a("component-inherit"),l=a("debug")("engine.io-client:polling-xhr");b.exports=e,b.exports.Request=f,k(e,i),e.prototype.supportsBinary=!0,e.prototype.request=function(a){return a=a||{},a.uri=this.uri(),a.xd=this.xd,a.xs=this.xs,a.agent=this.agent||!1,a.supportsBinary=this.supportsBinary,a.enablesXDR=this.enablesXDR,a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized,a.extraHeaders=this.extraHeaders,new f(a)},e.prototype.doWrite=function(a,b){var c="string"!=typeof a&&void 0!==a,d=this.request({method:"POST",data:a,isBinary:c}),e=this;d.on("success",b),d.on("error",function(a){e.onError("xhr post error",a)}),this.sendXhr=d},e.prototype.doPoll=function(){l("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)}),a.on("error",function(a){b.onError("xhr poll error",a)}),this.pollXhr=a},j(f.prototype),f.prototype.create=function(){var a={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized;var b=this.xhr=new h(a),d=this;try{l("xhr open %s: %s",this.method,this.uri),b.open(this.method,this.uri,this.async);try{if(this.extraHeaders){b.setDisableHeaderCheck(!0);for(var e in this.extraHeaders)this.extraHeaders.hasOwnProperty(e)&&b.setRequestHeader(e,this.extraHeaders[e])}}catch(g){}if(this.supportsBinary&&(b.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?b.setRequestHeader("Content-type","application/octet-stream"):b.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(g){}"withCredentials"in b&&(b.withCredentials=!0),this.hasXDR()?(b.onload=function(){d.onLoad()},b.onerror=function(){d.onError(b.responseText)}):b.onreadystatechange=function(){4==b.readyState&&(200==b.status||1223==b.status?d.onLoad():setTimeout(function(){d.onError(b.status)},0))},l("xhr data %s",this.data),b.send(this.data)}catch(g){return void setTimeout(function(){d.onError(g)},0)}c.document&&(this.index=f.requestsCount++,f.requests[this.index]=this)},f.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},f.prototype.onData=function(a){this.emit("data",a),this.onSuccess()},f.prototype.onError=function(a){this.emit("error",a),this.cleanup(!0)},f.prototype.cleanup=function(a){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=d:this.xhr.onreadystatechange=d,a)try{this.xhr.abort()}catch(b){}c.document&&delete f.requests[this.index],this.xhr=null}},f.prototype.onLoad=function(){var a;try{var b;try{b=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(c){}if("application/octet-stream"===b)a=this.xhr.response;else if(this.supportsBinary)try{a=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(c){for(var d=new Uint8Array(this.xhr.response),e=[],f=0,g=d.length;f<g;f++)e.push(d[f]);a=String.fromCharCode.apply(null,e)}else a=this.xhr.responseText}catch(c){this.onError(c)}null!=a&&this.onData(a)},f.prototype.hasXDR=function(){return"undefined"!=typeof c.XDomainRequest&&!this.xs&&this.enablesXDR},f.prototype.abort=function(){this.cleanup()},c.document&&(f.requestsCount=0,f.requests={},c.attachEvent?c.attachEvent("onunload",g):c.addEventListener&&c.addEventListener("beforeunload",g,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(a,b,c){function d(a){var b=a&&a.forceBase64;k&&!b||(this.supportsBinary=!1),e.call(this,a)}var e=a("../transport"),f=a("parseqs"),g=a("engine.io-parser"),h=a("component-inherit"),i=a("yeast"),j=a("debug")("engine.io-client:polling");b.exports=d;var k=function(){var b=a("xmlhttprequest-ssl"),c=new b({xdomain:!1});return null!=c.responseType}();h(d,e),d.prototype.name="polling",d.prototype.doOpen=function(){this.poll()},d.prototype.pause=function(a){function b(){j("paused"),c.readyState="paused",a()}var c=this;if(this.readyState="pausing",this.polling||!this.writable){var d=0;this.polling&&(j("we are currently polling - waiting to pause"),d++,this.once("pollComplete",function(){j("pre-pause polling complete"),--d||b()})),this.writable||(j("we are currently writing - waiting to pause"),d++,this.once("drain",function(){j("pre-pause writing complete"),--d||b()}))}else b()},d.prototype.poll=function(){j("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},d.prototype.onData=function(a){var b=this;j("polling got data %s",a);var c=function(a,c,d){return"opening"==b.readyState&&b.onOpen(),"close"==a.type?(b.onClose(),!1):void b.onPacket(a)};g.decodePayload(a,this.socket.binaryType,c),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():j('ignoring poll - transport state "%s"',this.readyState))},d.prototype.doClose=function(){function a(){j("writing close packet"),b.write([{type:"close"}])}var b=this;"open"==this.readyState?(j("transport open - closing"),a()):(j("transport not open - deferring close"),this.once("open",a))},d.prototype.write=function(a){var b=this;this.writable=!1;var c=function(){b.writable=!0,b.emit("drain")},b=this;g.encodePayload(a,this.supportsBinary,function(a){b.doWrite(a,c)})},d.prototype.uri=function(){var a=this.query||{},b=this.secure?"https":"http",c="";!1!==this.timestampRequests&&(a[this.timestampParam]=i()),this.supportsBinary||a.sid||(a.b64=1),a=f.encode(a),this.port&&("https"==b&&443!=this.port||"http"==b&&80!=this.port)&&(c=":"+this.port),a.length&&(a="?"+a);var d=this.hostname.indexOf(":")!==-1;return b+"://"+(d?"["+this.hostname+"]":this.hostname)+c+this.path+a}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(a,b,c){(function(c){function d(a){var b=a&&a.forceBase64;b&&(this.supportsBinary=!1),this.perMessageDeflate=a.perMessageDeflate,e.call(this,a)}var e=a("../transport"),f=a("engine.io-parser"),g=a("parseqs"),h=a("component-inherit"),i=a("yeast"),j=a("debug")("engine.io-client:websocket"),k=c.WebSocket||c.MozWebSocket,l=k;if(!l&&"undefined"==typeof window)try{l=a("ws")}catch(m){}b.exports=d,h(d,e),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var a=this.uri(),b=void 0,c={agent:this.agent,perMessageDeflate:this.perMessageDeflate};c.pfx=this.pfx,c.key=this.key,c.passphrase=this.passphrase,c.cert=this.cert,c.ca=this.ca,c.ciphers=this.ciphers,c.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(c.headers=this.extraHeaders),this.ws=k?new l(a):new l(a,b,c),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()},this.ws.onclose=function(){a.onClose()},this.ws.onmessage=function(b){a.onData(b.data)},this.ws.onerror=function(b){a.onError("websocket error",b)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(d.prototype.onData=function(a){var b=this;setTimeout(function(){e.prototype.onData.call(b,a)},0)}),d.prototype.write=function(a){function b(){d.emit("flush"),setTimeout(function(){d.writable=!0,d.emit("drain")},0)}var d=this;this.writable=!1;for(var e=a.length,g=0,h=e;g<h;g++)!function(a){f.encodePacket(a,d.supportsBinary,function(f){if(!k){var g={};if(a.options&&(g.compress=a.options.compress),d.perMessageDeflate){var h="string"==typeof f?c.Buffer.byteLength(f):f.length;h<d.perMessageDeflate.threshold&&(g.compress=!1)}}try{k?d.ws.send(f):d.ws.send(f,g)}catch(i){j("websocket closed before onclose event")}--e||b()})}(a[g])},d.prototype.onClose=function(){e.prototype.onClose.call(this)},d.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},d.prototype.uri=function(){var a=this.query||{},b=this.secure?"wss":"ws",c="";this.port&&("wss"==b&&443!=this.port||"ws"==b&&80!=this.port)&&(c=":"+this.port),this.timestampRequests&&(a[this.timestampParam]=i()),this.supportsBinary||(a.b64=1),a=g.encode(a),a.length&&(a="?"+a);var d=this.hostname.indexOf(":")!==-1;return b+"://"+(d?"["+this.hostname+"]":this.hostname)+c+this.path+a},d.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===d.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(a,b,c){var d=a("has-cors");b.exports=function(a){var b=a.xdomain,c=a.xscheme,e=a.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!b||d))return new XMLHttpRequest}catch(f){}try{if("undefined"!=typeof XDomainRequest&&!c&&e)return new XDomainRequest}catch(f){}if(!b)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(f){}}},{"has-cors":22}],11:[function(a,b,c){function d(a,b,c){function d(a,e){if(d.count<=0)throw new Error("after called too many times");--d.count,a?(f=!0,b(a),b=c):0!==d.count||f||b(null,e)}var f=!1;return c=c||e,d.count=a,0===a?b():d}function e(){}b.exports=d},{}],12:[function(a,b,c){b.exports=function(a,b,c){var d=a.byteLength;if(b=b||0,c=c||d,a.slice)return a.slice(b,c);if(b<0&&(b+=d),c<0&&(c+=d),c>d&&(c=d),b>=d||b>=c||0===d)return new ArrayBuffer(0);for(var e=new Uint8Array(a),f=new Uint8Array(c-b),g=b,h=0;g<c;g++,h++)f[h]=e[g];return f.buffer}},{}],13:[function(a,b,c){!function(a){"use strict";c.encode=function(b){var c,d=new Uint8Array(b),e=d.length,f="";for(c=0;c<e;c+=3)f+=a[d[c]>>2],f+=a[(3&d[c])<<4|d[c+1]>>4],f+=a[(15&d[c+1])<<2|d[c+2]>>6],f+=a[63&d[c+2]];return e%3===2?f=f.substring(0,f.length-1)+"=":e%3===1&&(f=f.substring(0,f.length-2)+"=="),f},c.decode=function(b){var c,d,e,f,g,h=.75*b.length,i=b.length,j=0;"="===b[b.length-1]&&(h--,"="===b[b.length-2]&&h--);var k=new ArrayBuffer(h),l=new Uint8Array(k);for(c=0;c<i;c+=4)d=a.indexOf(b[c]),e=a.indexOf(b[c+1]),f=a.indexOf(b[c+2]),g=a.indexOf(b[c+3]),l[j++]=d<<2|e>>4,l[j++]=(15&e)<<4|f>>2,l[j++]=(3&f)<<6|63&g;return k}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(a,b,c){(function(a){function c(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.buffer instanceof ArrayBuffer){var d=c.buffer;if(c.byteLength!==d.byteLength){var e=new Uint8Array(c.byteLength);e.set(new Uint8Array(d,c.byteOffset,c.byteLength)),d=e.buffer}a[b]=d}}}function d(a,b){b=b||{};var d=new f;c(a);for(var e=0;e<a.length;e++)d.append(a[e]);return b.type?d.getBlob(b.type):d.getBlob()}function e(a,b){return c(a),new Blob(a,b||{})}var f=a.BlobBuilder||a.WebKitBlobBuilder||a.MSBlobBuilder||a.MozBlobBuilder,g=function(){try{var a=new Blob(["hi"]);return 2===a.size}catch(b){return!1}}(),h=g&&function(){try{var a=new Blob([new Uint8Array([1,2])]);return 2===a.size}catch(b){return!1}}(),i=f&&f.prototype.append&&f.prototype.getBlob;b.exports=function(){return g?h?a.Blob:e:i?d:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],15:[function(a,b,c){function d(a){if(a)return e(a)}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}b.exports=d,d.prototype.on=d.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},d.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},c.fn=b,this.on(a,c),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];
if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;d<e;++d)c[d].apply(this,b)}return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],16:[function(a,b,c){b.exports=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],17:[function(a,b,c){function d(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function e(){var a=arguments,b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff),!b)return a;var d="color: "+this.color;a=[a[0],d,"color: inherit"].concat(Array.prototype.slice.call(a,1));var e=0,f=0;return a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d),a}function f(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(a){try{null==a?c.storage.removeItem("debug"):c.storage.debug=a}catch(b){}}function h(){var a;try{a=c.storage.debug}catch(b){}return a}function i(){try{return window.localStorage}catch(a){}}c=b.exports=a("./debug"),c.log=f,c.formatArgs=e,c.save=g,c.load=h,c.useColors=d,c.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:i(),c.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],c.formatters.j=function(a){return JSON.stringify(a)},c.enable(h())},{"./debug":18}],18:[function(a,b,c){function d(){return c.colors[k++%c.colors.length]}function e(a){function b(){}function e(){var a=e,b=+new Date,f=b-(j||b);a.diff=f,a.prev=j,a.curr=b,j=b,null==a.useColors&&(a.useColors=c.useColors()),null==a.color&&a.useColors&&(a.color=d());var g=Array.prototype.slice.call(arguments);g[0]=c.coerce(g[0]),"string"!=typeof g[0]&&(g=["%o"].concat(g));var h=0;g[0]=g[0].replace(/%([a-z%])/g,function(b,d){if("%%"===b)return b;h++;var e=c.formatters[d];if("function"==typeof e){var f=g[h];b=e.call(a,f),g.splice(h,1),h--}return b}),"function"==typeof c.formatArgs&&(g=c.formatArgs.apply(a,g));var i=e.log||c.log||console.log.bind(console);i.apply(a,g)}b.enabled=!1,e.enabled=!0;var f=c.enabled(a)?e:b;return f.namespace=a,f}function f(a){c.save(a);for(var b=(a||"").split(/[\s,]+/),d=b.length,e=0;e<d;e++)b[e]&&(a=b[e].replace(/\*/g,".*?"),"-"===a[0]?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$")))}function g(){c.enable("")}function h(a){var b,d;for(b=0,d=c.skips.length;b<d;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;b<d;b++)if(c.names[b].test(a))return!0;return!1}function i(a){return a instanceof Error?a.stack||a.message:a}c=b.exports=e,c.coerce=i,c.disable=g,c.enable=f,c.enabled=h,c.humanize=a("ms"),c.names=[],c.skips=[],c.formatters={};var j,k=0},{ms:25}],19:[function(a,b,c){(function(b){function d(a,b){var d="b"+c.packets[a.type]+a.data.data;return b(d)}function e(a,b,d){if(!b)return c.encodeBase64Packet(a,d);var e=a.data,f=new Uint8Array(e),g=new Uint8Array(1+e.byteLength);g[0]=r[a.type];for(var h=0;h<f.length;h++)g[h+1]=f[h];return d(g.buffer)}function f(a,b,d){if(!b)return c.encodeBase64Packet(a,d);var e=new FileReader;return e.onload=function(){a.data=e.result,c.encodePacket(a,b,!0,d)},e.readAsArrayBuffer(a.data)}function g(a,b,d){if(!b)return c.encodeBase64Packet(a,d);if(q)return f(a,b,d);var e=new Uint8Array(1);e[0]=r[a.type];var g=new u([e.buffer,a.data]);return d(g)}function h(a,b,c){for(var d=new Array(a.length),e=m(a.length,c),f=function(a,c,e){b(c,function(b,c){d[a]=c,e(b,d)})},g=0;g<a.length;g++)f(g,a[g],e)}var i=a("./keys"),j=a("has-binary"),k=a("arraybuffer.slice"),l=a("base64-arraybuffer"),m=a("after"),n=a("utf8"),o=navigator.userAgent.match(/Android/i),p=/PhantomJS/i.test(navigator.userAgent),q=o||p;c.protocol=3;var r=c.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},s=i(r),t={type:"error",data:"parser error"},u=a("blob");c.encodePacket=function(a,c,f,h){"function"==typeof c&&(h=c,c=!1),"function"==typeof f&&(h=f,f=null);var i=void 0===a.data?void 0:a.data.buffer||a.data;if(b.ArrayBuffer&&i instanceof ArrayBuffer)return e(a,c,h);if(u&&i instanceof b.Blob)return g(a,c,h);if(i&&i.base64)return d(a,h);var j=r[a.type];return void 0!==a.data&&(j+=f?n.encode(String(a.data)):String(a.data)),h(""+j)},c.encodeBase64Packet=function(a,d){var e="b"+c.packets[a.type];if(u&&a.data instanceof b.Blob){var f=new FileReader;return f.onload=function(){var a=f.result.split(",")[1];d(e+a)},f.readAsDataURL(a.data)}var g;try{g=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(h){for(var i=new Uint8Array(a.data),j=new Array(i.length),k=0;k<i.length;k++)j[k]=i[k];g=String.fromCharCode.apply(null,j)}return e+=b.btoa(g),d(e)},c.decodePacket=function(a,b,d){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return c.decodeBase64Packet(a.substr(1),b);if(d)try{a=n.decode(a)}catch(e){return t}var f=a.charAt(0);return Number(f)==f&&s[f]?a.length>1?{type:s[f],data:a.substring(1)}:{type:s[f]}:t}var g=new Uint8Array(a),f=g[0],h=k(a,1);return u&&"blob"===b&&(h=new u([h])),{type:s[f],data:h}},c.decodeBase64Packet=function(a,c){var d=s[a.charAt(0)];if(!b.ArrayBuffer)return{type:d,data:{base64:!0,data:a.substr(1)}};var e=l.decode(a.substr(1));return"blob"===c&&u&&(e=new u([e])),{type:d,data:e}},c.encodePayload=function(a,b,d){function e(a){return a.length+":"+a}function f(a,d){c.encodePacket(a,!!g&&b,!0,function(a){d(null,e(a))})}"function"==typeof b&&(d=b,b=null);var g=j(a);return b&&g?u&&!q?c.encodePayloadAsBlob(a,d):c.encodePayloadAsArrayBuffer(a,d):a.length?void h(a,f,function(a,b){return d(b.join(""))}):d("0:")},c.decodePayload=function(a,b,d){if("string"!=typeof a)return c.decodePayloadAsBinary(a,b,d);"function"==typeof b&&(d=b,b=null);var e;if(""==a)return d(t,0,1);for(var f,g,h="",i=0,j=a.length;i<j;i++){var k=a.charAt(i);if(":"!=k)h+=k;else{if(""==h||h!=(f=Number(h)))return d(t,0,1);if(g=a.substr(i+1,f),h!=g.length)return d(t,0,1);if(g.length){if(e=c.decodePacket(g,b,!0),t.type==e.type&&t.data==e.data)return d(t,0,1);var l=d(e,i+f,j);if(!1===l)return}i+=f,h=""}}return""!=h?d(t,0,1):void 0},c.encodePayloadAsArrayBuffer=function(a,b){function d(a,b){c.encodePacket(a,!0,!0,function(a){return b(null,a)})}return a.length?void h(a,d,function(a,c){var d=c.reduce(function(a,b){var c;return c="string"==typeof b?b.length:b.byteLength,a+c.toString().length+c+2},0),e=new Uint8Array(d),f=0;return c.forEach(function(a){var b="string"==typeof a,c=a;if(b){for(var d=new Uint8Array(a.length),g=0;g<a.length;g++)d[g]=a.charCodeAt(g);c=d.buffer}b?e[f++]=0:e[f++]=1;for(var h=c.byteLength.toString(),g=0;g<h.length;g++)e[f++]=parseInt(h[g]);e[f++]=255;for(var d=new Uint8Array(c),g=0;g<d.length;g++)e[f++]=d[g]}),b(e.buffer)}):b(new ArrayBuffer(0))},c.encodePayloadAsBlob=function(a,b){function d(a,b){c.encodePacket(a,!0,!0,function(a){var c=new Uint8Array(1);if(c[0]=1,"string"==typeof a){for(var d=new Uint8Array(a.length),e=0;e<a.length;e++)d[e]=a.charCodeAt(e);a=d.buffer,c[0]=0}for(var f=a instanceof ArrayBuffer?a.byteLength:a.size,g=f.toString(),h=new Uint8Array(g.length+1),e=0;e<g.length;e++)h[e]=parseInt(g[e]);if(h[g.length]=255,u){var i=new u([c.buffer,h.buffer,a]);b(null,i)}})}h(a,d,function(a,c){return b(new u(c))})},c.decodePayloadAsBinary=function(a,b,d){"function"==typeof b&&(d=b,b=null);for(var e=a,f=[],g=!1;e.byteLength>0;){for(var h=new Uint8Array(e),i=0===h[0],j="",l=1;255!=h[l];l++){if(j.length>310){g=!0;break}j+=h[l]}if(g)return d(t,0,1);e=k(e,2+j.length),j=parseInt(j);var m=k(e,0,j);if(i)try{m=String.fromCharCode.apply(null,new Uint8Array(m))}catch(n){var o=new Uint8Array(m);m="";for(var l=0;l<o.length;l++)m+=String.fromCharCode(o[l])}f.push(m),e=k(e,j)}var p=f.length;f.forEach(function(a,e){d(c.decodePacket(a,b,!0),e,p)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(a,b,c){b.exports=Object.keys||function(a){var b=[],c=Object.prototype.hasOwnProperty;for(var d in a)c.call(a,d)&&b.push(d);return b}},{}],21:[function(a,b,c){(function(c){function d(a){function b(a){if(!a)return!1;if(c.Buffer&&c.Buffer.isBuffer(a)||c.ArrayBuffer&&a instanceof ArrayBuffer||c.Blob&&a instanceof Blob||c.File&&a instanceof File)return!0;if(e(a)){for(var d=0;d<a.length;d++)if(b(a[d]))return!0}else if(a&&"object"==typeof a){a.toJSON&&(a=a.toJSON());for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)&&b(a[f]))return!0}return!1}return b(a)}var e=a("isarray");b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:24}],22:[function(a,b,c){try{b.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(d){b.exports=!1}},{}],23:[function(a,b,c){var d=[].indexOf;b.exports=function(a,b){if(d)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}},{}],24:[function(a,b,c){b.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}],25:[function(a,b,c){function d(a){if(a=""+a,!(a.length>1e4)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),d=(b[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return c*l;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"hrs":case"hr":case"h":return c*j;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*h;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c}}}}function e(a){return a>=k?Math.round(a/k)+"d":a>=j?Math.round(a/j)+"h":a>=i?Math.round(a/i)+"m":a>=h?Math.round(a/h)+"s":a+"ms"}function f(a){return g(a,k,"day")||g(a,j,"hour")||g(a,i,"minute")||g(a,h,"second")||a+" ms"}function g(a,b,c){if(!(a<b))return a<1.5*b?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var h=1e3,i=60*h,j=60*i,k=24*j,l=365.25*k;b.exports=function(a,b){return b=b||{},"string"==typeof a?d(a):b["long"]?f(a):e(a)}},{}],26:[function(a,b,c){(function(a){var c=/^[\],:{}\s]*$/,d=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,e=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,f=/(?:^|:|,)(?:\s*\[)+/g,g=/^\s+/,h=/\s+$/;b.exports=function(b){return"string"==typeof b&&b?(b=b.replace(g,"").replace(h,""),a.JSON&&JSON.parse?JSON.parse(b):c.test(b.replace(d,"@").replace(e,"]").replace(f,""))?new Function("return "+b)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],27:[function(a,b,c){c.encode=function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b.length&&(b+="&"),b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b},c.decode=function(a){for(var b={},c=a.split("&"),d=0,e=c.length;d<e;d++){var f=c[d].split("=");b[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return b}},{}],28:[function(a,b,c){var d=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];b.exports=function(a){var b=a,c=a.indexOf("["),f=a.indexOf("]");c!=-1&&f!=-1&&(a=a.substring(0,c)+a.substring(c,f).replace(/:/g,";")+a.substring(f,a.length));for(var g=d.exec(a||""),h={},i=14;i--;)h[e[i]]=g[i]||"";return c!=-1&&f!=-1&&(h.source=b,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h}},{}],29:[function(b,c,d){(function(b){!function(e){function f(a){for(var b,c,d=[],e=0,f=a.length;e<f;)b=a.charCodeAt(e++),b>=55296&&b<=56319&&e<f?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function g(a){for(var b,c=a.length,d=-1,e="";++d<c;)b=a[d],b>65535&&(b-=65536,e+=u(b>>>10&1023|55296),b=56320|1023&b),e+=u(b);return e}function h(a){if(a>=55296&&a<=57343)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value")}function i(a,b){return u(a>>b&63|128)}function j(a){if(0==(4294967168&a))return u(a);var b="";return 0==(4294965248&a)?b=u(a>>6&31|192):0==(4294901760&a)?(h(a),b=u(a>>12&15|224),b+=i(a,6)):0==(4292870144&a)&&(b=u(a>>18&7|240),b+=i(a,12),b+=i(a,6)),b+=u(63&a|128)}function k(a){for(var b,c=f(a),d=c.length,e=-1,g="";++e<d;)b=c[e],g+=j(b);return g}function l(){if(t>=s)throw Error("Invalid byte index");var a=255&r[t];if(t++,128==(192&a))return 63&a;throw Error("Invalid continuation byte")}function m(){var a,b,c,d,e;if(t>s)throw Error("Invalid byte index");if(t==s)return!1;if(a=255&r[t],t++,0==(128&a))return a;if(192==(224&a)){var b=l();if(e=(31&a)<<6|b,e>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&a)){if(b=l(),c=l(),e=(15&a)<<12|b<<6|c,e>=2048)return h(e),e;throw Error("Invalid continuation byte")}if(240==(248&a)&&(b=l(),c=l(),d=l(),e=(15&a)<<18|b<<12|c<<6|d,e>=65536&&e<=1114111))return e;throw Error("Invalid UTF-8 detected")}function n(a){r=f(a),s=r.length,t=0;for(var b,c=[];(b=m())!==!1;)c.push(b);return g(c)}var o="object"==typeof d&&d,p="object"==typeof c&&c&&c.exports==o&&c,q="object"==typeof b&&b;q.global!==q&&q.window!==q||(e=q);var r,s,t,u=String.fromCharCode,v={version:"2.0.0",encode:k,decode:n};if("function"==typeof a&&"object"==typeof a.amd&&a.amd)a("static/js/exchange/dist/script/module_socket_io",[],function(){return v});else if(o&&!o.nodeType)if(p)p.exports=v;else{var w={},x=w.hasOwnProperty;for(var y in v)x.call(v,y)&&(o[y]=v[y])}else e.utf8=v}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],30:[function(a,b,c){"use strict";function d(a){var b="";do b=h[a%i]+b,a=Math.floor(a/i);while(a>0);return b}function e(a){var b=0;for(l=0;l<a.length;l++)b=b*i+j[a.charAt(l)];return b}function f(){var a=d(+new Date);return a!==g?(k=0,g=a):a+"."+d(k++)}for(var g,h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,j={},k=0,l=0;l<i;l++)j[h[l]]=l;f.encode=d,f.decode=e,b.exports=f},{}],31:[function(a,b,c){function d(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d=e(a),f=d.source,j=d.id,k=d.path,l=i[j]&&k in i[j].nsps,m=b.forceNew||b["force new connection"]||!1===b.multiplex||l;return m?(h("ignoring socket cache for %s",f),c=g(f,b)):(i[j]||(h("new io instance for %s",f),i[j]=g(f,b)),c=i[j]),c.socket(d.path)}var e=a("./url"),f=a("socket.io-parser"),g=a("./manager"),h=a("debug")("socket.io-client");b.exports=c=d;var i=c.managers={};c.protocol=f.protocol,c.connect=d,c.Manager=a("./manager"),c.Socket=a("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(a,b,c){function d(a,b){return this instanceof d?(a&&"object"==typeof a&&(b=a,a=void 0),b=b||{},b.path=b.path||"/socket.io",this.nsps={},this.subs=[],this.opts=b,this.reconnection(b.reconnection!==!1),this.reconnectionAttempts(b.reconnectionAttempts||1/0),this.reconnectionDelay(b.reconnectionDelay||1e3),this.reconnectionDelayMax(b.reconnectionDelayMax||5e3),this.randomizationFactor(b.randomizationFactor||.5),this.backoff=new m({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==b.timeout?2e4:b.timeout),this.readyState="closed",this.uri=a,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new h.Encoder,this.decoder=new h.Decoder,this.autoConnect=b.autoConnect!==!1,void(this.autoConnect&&this.open())):new d(a,b)}var e=a("engine.io-client"),f=a("./socket"),g=a("component-emitter"),h=a("socket.io-parser"),i=a("./on"),j=a("component-bind"),k=a("debug")("socket.io-client:manager"),l=a("indexof"),m=a("backo2"),n=Object.prototype.hasOwnProperty;b.exports=d,d.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)n.call(this.nsps,a)&&this.nsps[a].emit.apply(this.nsps[a],arguments)},d.prototype.updateSocketIds=function(){for(var a in this.nsps)n.call(this.nsps,a)&&(this.nsps[a].id=this.engine.id)},g(d.prototype),d.prototype.reconnection=function(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection},d.prototype.reconnectionAttempts=function(a){return arguments.length?(this._reconnectionAttempts=a,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(a){return arguments.length?(this._reconnectionDelay=a,this.backoff&&this.backoff.setMin(a),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(a){return arguments.length?(this._randomizationFactor=a,this.backoff&&this.backoff.setJitter(a),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(a){return arguments.length?(this._reconnectionDelayMax=a,this.backoff&&this.backoff.setMax(a),this):this._reconnectionDelayMax},d.prototype.timeout=function(a){return arguments.length?(this._timeout=a,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(a){if(k("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;k("opening %s",this.uri),this.engine=e(this.uri,this.opts);var b=this.engine,c=this;this.readyState="opening",this.skipReconnect=!1;var d=i(b,"open",function(){c.onopen(),a&&a()}),f=i(b,"error",function(b){if(k("connect_error"),c.cleanup(),c.readyState="closed",c.emitAll("connect_error",b),a){var d=new Error("Connection error");d.data=b,a(d)}else c.maybeReconnectOnOpen()});if(!1!==this._timeout){var g=this._timeout;k("connect attempt will timeout after %d",g);var h=setTimeout(function(){k("connect attempt timed out after %d",g),d.destroy(),b.close(),b.emit("error","timeout"),c.emitAll("connect_timeout",g)},g);this.subs.push({destroy:function(){clearTimeout(h)}})}return this.subs.push(d),this.subs.push(f),this},d.prototype.onopen=function(){k("open"),this.cleanup(),this.readyState="open",this.emit("open");var a=this.engine;this.subs.push(i(a,"data",j(this,"ondata"))),this.subs.push(i(a,"ping",j(this,"onping"))),this.subs.push(i(a,"pong",j(this,"onpong"))),this.subs.push(i(a,"error",j(this,"onerror"))),this.subs.push(i(a,"close",j(this,"onclose"))),this.subs.push(i(this.decoder,"decoded",j(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(a){this.decoder.add(a)},d.prototype.ondecoded=function(a){this.emit("packet",a)},d.prototype.onerror=function(a){k("error",a),this.emitAll("error",a)},d.prototype.socket=function(a){function b(){~l(d.connecting,c)||d.connecting.push(c)}var c=this.nsps[a];if(!c){c=new f(this,a),this.nsps[a]=c;var d=this;c.on("connecting",b),c.on("connect",function(){c.id=d.engine.id}),this.autoConnect&&b()}return c},d.prototype.destroy=function(a){var b=l(this.connecting,a);~b&&this.connecting.splice(b,1),this.connecting.length||this.close()},d.prototype.packet=function(a){k("writing packet %j",a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(c){for(var d=0;d<c.length;d++)b.engine.write(c[d],a.options);b.encoding=!1,b.processPacketQueue()}))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}},d.prototype.cleanup=function(){k("cleanup");for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){k("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(a){k("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",a),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)k("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.backoff.duration();k("will wait %dms before reconnect attempt",b),this.reconnecting=!0;var c=setTimeout(function(){a.skipReconnect||(k("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(b){b?(k("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(k("reconnect success"),a.onreconnect())}))},b);this.subs.push({destroy:function(){clearTimeout(c)}})}},d.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",a)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(a,b,c){function d(a,b,c){return a.on(b,c),{destroy:function(){a.removeListener(b,c)}}}b.exports=d},{}],34:[function(a,b,c){function d(a,b){this.io=a,this.nsp=b,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var e=a("socket.io-parser"),f=a("component-emitter"),g=a("to-array"),h=a("./on"),i=a("component-bind"),j=a("debug")("socket.io-client:socket"),k=a("has-binary");b.exports=c=d;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},m=f.prototype.emit;f(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[h(a,"open",i(this,"onopen")),h(a,"packet",i(this,"onpacket")),h(a,"close",i(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},d.prototype.send=function(){var a=g(arguments);return a.unshift("message"),this.emit.apply(this,a),this},d.prototype.emit=function(a){if(l.hasOwnProperty(a))return m.apply(this,arguments),this;var b=g(arguments),c=e.EVENT;k(b)&&(c=e.BINARY_EVENT);var d={type:c,data:b};return d.options={},d.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof b[b.length-1]&&(j("emitting packet with ack id %d",this.ids),this.acks[this.ids]=b.pop(),d.id=this.ids++),this.connected?this.packet(d):this.sendBuffer.push(d),delete this.flags,this},d.prototype.packet=function(a){a.nsp=this.nsp,this.io.packet(a)},d.prototype.onopen=function(){j("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:e.CONNECT})},d.prototype.onclose=function(a){j("close (%s)",a),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",a)},d.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case e.CONNECT:this.onconnect();break;case e.EVENT:this.onevent(a);break;case e.BINARY_EVENT:this.onevent(a);break;case e.ACK:this.onack(a);break;case e.BINARY_ACK:this.onack(a);break;case e.DISCONNECT:this.ondisconnect();break;case e.ERROR:this.emit("error",a.data)}},d.prototype.onevent=function(a){var b=a.data||[];j("emitting event %j",b),null!=a.id&&(j("attaching ack callback to event"),b.push(this.ack(a.id))),this.connected?m.apply(this,b):this.receiveBuffer.push(b)},d.prototype.ack=function(a){var b=this,c=!1;return function(){if(!c){c=!0;var d=g(arguments);j("sending ack %j",d);var f=k(d)?e.BINARY_ACK:e.ACK;b.packet({type:f,id:a,data:d})}}},d.prototype.onack=function(a){var b=this.acks[a.id];"function"==typeof b?(j("calling ack %s with %j",a.id,a.data),b.apply(this,a.data),delete this.acks[a.id]):j("bad ack %s",a.id)},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},d.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)m.apply(this,this.receiveBuffer[a]);for(this.receiveBuffer=[],a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){j("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(j("performing disconnect (%s)",this.nsp),this.packet({type:e.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},d.prototype.compress=function(a){return this.flags=this.flags||{},this.flags.compress=a,this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(a,b,c){(function(c){function d(a,b){var d=a,b=b||c.location;null==a&&(a=b.protocol+"//"+b.host),"string"==typeof a&&("/"==a.charAt(0)&&(a="/"==a.charAt(1)?b.protocol+a:b.host+a),/^(https?|wss?):\/\//.test(a)||(f("protocol-less url %s",a),a="undefined"!=typeof b?b.protocol+"//"+a:"https://"+a),f("parse %s",a),d=e(a)),d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&(d.port="443")),d.path=d.path||"/";var g=d.host.indexOf(":")!==-1,h=g?"["+d.host+"]":d.host;return d.id=d.protocol+"://"+h+":"+d.port,d.href=d.protocol+"://"+h+(b&&b.port==d.port?"":":"+d.port),d}var e=a("parseuri"),f=a("debug")("socket.io-client:url");b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{debug:39,parseuri:45}],36:[function(a,b,c){function d(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}b.exports=d,d.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var b=Math.random(),c=Math.floor(b*this.jitter*a);a=0==(1&Math.floor(10*b))?a-c:a+c}return 0|Math.min(a,this.max)},d.prototype.reset=function(){this.attempts=0},d.prototype.setMin=function(a){this.ms=a},d.prototype.setMax=function(a){this.max=a},d.prototype.setJitter=function(a){this.jitter=a}},{}],37:[function(a,b,c){var d=[].slice;b.exports=function(a,b){if("string"==typeof b&&(b=a[b]),"function"!=typeof b)throw new Error("bind() requires a function");var c=d.call(arguments,2);return function(){return b.apply(a,c.concat(d.call(arguments)))}}},{}],38:[function(a,b,c){function d(a){if(a)return e(a)}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}b.exports=d,d.prototype.on=d.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(b),this},d.prototype.once=function(a,b){function c(){this.off(a,c),b.apply(this,arguments)}return c.fn=b,this.on(a,c),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks["$"+a];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks["$"+a];if(c){c=c.slice(0);for(var d=0,e=c.length;d<e;++d)c[d].apply(this,b)}return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],39:[function(a,b,c){arguments[4][17][0].apply(c,arguments)},{"./debug":40,dup:17}],40:[function(a,b,c){arguments[4][18][0].apply(c,arguments)},{dup:18,ms:44}],41:[function(a,b,c){(function(c){function d(a){function b(a){if(!a)return!1;if(c.Buffer&&c.Buffer.isBuffer&&c.Buffer.isBuffer(a)||c.ArrayBuffer&&a instanceof ArrayBuffer||c.Blob&&a instanceof Blob||c.File&&a instanceof File)return!0;if(e(a)){for(var d=0;d<a.length;d++)if(b(a[d]))return!0}else if(a&&"object"==typeof a){a.toJSON&&"function"==typeof a.toJSON&&(a=a.toJSON());for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)&&b(a[f]))return!0}return!1}return b(a)}var e=a("isarray");b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:43}],42:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],43:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],44:[function(a,b,c){arguments[4][25][0].apply(c,arguments)},{dup:25}],45:[function(a,b,c){arguments[4][28][0].apply(c,arguments)},{dup:28}],46:[function(a,b,c){(function(b){var d=a("isarray"),e=a("./is-buffer");c.deconstructPacket=function(a){function b(a){if(!a)return a;if(e(a)){var f={_placeholder:!0,num:c.length};return c.push(a),f}if(d(a)){for(var g=new Array(a.length),h=0;h<a.length;h++)g[h]=b(a[h]);return g}if("object"==typeof a&&!(a instanceof Date)){var g={};for(var i in a)g[i]=b(a[i]);return g}return a}var c=[],f=a.data,g=a;return g.data=b(f),g.attachments=c.length,{packet:g,buffers:c}},c.reconstructPacket=function(a,b){function c(a){if(a&&a._placeholder){var e=b[a.num];return e}if(d(a)){for(var f=0;f<a.length;f++)a[f]=c(a[f]);return a}if(a&&"object"==typeof a){for(var g in a)a[g]=c(a[g]);return a}return a}return a.data=c(a.data),a.attachments=void 0,a},c.removeBlobs=function(a,c){function f(a,i,j){if(!a)return a;if(b.Blob&&a instanceof Blob||b.File&&a instanceof File){g++;var k=new FileReader;k.onload=function(){j?j[i]=this.result:h=this.result,--g||c(h)},k.readAsArrayBuffer(a)}else if(d(a))for(var l=0;l<a.length;l++)f(a[l],l,a);else if(a&&"object"==typeof a&&!e(a))for(var m in a)f(a[m],m,a)}var g=0,h=a;f(h),g||c(h)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./is-buffer":48,isarray:43}],47:[function(a,b,c){function d(){}function e(a){var b="",d=!1;return b+=a.type,c.BINARY_EVENT!=a.type&&c.BINARY_ACK!=a.type||(b+=a.attachments,b+="-"),a.nsp&&"/"!=a.nsp&&(d=!0,b+=a.nsp),null!=a.id&&(d&&(b+=",",d=!1),b+=a.id),null!=a.data&&(d&&(b+=","),b+=l.stringify(a.data)),k("encoded %j as %s",a,b),b}function f(a,b){function c(a){var c=n.deconstructPacket(a),d=e(c.packet),f=c.buffers;f.unshift(d),b(f)}n.removeBlobs(a,c)}function g(){this.reconstructor=null}function h(a){var b={},d=0;if(b.type=Number(a.charAt(0)),null==c.types[b.type])return j();if(c.BINARY_EVENT==b.type||c.BINARY_ACK==b.type){for(var e="";"-"!=a.charAt(++d)&&(e+=a.charAt(d),d!=a.length););if(e!=Number(e)||"-"!=a.charAt(d))throw new Error("Illegal attachments");b.attachments=Number(e)}if("/"==a.charAt(d+1))for(b.nsp="";++d;){var f=a.charAt(d);if(","==f)break;if(b.nsp+=f,d==a.length)break}else b.nsp="/";var g=a.charAt(d+1);if(""!==g&&Number(g)==g){for(b.id="";++d;){var f=a.charAt(d);if(null==f||Number(f)!=f){--d;break}if(b.id+=a.charAt(d),d==a.length)break}b.id=Number(b.id);
}if(a.charAt(++d))try{b.data=l.parse(a.substr(d))}catch(h){return j()}return k("decoded %s as %j",a,b),b}function i(a){this.reconPack=a,this.buffers=[]}function j(a){return{type:c.ERROR,data:"parser error"}}var k=a("debug")("socket.io-parser"),l=a("json3"),m=(a("isarray"),a("component-emitter")),n=a("./binary"),o=a("./is-buffer");c.protocol=4,c.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],c.CONNECT=0,c.DISCONNECT=1,c.EVENT=2,c.ACK=3,c.ERROR=4,c.BINARY_EVENT=5,c.BINARY_ACK=6,c.Encoder=d,c.Decoder=g,d.prototype.encode=function(a,b){if(k("encoding packet %j",a),c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)f(a,b);else{var d=e(a);b([d])}},m(g.prototype),g.prototype.add=function(a){var b;if("string"==typeof a)b=h(a),c.BINARY_EVENT==b.type||c.BINARY_ACK==b.type?(this.reconstructor=new i(b),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",b)):this.emit("decoded",b);else{if(!o(a)&&!a.base64)throw new Error("Unknown type: "+a);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");b=this.reconstructor.takeBinaryData(a),b&&(this.reconstructor=null,this.emit("decoded",b))}},g.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},i.prototype.takeBinaryData=function(a){if(this.buffers.push(a),this.buffers.length==this.reconPack.attachments){var b=n.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),b}return null},i.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(a,b,c){(function(a){function c(b){return a.Buffer&&a.Buffer.isBuffer(b)||a.ArrayBuffer&&b instanceof ArrayBuffer}b.exports=c}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],49:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{dup:15}],50:[function(b,c,d){(function(b){(function(){function e(a,b){function c(a){if(c[a]!==q)return c[a];var e;if("bug-string-char-index"==a)e="a"!="a"[0];else if("json"==a)e=c("json-stringify")&&c("json-parse");else{var g,h='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var i=b.stringify,k="function"==typeof i&&t;if(k){(g=function(){return 1}).toJSON=g;try{k="0"===i(0)&&"0"===i(new d)&&'""'==i(new f)&&i(s)===q&&i(q)===q&&i()===q&&"1"===i(g)&&"[1]"==i([g])&&"[null]"==i([q])&&"null"==i(null)&&"[null,null,null]"==i([q,s,null])&&i({a:[g,!0,!1,null,"\0\b\n\f\r\t"]})==h&&"1"===i(null,g)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new j((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==i(new j(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new j((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==i(new j((-1)))}catch(l){k=!1}}e=k}if("json-parse"==a){var m=b.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){g=m(h);var n=5==g.a.length&&1===g.a[0];if(n){try{n=!m('"\t"')}catch(l){}if(n)try{n=1!==m("01")}catch(l){}if(n)try{n=1!==m("1.")}catch(l){}}}}catch(l){n=!1}e=n}}return c[a]=!!e}a||(a=i.Object()),b||(b=i.Object());var d=a.Number||i.Number,f=a.String||i.String,h=a.Object||i.Object,j=a.Date||i.Date,k=a.SyntaxError||i.SyntaxError,l=a.TypeError||i.TypeError,m=a.Math||i.Math,n=a.JSON||i.JSON;"object"==typeof n&&n&&(b.stringify=n.stringify,b.parse=n.parse);var o,p,q,r=h.prototype,s=r.toString,t=new j((-0xc782b5b800cec));try{t=t.getUTCFullYear()==-109252&&0===t.getUTCMonth()&&1===t.getUTCDate()&&10==t.getUTCHours()&&37==t.getUTCMinutes()&&6==t.getUTCSeconds()&&708==t.getUTCMilliseconds()}catch(u){}if(!c("json")){var v="[object Function]",w="[object Date]",x="[object Number]",y="[object String]",z="[object Array]",A="[object Boolean]",B=c("bug-string-char-index");if(!t)var C=m.floor,D=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(a,b){return D[b]+365*(a-1970)+C((a-1969+(b=+(b>1)))/4)-C((a-1901+b)/100)+C((a-1601+b)/400)};if((o=r.hasOwnProperty)||(o=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=s?o=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,o=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,o.call(this,a)}),p=function(a,b){var c,d,e,f=0;(c=function(){this.valueOf=0}).prototype.valueOf=0,d=new c;for(e in d)o.call(d,e)&&f++;return c=d=null,f?p=2==f?function(a,b){var c,d={},e=s.call(a)==v;for(c in a)e&&"prototype"==c||o.call(d,c)||!(d[c]=1)||!o.call(a,c)||b(c)}:function(a,b){var c,d,e=s.call(a)==v;for(c in a)e&&"prototype"==c||!o.call(a,c)||(d="constructor"===c)||b(c);(d||o.call(a,c="constructor"))&&b(c)}:(d=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(a,b){var c,e,f=s.call(a)==v,h=!f&&"function"!=typeof a.constructor&&g[typeof a.hasOwnProperty]&&a.hasOwnProperty||o;for(c in a)f&&"prototype"==c||!h.call(a,c)||b(c);for(e=d.length;c=d[--e];h.call(a,c)&&b(c));}),p(a,b)},!c("json-stringify")){var F={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},G="000000",H=function(a,b){return(G+(b||0)).slice(-a)},I="\\u00",J=function(a){for(var b='"',c=0,d=a.length,e=!B||d>10,f=e&&(B?a.split(""):a);c<d;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=F[g];break;default:if(g<32){b+=I+H(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+'"'},K=function(a,b,c,d,e,f,g){var h,i,j,k,m,n,r,t,u,v,B,D,F,G,I,L;try{h=b[a]}catch(M){}if("object"==typeof h&&h)if(i=s.call(h),i!=w||o.call(h,"toJSON"))"function"==typeof h.toJSON&&(i!=x&&i!=y&&i!=z||o.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&h<1/0){if(E){for(m=C(h/864e5),j=C(m/365.2425)+1970-1;E(j+1,0)<=m;j++);for(k=C((m-E(j,0))/30.42);E(j,k+1)<=m;k++);m=1+m-E(j,k),n=(h%864e5+864e5)%864e5,r=C(n/36e5)%24,t=C(n/6e4)%60,u=C(n/1e3)%60,v=n%1e3}else j=h.getUTCFullYear(),k=h.getUTCMonth(),m=h.getUTCDate(),r=h.getUTCHours(),t=h.getUTCMinutes(),u=h.getUTCSeconds(),v=h.getUTCMilliseconds();h=(j<=0||j>=1e4?(j<0?"-":"+")+H(6,j<0?-j:j):H(4,j))+"-"+H(2,k+1)+"-"+H(2,m)+"T"+H(2,r)+":"+H(2,t)+":"+H(2,u)+"."+H(3,v)+"Z"}else h=null;if(c&&(h=c.call(b,a,h)),null===h)return"null";if(i=s.call(h),i==A)return""+h;if(i==x)return h>-1/0&&h<1/0?""+h:"null";if(i==y)return J(""+h);if("object"==typeof h){for(G=g.length;G--;)if(g[G]===h)throw l();if(g.push(h),B=[],I=f,f+=e,i==z){for(F=0,G=h.length;F<G;F++)D=K(F,h,c,d,e,f,g),B.push(D===q?"null":D);L=B.length?e?"[\n"+f+B.join(",\n"+f)+"\n"+I+"]":"["+B.join(",")+"]":"[]"}else p(d||h,function(a){var b=K(a,h,c,d,e,f,g);b!==q&&B.push(J(a)+":"+(e?" ":"")+b)}),L=B.length?e?"{\n"+f+B.join(",\n"+f)+"\n"+I+"}":"{"+B.join(",")+"}":"{}";return g.pop(),L}};b.stringify=function(a,b,c){var d,e,f,h;if(g[typeof b]&&b)if((h=s.call(b))==v)e=b;else if(h==z){f={};for(var i,j=0,k=b.length;j<k;i=b[j++],h=s.call(i),(h==y||h==x)&&(f[i]=1));}if(c)if((h=s.call(c))==x){if((c-=c%1)>0)for(d="",c>10&&(c=10);d.length<c;d+=" ");}else h==y&&(d=c.length<=10?c:c.slice(0,10));return K("",(i={},i[""]=a,i),e,f,d,"",[])}}if(!c("json-parse")){var L,M,N=f.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},P=function(){throw L=M=null,k()},Q=function(){for(var a,b,c,d,e,f=M,g=f.length;L<g;)switch(e=f.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=B?f.charAt(L):f[L],L++,a;case 34:for(a="@",L++;L<g;)if(e=f.charCodeAt(L),e<32)P();else if(92==e)switch(e=f.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=O[e],L++;break;case 117:for(b=++L,c=L+4;L<c;L++)e=f.charCodeAt(L),e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70||P();a+=N("0x"+f.slice(b,L));break;default:P()}else{if(34==e)break;for(e=f.charCodeAt(L),b=L;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++L);a+=f.slice(b,L)}if(34==f.charCodeAt(L))return L++,a;P();default:if(b=L,45==e&&(d=!0,e=f.charCodeAt(++L)),e>=48&&e<=57){for(48==e&&(e=f.charCodeAt(L+1),e>=48&&e<=57)&&P(),d=!1;L<g&&(e=f.charCodeAt(L),e>=48&&e<=57);L++);if(46==f.charCodeAt(L)){for(c=++L;c<g&&(e=f.charCodeAt(c),e>=48&&e<=57);c++);c==L&&P(),L=c}if(e=f.charCodeAt(L),101==e||69==e){for(e=f.charCodeAt(++L),43!=e&&45!=e||L++,c=L;c<g&&(e=f.charCodeAt(c),e>=48&&e<=57);c++);c==L&&P(),L=c}return+f.slice(b,L)}if(d&&P(),"true"==f.slice(L,L+4))return L+=4,!0;if("false"==f.slice(L,L+5))return L+=5,!1;if("null"==f.slice(L,L+4))return L+=4,null;P()}return"$"},R=function(a){var b,c;if("$"==a&&P(),"string"==typeof a){if("@"==(B?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=Q(),"]"!=a;c||(c=!0))c&&(","==a?(a=Q(),"]"==a&&P()):P()),","==a&&P(),b.push(R(a));return b}if("{"==a){for(b={};a=Q(),"}"!=a;c||(c=!0))c&&(","==a?(a=Q(),"}"==a&&P()):P()),","!=a&&"string"==typeof a&&"@"==(B?a.charAt(0):a[0])&&":"==Q()||P(),b[a.slice(1)]=R(Q());return b}P()}return a},S=function(a,b,c){var d=T(a,b,c);d===q?delete a[b]:a[b]=d},T=function(a,b,c){var d,e=a[b];if("object"==typeof e&&e)if(s.call(e)==z)for(d=e.length;d--;)S(e,d,c);else p(e,function(a){S(e,a,c)});return c.call(a,b,e)};b.parse=function(a,b){var c,d;return L=0,M=""+a,c=R(Q()),"$"!=Q()&&P(),L=M=null,b&&s.call(b)==v?T((d={},d[""]=c,d),"",b):c}}}return b.runInContext=e,b}var f="function"==typeof a&&a.amd,g={"function":!0,object:!0},h=g[typeof d]&&d&&!d.nodeType&&d,i=g[typeof window]&&window||this,j=h&&g[typeof c]&&c&&!c.nodeType&&"object"==typeof b&&b;if(!j||j.global!==j&&j.window!==j&&j.self!==j||(i=j),h&&!f)e(i,h);else{var k=i.JSON,l=i.JSON3,m=!1,n=e(i,i.JSON3={noConflict:function(){return m||(m=!0,i.JSON=k,i.JSON3=l,k=l=null),n}});i.JSON={parse:n.parse,stringify:n.stringify}}f&&a("static/js/exchange/dist/script/module_socket_io",[],function(){return n})}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],51:[function(a,b,c){function d(a,b){var c=[];b=b||0;for(var d=b||0;d<a.length;d++)c[d-b]=a[d];return c}b.exports=d},{}]},{},[31])(31)}),"function"==typeof define?define("static/js/exchange/dist/script/module_connect",[],function(){return connect}):"undefined"!=typeof exports?module.connect=connect:window.connect=connect,function(){function a(a,b){function c(a){var b,c,d,e,f,g,h="string"==typeof a?a.toLowerCase().replace(/\s/g,""):a.toString().toLowerCase().replace(/\s/g,""),i="000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";return/e[+-]/.test(h)?(c=/\+/.test(h),d=h.split("e"),b=/\-/.test(d[0].toString())?"-0.":"0.",d[0]=d[0].replace("-",""),e=d[0].split(".")[1]?d[0].split(".")[1].length:0,f=d[1],g=f.split(c?"+":"-")[1],d=d[0].replace(".",""),c?d+i.substring(0,g-e):b+i.substring(0,g-1)+d):h}if(void 0!=a){var d=c(a),e=d.indexOf("."),f=0,g=0;if(isNaN(parseFloat(d)))g=0;else if(isNaN(d))g=parseFloat(d);else if(void 0!==b)if(e>=0){if(f=d.substring(e+1,d.length).length,f<b){for(var h=0;h<b-f;h++)d+="0";g=0==e?"0"+d:d}else{var i=d.substring(0,b+1+e);g=0==e?"0"+i:i}b<=0&&(g=parseInt(a))}else if(b>0){d+=".";for(var j=0;j<b;j++)d+="0";g=d}else b<=0&&(g=d);else g=Number(d);return g}}"function"==typeof define?define("static/js/exchange/dist/script/module_number",[],function(){return a}):"undefined"!=typeof exports?module.exports=a:window.BitNumber=a}(),"function"==typeof define?define("static/js/exchange/dist/script/module_socket_api",[],function(){return SOCKET_API}):"undefined"!=typeof exports?module.SOCKET_API=SOCKET_API:window.SOCKET_API=SOCKET_API,function(){var a={Add:function(a,b){if(void 0!=a&&void 0!=b){var c,d,e,f=this.Mul;try{c=a.toString().split(".")[1].length}catch(g){c=0}try{d=b.toString().split(".")[1].length}catch(g){d=0}return e=Math.pow(10,Math.max(c,d)),(f(a,e)+f(b,e))/e}},Sub:function(a,b){if(void 0!=a&&void 0!=b){var c,d,e,f,g=this.Mul;try{c=a.toString().split(".")[1].length}catch(h){c=0}try{d=b.toString().split(".")[1].length}catch(h){d=0}return e=Math.pow(10,Math.max(c,d)),f=c>=d?c:d,((g(a,e)-g(b,e))/e).toFixed(f)}},format_number:function(a){return(a.toFixed(0)+"").replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")},BtcRound:function(a,b){for(var c,d=1,e=0;e<b;e++)d*=10;return c=a*d,c=Math.round(c),c/d},Mul:function(a,b){if(void 0!=a&&void 0!=b){var c=0,d=a.toString(),e=b.toString();try{c+=d.split(".")[1].length}catch(f){}try{c+=e.split(".")[1].length}catch(f){}return Number(d.replace(".",""))*Number(e.replace(".",""))/Math.pow(10,c)}},Div:function(a,b){if(void 0!=a&&void 0!=b){var c=0,d=0;try{c=a.toString().split(".")[1].length}catch(e){}try{d=b.toString().split(".")[1].length}catch(e){}return Number(a.toString().replace(".",""))/Number(b.toString().replace(".",""))*Math.pow(10,d-c)}}};"function"==typeof define?define("static/js/exchange/dist/script/module_accurate",[],function(){return a}):"undefined"!=typeof exports?module.exports=a:window.BitAcc=a}(),define("static/js/exchange/dist/script/page_l_trade",["static/js/exchange/dist/script/module_accurate","static/js/exchange/dist/script/module_number","static/js/exchange/dist/script/module_validator","static/js/exchange/dist/script/module_range","static/js/exchange/dist/script/module_ajax","static/js/exchange/dist/script/module_switch","static/js/exchange/dist/script/module_cookie","static/js/exchange/dist/script/module_dialog","static/js/exchange/dist/script/module_md5","static/js/exchange/dist/script/module_this_jack","static/js/exchange/dist/script/page_l_notice","static/js/exchange/dist/script/page_l_order","static/js/exchange/dist/script/module_order","jquery","static/js/exchange/dist/script/module_tmpl","static/js/exchange/dist/script/module_hb_extend"],function(a){function b(a){_orderType=a.data("order-type")||"PlaceOrder",_panelType=a.data("panel-type")||"Limited"}function c(a){if("HBForm"===a.Type)return a;var b=z(a);return b.find("[name]").each(function(a,c){var d=z(c),e=d.attr("name");b[e]=d,b[e].Value=d.val()}),b.Type="HBForm",b}function d(a,b){return/\.$/.test(a)?o(a):o(a,b)}function e(){var a=this,b=/^(([0-9]{1}\d*)|([0]{1}))(\.(\d){0,2})?$/,c=/^(([0-9]{1}\d*)|([0]{1}))(\.(\d){0,4})?$/;a.FormatVal=function(e){var f=a.val();if(f<0&&(f=0,a.val(f)),""!=f&&!("price"==e?b:c).test(f)){z(".keepDecimalForCoin").val(),z(".keepDecimalForCurrency").val();f=d(1*f,"price"==e?Number(3):Number(4)),a.val(f)}var g=z(".buyrate").val(),h=z(".sellrate").val(),i=z("#buy_price").val(),j=z("#buy_amount").val(),k=z("#sell_price").val(),l=z("#sell_amount").val(),m=Number(g)/100*Number(i)*Number(j),n=Number(h)/100*Number(k)*Number(l),o=a.attr("id");return void 0!=o&&("buy"==o.substring(0,o.indexOf("_"))?z(".buyCharge").html(d(m,3)):z(".sellCharge").html(d(n,3))),1*f}}function f(a,b,c){var d;return"PlaceOrder"===_orderType?b&&a?(d=n.Mul(1*b,1*a),c&&c.html(o(d,3)).attr("actual",d)):(d=0,c&&c.html("0.00")):"PlaceMarketOrder"===_orderType&&(d=void 0!==a?a:b),d}function g(a){function b(a,b,c,f,g){var h=[];return"buy"===d?(h[0]=c?n.Div(e?b:a,c):0,h[0]=h[0]<f[0]?h[0]:f[0],h[1]=e?b:a,h[1]=h[1]<g[0]?h[1]:g[0]):(h[2]=e?b:a,h[2]=h[2]<f[1]?h[2]:f[1],h[3]=e?b<g[1]?b:g[1]:a<g[1]?a:g[1]),h}var c=a||{},d=c.trade_type,e=c.loan_type,f=c.price,g=c.available,h=n.Add(c.loan_enable,g),i=(c.coin,[]);i=b(g,h,f,[_limits.trade["max_buy_"+_coinType],_limits.trade["max_sell_"+_coinType]],[_limits.trade["max_buy_"+_coinType+"_mp"],_limits.trade["max_sell_"+_coinType+"_mp"]]),void 0!==i[0]?_caches.trade.buy_max=i[0]:"",void 0!==i[1]?_caches.trade.buy_max_mp=i[1]:"",void 0!==i[2]?_caches.trade.sell_max=i[2]:"",void 0!==i[3]?_caches.trade.sell_max_mp=i[3]:""}function h(a,b){"buy"===a?"PlaceOrder"==_orderType?b&&b.attr("data-max",o(_caches.trade.buy_max,4)).parent().find(".max_amount_num").html(o(_caches.trade.buy_max,4)):"PlaceMarketOrder"===_orderType&&b&&b.attr("data-max",o(_caches.trade.buy_max_mp,4)).parent().find(".max_amount_num").html(o(_caches.trade.buy_max_mp,4)):"PlaceOrder"==_orderType?b&&b.attr("data-max",o(_caches.trade.sell_max,4)).parent().find(".max_amount_num").html(o(_caches.trade.sell_max,4)):"PlaceMarketOrder"===_orderType&&b&&b.attr("data-max",o(_caches.trade.sell_max_mp,4)).parent().find(".max_amount_num").html(o(_caches.trade.sell_max_mp,4))}function i(a,b,c,d,e,f){var g=0;return g="buy"===c?1*n.Sub(a[0],b)>0?1*n.Sub(a[0],b):0:1*n.Sub(a[1],b)>0?1*n.Sub(a[1],b):0,g=g>0&&g<_limits.loan["min_"+e]?_limits.loan["min_"+e]:g,"buy"===c?d&&d.html(f?o(j(g,"currency"),4):"0.00").attr("data-amount",j(o(g),"currency")):d&&d.html(f?o(j(g,"coin"),4):"0.0000").attr("data-amount",j(o(g),"coin")),g}function j(a,b){var c;return"currency"==b&&(c=Math.floor(100*a+.9)/100),"coin"==b&&(c=Math.floor(1e4*a+.9)/1e4),c}function k(a,b,c){var d=c&&b?c/b*100:0;a.Update(d)}function l(a,b,e){var f=z(b),g=f.find(".range_ratio"),h=c(f.parents("form")),i=h.data("trade-type"),j=a/100;j?g.show():g.hide(),g.css({left:a+"%"}),"PlaceOrder"===_orderType?"buy"===i?h.amount.val(d(n.Mul(_caches.trade.buy_max,j),4)).trigger("keyup",["slide"]):h.amount.val(d(n.Mul(_caches.trade.sell_max,j),4)).trigger("keyup",["slide"]):"PlaceMarketOrder"===_orderType&&("buy"===i?h.market_transaction_amount.val(d(n.Mul(_caches.trade.buy_max_mp,j),4)).trigger("keyup",["slide"]):h.market_amount.val(d(n.Mul(_caches.trade.sell_max_mp,j),4)).trigger("keyup",["slide"]))}function m(a,b){var c=a||{};r({url:"/trade/do_"+c.type+"?st=trade_trade&order_source=8",data:c.data,type:"POST",init:c.init},function(a){var c=a.code;if(console.log("trade ajax",c),"success"==c||"error"==c){var d=a.data;b&&b(d,c)}})}var n=a("static/js/exchange/dist/script/module_accurate"),o=a("static/js/exchange/dist/script/module_number"),p=a("static/js/exchange/dist/script/module_validator"),q=a("static/js/exchange/dist/script/module_range"),r=a("static/js/exchange/dist/script/module_ajax"),s=a("static/js/exchange/dist/script/module_switch"),t=a("static/js/exchange/dist/script/module_cookie"),u=a("static/js/exchange/dist/script/module_dialog"),v=a("static/js/exchange/dist/script/module_md5"),w=a("static/js/exchange/dist/script/module_this_jack"),x=a("static/js/exchange/dist/script/page_l_notice"),y=a("static/js/exchange/dist/script/page_l_order"),z=a("jquery"),A=(a("static/js/exchange/dist/script/module_hb_extend"),z(document)),B={};DOC={},HRYB.BALANCE=B,DOC.doc=z(document),_limits={trade:{max_buy_cny_btc:2e8,max_buy_cny_ltc:2e8,max_sell_cny_btc:2e8,max_sell_cny_ltc:2e8,max_buy_usd_btc:2e8,max_buy_usd_ltc:2e8,max_sell_usd_btc:2e8,max_sell_usd_ltc:2e8,max_buy_cny_btc_mp:2e8,max_buy_cny_ltc_mp:2e8,max_sell_cny_btc_mp:2e8,max_sell_cny_ltc_mp:2e8,max_buy_usd_btc_mp:2e8,max_buy_usd_ltc_mp:2e8,max_sell_usd_btc_mp:2e8,max_sell_usd_ltc_mp:2e8},loan:{min_cny_cny:100,min_cny_btc:.1,min_cny_ltc:1,min_usd_usd:50,min_usd_btc:.1,min_usd_ltc:1}},_caches={trade:{buy_max:0,sell_max:0,buy_max_mp:0,sell_max_mp:0},loan:{cny_cny:{enable:0,total:0},cny_btc:{enable:0,total:0},cny_ltc:{enable:0,total:0},usd_usd:{enable:0,total:0},usd_btc:{enable:0,total:0}}},_orderType="PlaceOrder",_panelType="Limited",_coinType=document.getElementsByName("coin_type")[0].value,_dom={".form_trade":z(".form_trade")},buyRange=new q({range:"#range_buy",step:1,point:4,delay:10,slide:function(a,b){l(a,b)}}),sellRange=new q({range:"#range_sell",step:1,point:4,delay:10,slide:function(a,b){l(a,b)}}),buyRangeMp=new q({range:"#range_buy_mp",step:1,point:4,delay:15,slide:function(a,b){l(a,b)}}),sellRangeMp=new q({range:"#range_sell_mp",step:1,point:4,delay:15,slide:function(a,b){l(a,b)}}),_CSRF=document.getElementsByName("_csrf")[0]&&document.getElementsByName("_csrf")[0].value,GetLoanInfo=function(a,b){if(UID)return new r({url:"/loan/index.do",data:{a:"get_loan_available_multi",loan_types:a},init:b},function(a){var b=a.code;if("success"==b){var c,d=a.data;0===d.code&&d.ext&&(z.each(d.ext,function(a,b){c=1*b.enable,_caches.loan[a].enable=c,_caches.loan[a].total=n.Add(c,HRYB.BALANCE[a+"available"]||0)}),A.trigger("__LoanWrite"))}})},GetLoanNow=function(a,b){var c,d=a||{},e=d.amount||0,f=d.loan_type;if(!(e<=0))return c=new r({url:"/loan/index.do",data:{a:"do_loan",loan_type:f,currency:e,_csrf:_CSRF,check:"on"},type:"POST",random:!1},function(a){b&&b(a)})},window.buyRange=buyRange;var C=GetLoanInfo("cny_cny,cny_btc","cny_btc"==_coinType),D=GetLoanInfo("cny_cny,cny_ltc","cny_ltc"==_coinType),E=GetLoanInfo("usd_usd,usd_btc","usd_btc"==_coinType);!function(){function a(){var a=t.Cookie("trade_pwd_on"),b=t.Cookie("trade_pwd_time");return"0"!=a&&("1"==a||(!b||"0"==b))}function d(a){function b(){a&&a(),F.Close()}I.val("");var c=I.data("msg-null");G.removeClass("v_error").text(""),B.is(":hidden")&&(F.Show(),I.focus(),B.attr("data-init","1"),I.off("keydown"),H.off("click"),I.keydown(function(a){13==a.keyCode&&(r=I.val(),b())}),H.on("click",function(){r=I.val(),r&&""!=r?b():G.addClass("v_error").text(c)}))}function j(a,b){function c(a){return a.addClass("focus"),setTimeout(function(){a.removeClass("focus")},300),a}var d,e,f,g=this,h=null,i=g,j=a,k=j.find(".info"),l=[z("#buy_price"),z("#buy_amount"),z("#sell_price"),z("#sell_amount")];i.on("mouseover",".tr",function(){d=z(this),g.Show(d)}),i.on("mouseout",".tr",function(){g.Hide()}),j.hover(function(){g.Clear()},function(){g.Hide()}).on("click","span",function(){var a=z(this),b=a.attr("data-info")&&a.attr("data-info").split("|"),d=b&&isNaN(1*b[0]),f=1*j.find(".col_2").attr("data-info"),g=j.attr("data-type");b&&UID&&("Lightning"==_panelType?d&&A.trigger("__LightTrade",[f,b[0],g]):("Limited"!==_panelType&&(A.trigger("__OrderType",[1]),A.trigger("__TradeTab",[1])),"sell"==e?(c(l[0]).val(b[0]).keyup(),b[1]?c(l[1]).val(b[1]).keyup():""):(c(l[2]).val(b[0]).keyup(),b[1]?c(l[3]).val(b[1]).keyup():"")))}),g.Show=function(a){g.Clear();var b=a.offset();f="Lightning"==_panelType&&UID?"light":"",e=a.data("type"),j.css({display:"block",top:b.top,left:b.left+5}).attr("data-type","buy"==e?"buy":"sell")[0].className="buy"==e?"font_buy "+f:"font_sell "+f,k.html(a.html())},g.Hide=function(){h=setTimeout(function(){j.hide()},50)},g.Clear=function(){clearTimeout(h)}}function l(a,b){var d=c(a),e=(d.find(".transaction_amount"),d.find(".loan_amount"),d.find(".trade_msg"));"all"===b&&d.price.val(""),d.amount&&d.amount.val("").keyup(),d.market_transaction_amount&&d.market_transaction_amount.val("").keyup(),d.market_amount&&d.market_amount.val("").keyup(),e&&e.html(""),d.loan_switch&&d.loan_switch.prop("checked",!1).attr("data-loan-state",0).change()}function q(){O.total=o(n.Mul(O.amount,O.times),4),N.html(O.total)}var r,B=z("#trade_pwd_dialog"),F=new u({dialog:B},function(a,b,c){"close"==b&&c&&B.attr("data-init","")}),G=B.find(".tip"),H=z("#trade_pwd_submit"),I=z("#trade_pwd");p({forms:_dom[".form_trade"],tip:".trade_msg",beforeValidation:function(a){a.attr("action",HRY.host+HRY.modules.exmain+"entrust/add.do"),A.trigger("__TradeFormValidation",[a])},beforeSubmit:function(a){var b=c(a),d=b.data("trade-type"),e=b.coin_type.val().split("_"),f="buy"==d?e[0]+"_"+e[0]:e[0]+"_"+e[1],g=b.loan_switch,h=g&&1*g.attr("data-loan-state"),i=1*b.find(".loan_amount").attr("data-amount");if(b._coin=f,i>0&&g.prop("checked"))switch(h){case 0:return A.trigger("__GetLoanNow",[b,f,i]),!1;case 1:return!1;case 2:break;case 3:return!1;default:return!1}A.trigger("__TradeFormBeforeSubmit",[b])},callback:function(a,b){B.attr("data-init",""),A.trigger("__TradeFormCallback",[b,JSON.parse(a)])},postData:function(a){for(var b=[{name:"coinCode",value:CURRENT_SYMBOL}],c=0;c<a.length;c++)"price"==a[c].name?b.push({name:"entrustPrice",value:a[c].value}):"amount"==a[c].name||"market_amount"==a[c].name?b.push({name:"entrustCount",value:a[c].value}):"order_type"==a[c].name||"coin_type"==a[c].name||("market_transaction_price"==a[c].name?b.push({name:"entrustSum",value:a[c].value}):b.push(a[c]));var d="";return""!=z.trim(r)&&(d=v.hbmd5(r)),b},ajaxError:function(a){B.attr("data-init",""),A.trigger("__TradeFormError",[a])}}),_dom[".form_trade"].each(function(){function a(a){for(var c=a.length,d=0;d<c;d++)a[d]&&a[d].on("focus",function(){b.trigger("__FormMax"),z(this).parent().addClass("focus")}).on("blur",function(){z(this).parent().removeClass("focus"),1*z(this).val()<=0&&z(this).val("")}).on("__Focus",function(){z(this).parent().addClass("focus")})}var b=c(z(this)),d=b.data("trade-type"),f=b.coin_type.val().split("_"),g="buy"==d?f[0]+"_"+f[0]:f[0]+"_"+f[1],h=b.loan_switch,i=(b.find(".loan_available"),b.find(".range_wrap")),j=b.find(".max_amount"),k=b.find(":submit"),l=(j.parent(),j.find("b")),m=b.find(".trade_amount"),n={price:b.price&&b.price.Value||0,amount:b.amount&&b.amount.Value||0,market_t:b.market_transaction_amount&&b.market_transaction_amount.Value||0,market_a:b.market_amount&&b.market_amount.Value||0};w(e,b.price),w(e,b.amount),w(e,b.market_transaction_amount),w(e,b.market_amount),b._DMax=j,b._DMaxB=l,b._type=d,b._coin=g,b.transaction_amount=b.find(".transaction_amount"),b.loan_amount=b.find(".loan_amount"),b.max_amount=b.find(".max_amount"),a([b.price,b.amount,b.market_transaction_amount,b.market_amount]),b.price&&b.price.on("keyup change",function(a,c){n.price=b.price.FormatVal("price"),b.trigger("__FormMax"),A.trigger("__TradeFormChange",[b,n,c,"price change"]),k.prop("disabled",!1)}).on("keypress",function(){k.prop("disabled",!0)}).on("change",function(){}),b.amount&&b.amount.on("keyup change",function(a,c){n.amount=b.amount.FormatVal("amount"),A.trigger("__TradeFormChange",[b,n,c,"amount change"]),k.prop("disabled",!1)}).on("keypress",function(){k.prop("disabled",!0)}),b.market_transaction_amount&&b.market_transaction_amount.on("keyup change",function(a,c){n.market_t=b.market_transaction_amount.FormatVal("price"),A.trigger("__TradeFormChange",[b,n,c,"market_t change"])}),b.market_amount&&b.market_amount.on("keyup change",function(a,c){n.market_a=b.market_amount.FormatVal("amount"),A.trigger("__TradeFormChange",[b,n,c,"market_a change"])}),h.on("change",function(){var a=z(this);b.trigger("__FormMax"),A.trigger("__TradeFormChange",[b,n,"","loan change"]),a.prop("checked")?(A.trigger("__GetLoanInfo",[_coinType,"loan success"]),m.addClass("show_loan")):m.removeClass("show_loan")}),i.on("focus",function(){b.trigger("__FormMax"),b.amount&&b.amount.trigger("__Focus"),b.transaction_amount&&b.transaction_amount.trigger("__Focus"),b.market_transaction_amount&&b.market_transaction_amount.trigger("__Focus"),b.market_amount&&b.market_amount.trigger("__Focus")}).on("blur",function(){z(this).parent().siblings().removeClass("focus")}),b.on("__FormMax",function(){HRYB.BALANCE&&A.trigger("__TradeMax",[b,{trade_type:d,available:HRYB.BALANCE[g+"_available"]||0,price:n.price,loan_type:h&&h.prop("checked"),loan_enable:_caches.loan[g].enable,coin:g},"__FormMax"])})}),w(j,z("#market_depth"),z("#quick_bar"));var J=z("#light_switch"),K=z("#light_times"),L=z("#light_amount"),M=z("#light_price"),N=z("#light_total"),O={},P=L.data("min");w(e,L),O={times:1,amount:L.FormatVal("amount"),total:o(n.Mul(O.amount,O.times),4),state:J.prop("checked")},q(),L.on("keyup",function(){z(this);O.amount=L.FormatVal("amount"),q()}).on("change blur",function(){var a=z(this),b=1*a.val();b<P&&(a.val(P),O.amount=P),q()}),K.on("click","span",function(){var a=z(this),b=1*a.data("info");a.addClass("cur").siblings().removeClass("cur"),O.times=b,q()}),J.on("change",function(){O.state=J.prop("checked")}),A.on("__LightTrade",function(b,c,e,f){function g(){x({message:window.Texts&&Texts.ordering});var a="";""!=z.trim(r)&&(a=v.hbmd5(r)),m({type:h,init:!0,data:{price:c,amount:O.total,coin_type:_coinType,order_type:_orderType,trade_pwd:a&&a}},function(a,b){console.log(b),"success"==b&&A.trigger("__TradeFormCallback",["",a]),"error"==b&&A.trigger("__TradeFormError")})}if(!O.state)return x({message:window.Texts&&Texts.please_open_loan,type:"error","long":5e3}),!1;var h="buy"==f?"eat"==e?"sell":"buy":"eat"==e?"buy":"sell";return M.html(c)[0].className="buy"==h?"font_buy":"font_sell",console.log("__LightTrade"),B.is(":hidden")&&a()?(d(function(){g()}),!1):void g()}),HRYB.NUM=o,s({Switch:".switch"}),A.on("DoDocHidden",function(){HRYB.GLOBAL.docHidden?y.GetOrder&&y.GetOrder.Stop():y.GetOrder&&y.GetOrder.Play()}),A.on("__TradeFormChange",function(a,b,c,d,e){if(HRYB.BALANCE){var g=f("PlaceOrder"==_orderType?c.price:c.market_t,c.amount,b.transaction_amount);i([g,"PlaceOrder"==_orderType?c.amount:c.market_a],HRYB.BALANCE[b._coin+"_available"]||0,b._type,b.loan_amount,b._coin,b.loan_switch.prop("checked")),"slide"!==d&&("buy"===b._type?(""!==c.amount&&"PlaceOrder"==_orderType&&k(buyRange,_caches.trade.buy_max,c.amount),""!==c.market_t&&"PlaceMarketOrder"==_orderType&&k(buyRangeMp,_caches.trade.buy_max_mp,c.market_t)):(""!==c.amount&&"PlaceOrder"==_orderType&&k(sellRange,_caches.trade.sell_max,c.amount),""!==c.market_a&&"PlaceMarketOrder"==_orderType&&k(sellRangeMp,_caches.trade.sell_max_mp,c.market_a)))}}).on("__TradeMax",function(a,b,c,d){HRYB.BALANCE&&(g(c),h(b._type,"PlaceOrder"==_orderType?b.amount:"buy"==b._type?b.market_transaction_amount:b.market_amount))}).on("__TradeFormBeforeSubmit",function(a,b){var c=b.find(":submit"),d=c.data("msg-submit").split(",");c.text(d[1]+d[3]),x({message:d[1]+d[3]})}).on("__TradeFormCallback",function(a,b,c){var d=(b&&b.attr("data-form-type"),b&&b.find(":submit")),e=b&&d.data("msg-submit").split(",");1==c.success?(y.GetOrder.Play(),"PlaceMarketOrder"===_orderType?setTimeout(function(){y.GetHistory.Fire()},1e3):setTimeout(function(){y.GetHistory.Fire()},500),x({message:c.msg,"long":1800}),d&&d.text(e[0])):(x({message:c.msg,type:"error","long":5e3}),d&&d.text(e[0])),l(b),B.attr("data-init",""),HRYB.AJAX.GetBalance.Fire()}).on("__TradeFormError",function(a,b){var c=(b&&b.attr("data-form-type"),b&&b.find(":submit")),d=b&&c.data("msg-submit").split(",");B.attr("data-init",""),x({message:window.Texts&&Texts.tradeError,type:"error","long":5e3}),c&&c.text(d[0])}).on("__LoanWrite",function(){for(var a in _caches.loan){var b=_caches.loan[a];z(".loan_"+a).html(/btc|ltc/.test(a)?o(b.enable,4):o(b.enable,4)).attr("data-enable",b.enable),b.enable?z(".loan_switch_"+a).prop("disabled",!1).trigger("__Update"):z(".loan_switch_"+a).prop("disabled",!0).trigger("__Update")}}).on("__GetLoanNow",function(a,b,c,d){var e,f=b.find(":submit"),g=f.data("msg-submit").split(",");GetLoanNow({loan_type:b._coin,amount:d},function(a){var c=a.code;switch(c){case"loading":b.loan_switch.attr("data-loan-state",1),f.text(g[2]+g[3]),x({message:g[2]+g[3]});break;case"error":b.loan_switch.attr("data-loan-state",0);break;case"success":if(e=a.data,0===e.code){b.loan_switch.attr("data-loan-state",2),HRYB.AJAX.GetBalance.Fire(),A.trigger("__GetLoanInfo",[_coinType,"loan success"]),b.submit();break}x({message:e.msg,type:"error","long":5e3}),b.loan_switch.attr("data-loan-state",0),f.text(g[0])}})}).on("__GetLoanInfo",function(a,b,c){switch(b){case"cny_btc":C.Fire();break;case"cny_ltc":D.Fire();break;case"usd_btc":E.Fire()}}).on("__OrderType",function(a,c){var d=z(".panel").eq(c);b(d),d.find("form").each(function(){l(z(this))})})}()}),function(a){BitRange=function(b){function c(){r.append(z),r._width=r.width()||r.parent().width()||r.parent().parent().width(),r._left=r.offset().left,p=r._width-z.handle.width()/2,z.trackWrap.width(p),z.points.width(p),u&&f(),e()}function d(a,b){for(var c=a,d=0;d<b-1;d++)c+=a;return $(c)}function e(){A=d(A,y),z.paths.append(A)}function f(){var a=100/u,b=0;B=d(B,u+1),B.each(function(c,d){$(d).css("left",b+"%").attr("data-point-ratio",b),b+=a}),z.points.append(B)}function g(a,b){z.ratio=a.pageX?h(a.pageX):a,(z.is(":focus")||z.hasClass("click"))&&x.rangeMouseup&&z.trigger("__rangeSlide",[b])}function h(a){var b=j((a-r._left)/r._width*100);return i(b)}function i(a){return a<=0?a=0:a>=100&&(a=100),a}function j(a){var b=(a-0)%t,c=a-b;return parseFloat(t?c.toFixed(5):a.toFixed(5))}function k(a){x._delayMet||(a&&a(),x._Delay=setTimeout(function(){x._delayMet=!1},w),x._delayMet=!0)}function l(){z.handle.css({left:z.ratio+"%"}),z.track.css({width:z.ratio+"%"}),z.attr("data-ratio",z.ratio),B.each(function(a,b){var c=$(b),d=$(b).data("point-ratio");z.ratio>=d?c.addClass("active"):c.removeClass("active");
})}function m(a,b){void 0!==a&&(z.ratio=i(j(a))),b&&z.trigger("__rangeSlide"),l()}function n(){z.ratio=0,l()}var o,p,q=b||{},r=$(q.range),s=q.value||{min:0,max:100},t=1*q.step||0,u=1*q.point||0,v=(q.path||"",q.slide),w=q.delay||10,x=$(this),y="object"==typeof s.max?s.max.length:1,z=$('<div class="range_wrap" data-ratio="0" tabindex="0"><div class="range_paths_wrap"></div><div class="range_track_wrap"><div class="range_track"></div><div class="range_handle"></div></div><div class="range_points_wrap"></div></div>'),A='<div class="range_path"></div>',B='<div class="range_point"></div>',C=$(document);z.trackWrap=z.find(".range_track_wrap"),z.track=z.find(".range_track"),z.handle=z.find(".range_handle"),z.paths=z.find(".range_paths_wrap"),z.points=z.find(".range_points_wrap"),z.ratio=0,r.length<=0||(c(),C.mousemove(function(a){k(function(){x.rangeMouseup&&g(a)})}),z.mousedown(function(a){z.trigger("focus"),x.rangeMouseup=!0;var b=a.target.getAttribute("data-point-ratio"),c=a.target==z.handle[0];b?(x.pointDown=!0,c?g(1*b,0):g(1*b)):(x.pointDown=!1,c?g(a,0):g(a)),z.addClass("click"),"undefined"!=typeof document.onselectstart&&(document.onselectstart=new Function("return false"))}),z.hover(function(){z.addClass("hover"),r._left=r.offset().left},function(){z.removeClass("hover")}),C.mouseup(function(){x.rangeMouseup=!1,z.removeClass("click"),"undefined"!=typeof document.onselectstart&&(document.onselectstart=new Function("return true"))}),z.on("__rangeSlide",function(a){l(),o=z.ratio,a&&v&&v(o,r)}).on("focus",function(){z.addClass("focus")}).on("blur",function(){z.removeClass("focus")}).on("keydown",function(a){switch(a.which){case 37:a.shiftKey?z.ratio-=10:z.ratio--;break;case 39:a.shiftKey?z.ratio+=10:z.ratio++;break;default:return}g(i(z.ratio)),l(),o=z.ratio,v&&v(o,r)}),$(a).on("resize",function(){r._width=r.width(),r._left=r.offset().left,p=r._width-z.handle.width()/2,z.trackWrap.width(p),z.points.width(p)}),this.Range=z,this.Update=m,this.Reset=n)},"function"==typeof define?define("static/js/exchange/dist/script/module_range",[],function(){return BitRange}):"undefined"!=typeof exports?module.exports=BitRange:a.BitRange=BitRange}(window),function(){var a=function(a,b){function c(){d(),F?e():clearTimeout(z)}function d(a){var b="undefined"==typeof a?A:a;p.r=Math.random().toString(36).substr(2),b||$.ajax({url:o,type:s,data:p,dataType:t,jsonp:u,jsonpCallback:y,beforeSend:f,success:g,error:h,complete:i})}function e(){z=setTimeout(c,F)}function f(){b&&b({code:"loading",msg:"loading"})}function g(a){10002==a.flag&&(window.location=D),10003==a.flag&&B.Stop(),v?E--:E=w,E<=0&&F<=x-1e3&&(F+=1e3),b&&b({code:"success",msg:"success",data:a})}function h(){b&&b({code:"error",msg:L("网络异常")})}function i(a,c){b&&b({code:"complete",xhr:a,ts:c,msg:"complete"})}function j(){A=1}function k(){A=0,E=w,F=r}function l(){d(0),E=w,F=r}function m(a){var b=a||{};o=b.url?b.url:o,p=b.data||p,r=b.refresh?1*b.refresh:r,t=b.datatype?b.datatype:t,u=b.jsonp?b.jsonp:u,y=b.jsonpcallback?b.jsonpcallback:y,F=r}var n=a||{},o=n.url?n.url:"/account/ajax.do",p=n.data||{},q=void 0==n.init||n.init,r=n.refresh?1*n.refresh:0,s=n.type||"GET",t=n.datatype?n.datatype:"",u=n.jsonp?n.jsonp:"",v=void 0!=n.damp?n.damp:CONST.AJAX_DAMP,w=CONST.AJAX_DAMP_TIME?CONST.AJAX_DAMP_TIME:6,x=CONST.AJAX_DAMP_REFRESH?CONST.AJAX_DAMP_REFRESH:5e3,y=n.jsonpcallback?n.jsonpcallback:"",z=null,A=0,B=this,C=window.location,D="/account/account.do?a=validate_all&jump_url="+C.pathname+C.search,E=w,F=r;clearTimeout(z),q&&p&&c(),B.Stop=j,B.Play=k,B.Fire=l,B.Update=m};"function"==typeof define?define("static/js/exchange/dist/script/module_ajax",[],function(){return a}):"undefined"!=typeof exports?module.exports=a:window.HbAjax=a}(),function(a){BitSwitch=function(a){function b(){g.length>0&&g.wrap(h).after("<b></b><i></i><span></span>")}function c(a,b){var c=b.parent(),d=(c.find("b"),c.find("i")),g=c.find("span"),h=b.data("text")&&b.data("text").split(","),i=b.prop("disabled")?1:0,j=1*c.width(),k=j-2*f-e;switch(a){case 0:c.removeClass("focus"),h&&g.text(h[1]);break;case 1:c.addClass("focus");break;case 2:d.animate({left:0,right:k},100,"swing"),c.addClass("switch_off").removeClass("switch_on "),h&&g.text(h[1]);break;case 3:d.animate({left:k,right:0},100,"swing"),c.addClass("switch_on").removeClass("switch_off "),h&&g.text(h[0]);break;case 4:c.addClass("disabled"),h&&g.text(h[1]);break;case 5:c.removeClass("focus")}i?c.addClass("disabled"):c.removeClass("disabled")}var d=a||{},e=d.width||13,f=d.gap||1,g=$(d.Switch),h=$('<label class="input_switch"></label>');b(),g.each(function(){var a=$(this),b=a.prop("checked")?3:0;c(b,a),a.on("change",function(){b=a.prop("checked")?3:2,c(b,a)}).on("focus",function(){c(1,a)}).on("blur",function(){c(5,a)}).on("__Update",function(){b=a.prop("checked")?3:2,c(b,a)})})},"function"==typeof define?define("static/js/exchange/dist/script/module_switch",[],function(){return BitSwitch}):"undefined"!=typeof exports?module.exports=BitSwitch:a.BitSwitch=BitSwitch}(window),function(){var a={Cookie:function(a,b,c){var d=COOKIE_PRE||"";return a=d+a,this._Cookie(a,b,c)},_Cookie:function(a,b,c){var d=a,e=b;if(void 0!==e){var f=new Date;return c&&Math.round(f.setDate(f.getDate()+c.expires)),document.cookie=[encodeURI(d),"=",encodeURIComponent(e),c&&c.expires?"; expires="+f.toUTCString():"",c&&c.path?"; path="+c.path:"",c&&c.domain?"; domain="+c.domain:"",c&&c.secure?"; secure":""].join("")}var g=document.cookie.match("(?:^|;)\\s*"+d+"=([^;]*)");return g?decodeURIComponent(g[1]):null},RemoveCookie:function(a){return void 0!==this.Cookie(a)&&(this.Cookie(a,"",{expires:-1}),!0)}};"function"==typeof define?define("static/js/exchange/dist/script/module_cookie",[],function(){return a}):"undefined"!=typeof exports?module.exports=a:window.BitCookie=a}(),function(){function a(a,c){function d(a,b,c){var d=c||200;setTimeout(function(){a.removeClass(b)},d)}var e=this,f=a||{},g=f.message?f.message:"",h=f.type||"succeed",i=f["long"],j=$('<div id="notice" class="notice"><a href="" class="close">×</a><div class="message">'+g+"</div></div>"),k=$("body"),l=j.find(".message"),m=j.find(".close");return e.Init=function(a){var b;return k.find("#notice").length>0?(j=k.find("#notice"),l=j.find(".message"),m=j.find(".close"),"close"!=a&&j.addClass("reappear"),b=!1):(k.append(j),b=!0),"error"==h?j.addClass("error").removeClass("succeed"):j.removeClass("error").addClass("succeed"),setTimeout(function(){j.removeClass("reappear")},1e3),b},e.Open=function(){var a=e.Init();e.CloseNow=0,a&&(j.removeClass("notice_close").addClass("notice_open"),d(j,"notice_open"))},e.Close=function(){e.Init("close"),e.CloseNow=1,j.addClass("notice_close").removeClass("notice_open"),b[1]=setTimeout(function(){j.remove()},300)},e.Write=function(a){l.html(a||g)},!function(){e.Open(),e.Write(),clearTimeout(b[0]),clearTimeout(b[1]),b[0]=i&&setTimeout(function(){e.Close()},i),m.click(function(){return e.Close(),!1}),j.hover(function(){clearTimeout(b[0])},function(){k.find("#notice").length<=0||(b[0]=i&&setTimeout(function(){e.Close()},i))})}(),e}var b=[];"function"==typeof define?define("static/js/exchange/dist/script/page_l_notice",[],function(){return a}):"undefined"!=typeof exports?module.exports=a:window.Notice=a}(),define("static/js/exchange/dist/script/page_l_order",["static/js/exchange/dist/script/module_order","jquery","static/js/exchange/dist/script/module_ajax","static/js/exchange/dist/script/module_tmpl","static/js/exchange/dist/script/module_md5","static/js/exchange/dist/script/page_l_notice"],function(a,b,c){var d=a("static/js/exchange/dist/script/module_order"),e=a("static/js/exchange/dist/script/page_l_notice"),f=SYMBOL,g=UID&&d.GetOrder({temp:"tmp_us_order",wrap:"view_us_order",coin_type:f,is_history:10,damp:!0},function(){h&&h.Fire()}),h=UID&&d.GetOrder({temp:"tmp_us_order_history",wrap:"view_us_order_history",coin_type:f,is_history:20,delay:0}),i={};i.view_us_order=$("#view_us_order"),i.cancel_order_all=$("#cancel_order_all"),i.view_us_order.on("click",".cancel",function(){var a=$(this),b=a.attr("data-ids"),c=a.parents(".tr"),h=1*a.attr("data-init");return!h&&(a.attr("data-init",1),d.CancelOrder({coin_type:f,id:b},function(b){"loading"==b.code?(c.addClass("cancel"),g.Stop()):"error"==b.code?(c.hasClass("cancel")&&c.removeClass("cancel"),a.attr("data-init",0),e({message:window.Texts&&Texts.NetworkError,type:"error","long":1800}),g.Play()):(0===b.code?(c.next(".hidden_info").remove(),c.slideUp(function(){c.remove(),g.Fire()}),HRYB.AJAX.GetBalance.Fire()):(a.attr("data-init",0),c.hasClass("cancel")&&c.removeClass("cancel"),e({message:b.msg,type:"error","long":1800})),g.Play())}),!1)}),i.cancel_order_all.on("click",function(){var a=$(this),b=a.attr("data-ids")?a.attr("data-ids").split("|"):0;return a.prop("disabled",!0),b&&d.CancelAllOrder({coin_type:f,id:b},function(b){"loading"==b.code?(g.Stop(),i.view_us_order.find(".tr").addClass("cancel")):"error"==b.code?(i.view_us_order.find(".tr").removeClass("cancel"),a.prop("disabled",!1),e({message:window.Texts&&Texts.NetworkError,type:"error","long":1800})):0==b.code?(g.Fire(),g.Play(),a.prop("disabled",!1),HRYB.AJAX.GetBalance.Fire(),e({message:b.msg,"long":1800})):(g.Play(),i.view_us_order.find(".tr").removeClass("cancel"),a.prop("disabled",!1),e({message:b.msg,type:"error","long":1800}))}),!1}),b.GetOrder=g,b.GetHistory=h}),define("static/js/exchange/dist/script/module_order",["jquery","static/js/exchange/dist/script/module_ajax","static/js/exchange/dist/script/module_tmpl","static/js/exchange/dist/script/module_md5"],function(require,exports,module){function GetOrder(options,change){var op=options||{},temp=op.temp,wrap=$("#"+op.wrap),coin_type=op.coin_type,is_history=op.is_history,damp=op.damp,delay=0==op.delay?0:3e3,init=0,hash=[0,0],oldId=[0,0],Fn,time=4;return Fn=new A({url:HRY.host+HRY.modules.exmain+"entrust/findByCustomerId.do",refresh:delay,damp:damp,data:{coin_type:coin_type,status:is_history,page:1,pageSize:5}},function(data){var _code=data.code;switch(_code){case"loading":""==wrap.html()&&wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder"><i class="icon_loading"></i></td></tr>');break;case"error":wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder">'+data.msg+"</td></tr>"),hash=[0,0];break;case"success":if("success"===data.code&&data.data.indexOf("script")==-1){var delegation=eval("("+data.data+")"),_h=D.md5(JSON.stringify(delegation));if(20==is_history){if(_h!==hash[1]){for(var _i=0;_i<delegation.length;_i++){var _t=delegation[_i];_t.id>oldId[1]&&init?_t.new_order=1:_t.new_order=0}wrap.html(M(temp,delegation)),hash[1]=_h,init||(oldId[1]=delegation.length>0?1*delegation[0].id:0),init=1}}else time--,0==data.data.total?time<=0&&(Fn.Stop(),console.log("Order Stop"),time=4):time=4,_h!==hash[0]&&(wrap.html(M(temp,delegation)),hash[0]=_h,change&&change())}else data.code&&wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder"><i class="icon_info"></i> code:'+data.code+", "+(data.msg?data.msg:"")+"</td></tr>"),hash=[0,0]}})}function GetDetails(a){var b=a||{},c=b.temp,d=$(b.wrap),e=b.coin_type,f=b.id,g=b.type;c&&d&&A({url:"/trade/entrust_detail",data:{coin_type:e,order_id:f,delegation_type:g}},function(a){var b=a.code;switch(b){case"loading":d.html('<div class="align_center p_t_30 no_barder"><i class="icon_loading"></i>'+a.msg+"</div>");break;case"error":d.html('<div class="align_center p_t_30 no_barder">'+a.msg+"</div>");break;case"success":0===a.data.code?d.html(M(c,a.data)):a.code&&d.html('<tr><td colspan="100" class="align_center p_t_30 no_barder">code:'+a.data.code+","+a.data.msg?a.data.msg:"</td></tr>")}})}function CancelOrder(a,b){var c=a||{},d=(c.coin_type,"object"==typeof c.id?c.id.join(","):c.id);ids=d,A({url:HRY.host+HRY.modules.exmain+"entrust/cancelExEntrust.do",data:{coinCode:CURRENT_SYMBOL,entrustNums:ids},type:"POST"},function(a){var c=a.code;switch(c){case"loading":b&&b(a);break;case"error":b&&b(a);break;case"success":b&&b(JSON.parse(a.data))}})}function CancelAllOrder(a,b){var c=a||{},d=(c.coin_type,"object"==typeof c.id?c.id.join(","):c.id);ids=d,A({url:HRY.host+HRY.modules.exmain+"entrust/cancelallcoinCodeExEntrust.do",data:{coinCode:CURRENT_SYMBOL,entrustNums:ids},type:"POST"},function(a){var c=a.code;switch(c){case"loading":b&&b(a);break;case"error":b&&b(a);break;case"success":b&&b(JSON.parse(a.data))}})}var $=require("jquery"),A=require("static/js/exchange/dist/script/module_ajax"),M=require("static/js/exchange/dist/script/module_tmpl"),D=require("static/js/exchange/dist/script/module_md5");exports.GetOrder=GetOrder,exports.GetDetails=GetDetails,exports.CancelOrder=CancelOrder,exports.CancelAllOrder=CancelAllOrder}),function(){window.HRYB||(window.HRYB={});var a=function(a){var b=a||{},c=b.name,d=b.value;HRYB[c]?$.extend(HRYB[c],d):(HRYB[c]={},$.extend(HRYB[c],d))};"function"==typeof define?define("static/js/exchange/dist/script/module_hb_extend",[],function(){return a}):"undefined"!=typeof exports?module.exports=a:window.HurongbiExtend=a}(),define("static/js/exchange/dist/script/page_l_chart",["static/js/exchange/dist/script/module_socket_io","static/js/exchange/dist/script/module_connect","static/js/exchange/dist/script/module_socket_api"],function(a,b,c){function d(){var a=[].slice.apply(arguments);if(!(a.length<2))return a.shift().apply(a.shift(),a)}function e(a){function b(a){var b=w.n[w.o.f];l=r(w.b.a),j=w.d[w.o.k],j=t[w.e[j].socket],m=z.reqKLine(b,j),n=z.lastKLine(b,j),v[0]===a&&l.msg(z.lastKLine(w.n[q],o).unmsg),q=w.o.f,!a&&l.reg(n.msgType,c),l.reg(m.msgType,c),l.msg(m.msg),l.msg(n.msg),o=j}function c(a){var b=t.msgType;!k&&(k=d()),a&&k[a[b]]&&k[a[b]](a)}function d(){function a(a){for(var b=[],c=a[t.payload],d=0,e=c[t.priceLast].length;e>d;d++)b.push([c[t.time][d],c[t.priceOpen][d],c[t.priceHigh][d],c[t.priceLow][d],c[t.priceLast][d],c[t.amount][d]]);g(b,a)}function b(a){var b=a[t.payload],c=[[b[t.time],b[t.priceOpen],b[t.priceHigh],b[t.priceLow],b[t.priceLast],b[t.amount]]];g(c,a)}return{reqKLine:a,lastKLine:b}}function e(a,c){return!p&&(w.o.k=a,p=1,x=1,y.a2=!1,w.o.d=0,u=c,b(v[1]),!0)}function f(a,c){return!p&&(q=w.o.f,w.o.f=a,p=1,x=1,y.a2=!1,w.o.d=0,u=c,b(v[1]),!0)}function g(a,b){var c=1,d=window.localStorage.getItem(v[2]),e=t.msgType;if(d&&d==w.o.a||window.localStorage.setItem(v[3],w.o.a),v[4]!=typeof a){if(b&&v[5]==b[e]){if(c=h(a,b),!c)return}else i(a,b);y&&!y.a2&&y.v8()}}function h(a,b){var c,d,e=window.localStorage.getItem(w.n[w.o.f]+w.o.k),f=a[0][0];if(!x&&(j=w.d[w.o.k],b[t.payload][t.period]==w.o.k)){if(!e||!e.length)return!1;if(e=JSON.parse(e),c={first:e[0],last:e[e.length-1]},f!=c.last[0]){if(1!=((f-c.last[0])/j).toFixed())return!1;e.push(a[0]),e.length>500&&e.splice(0,e.length-500),d=JSON.stringify(e)}else e[e.length-1]=a[0],e.length>500&&e.splice(0,e.length-500),d=JSON.stringify(e);return window.localStorage.setItem(w.n[w.o.f]+w.o.k,d),!0}}function i(a){var b,c,d,e,f=window.localStorage.getItem(w.n[w.o.f]+w.o.k);if(j=w.d[w.o.k],b={first:a[0],last:a[a.length-1]},u&&u(),a.length<1||a.length>1&&!((a[1][0]-a[0][0])/j).toFixed())return p=!1;if(x=!1,f)if(f=JSON.parse(f),c={first:f[0],last:f[f.length-1]},b.last[0]!=c.last[0])if(b.first[0]>c.last[0])e=JSON.stringify(a);else{if(!(b.last[0]>c.last[0]))return p=!1;d=((c.last[0]-b.first[0])/j).toFixed(),a.splice(0,d),a.length&&(f[f.length-1]=a.shift(),f=a?f.concat(a):f),f.length>500&&f.splice(0,f.length-500),e=JSON.stringify(f)}else a[a.length-1]&&(f[f.length-1]=a[a.length-1]),f.length>500&&f.splice(0,f.length-500),e=JSON.stringify(f);else e=JSON.stringify(a);return window.localStorage.setItem(w.n[w.o.f]+w.o.k,e),p=!1}var j,k,l,m,n,o,p,u,x=!1,y=a,z=s(),j=w.d[w.o.k];return b(),{changePeriod:e,changeSymbolId:f}}function f(){var a=this;a.position=function(b){var c,d=a,e=0,f=0;if(a.nodeName){for(;d&&(e+=d.offsetLeft,f+=d.offsetTop,c=d.offsetParent?d.offsetParent:d,d=d.offsetParent,!(b&b===d)););return{x:e,y:f,element:d,forefather:b||c}}},a.size=function(){return{w:a.offsetWidth,h:a.offsetHeight}}}function g(a){function b(b){var c=u.mouse(b);if(!o&&t&&t.d5&&t.d5.length){o=1,setTimeout(function(){o=0},50);var d=Math.floor((c.x-t.pst.x)/s[0]),e=t.d5[d];e=e?e:t.d5[t.d5.length-1],t.v4==z[0]&&(t.v7.id(e.e0,c.y),t.v7.iw(e.i,e.e0,c.y),a.e1=!1,a.v9(e.i),a.e1=!0)}}function c(){clearTimeout(p),p=null,s=w.a[w.o.j]||w.a[7]}function d(a){var b=a.touch?a:u.mouse(a),c=(u.target(a),b.x-t.move.x);e(c,b.x)}function e(b,c){if(!(w.o.v||w.o.e<1||w.o.age>(w.o.z||Number.MAX_VALUE))&&0!=~~(b/s[0])){if(w.o.d+=~~(b/s[0]),w.o.d<0)return w.o.d=0,r||(a.v8(),a.a2=!1),void(r=!0);a.a2=!0,r=!1,a.v8(),c&&(t.move.x=c)}}function f(a){b(a),q&&d(a)}function g(a,b,c,d){return Math.pow(Math.abs(a-c),2)+Math.pow(Math.abs(b-d),2)}function h(a){var b=g(a[0].clientX,a[0].clientY,a[1].clientX,a[1].clientY);null===x&&(x=g(a[0].clientX,a[0].clientY,a[1].clientX,a[1].clientY)),Math.abs((y-b)/x)<.15||(t.changeSize(-1*(b/x>1?-1:1)),s=w.a[w.o.j]||w.a[7],y=b)}function i(a){if(!o){u.stop(a),o=1;var b=a.touches||a.changedTouches;2==b.length?h(b):1==b.length&&q&&d({touch:!0,x:b[0].clientX,y:b[0].clientY}),setTimeout(function(){o=0},20)}}function j(){t.v7.ae(),clearTimeout(p),p=null,p=setTimeout(a.v9,30),q=!1,a.e1=!1}function k(a){var b=a.touches||a.changedTouches||null;return b&&b.length>1?(q=!1,void(x=null)):(t.move=b?{x:b[0].clientX,y:b[0].clientY}:u.mouse(a),s=w.a[w.o.j]||w.a[7],void(q=!0))}function l(){q=!1}function m(){q=!1}function n(a){u.stop(a),t.changeSize(-1*u.delta(a)),s=w.a[w.o.j]||w.a[7]}var o,p,q,r,s=w.a[w.o.j],t=this,x=null,y=null,z=[v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15],v[16],v[17],v[18],v[19]];return t.cc?t:(t.cc=!0,t.winresize=function(){var a=t.size(),b=t.position(),c=t.sz;(c.w!=a.w||c.h!=a.h)&&(a.fs=1,b.fs=1,t.v8(a,b))},u.add(t,z[2],n),u.add(t,z[3],n),u.add(window,z[4],t.winresize),u.add(t,z[5],k),u.add(t,z[6],c),u.add(t,z[7],f),u.add(t,z[8],l),u.add(t,z[9],j),u.add(t,z[10],k),u.add(t,z[11],i),void u.add(t,z[12],m))}function h(a,b){function c(){var a=f.m3-f.m1;return a?f.cc.h*w.o.n/a:0}function d(a){return 1*((f.m3-a)*f.kr).toFixed()+1*f.e6+.5}function e(b){var c=d(b,f.m3),e={};c>f.cc.h-18||0>c||(f.a(),e.x=f.cc.w-f.cc.rw+5,e.y=~~c,f[f.j1]=v[20],f.b(e.x,e.y),f.c(e.x+5,e.y+8),f.c(e.x+a.ms.rw-5,e.y+8),f.c(e.x+a.ms.rw-5,e.y-8),f.c(e.x+5,e.y-8),f.c(e.x,e.y),f[f.l]=w.f[w.o.g].ir,f.e(),f[f.l]=w.f[w.o.g].sj,f.f(b,e.x+5,e.y))}var f=this,b=b[1],g={t:null,ts:1,nl:1,n:null};return f.sa?f:(f.sa=!0,f.d6=function(a,b,h,i,j){var k,l,m,n,o,p,q={e9:a[0],e8:a[1],n:a[2],t:a[3],ts:a[4],ta:a[5],e7:b},r=1*q.ts>1*q.e8,s=r?w.f[w.o.g].p0:w.f[w.o.g].p5,t=w.a[w.o.j]||w.a[7],u=t[0]/2!=(t[0]/2).toFixed();return f.e6=~~(f.cc.h*(.5-w.o.n/2)),f.kr||(f.kr=c(),e(w.o.d?j.pop()[4]:q.ts)),f[f.m]=s,f[f.l]=s,f.a(),l=t[0]*b+t[0]/2+(u?0:.5),l>f.cc.w-t[0]&&w.o.d?null:(o=d(q.n,f.m3),p=d(q.t,f.m3),t[1]>2?(k=l-t[1]/2+.5,r?(m=d(q.ts,f.m3),n=d(q.e8,f.m3)-m):(m=d(q.e8,f.m3),n=d(q.ts,f.m3)-m),!w.o.u&&f.s0(k,m,t[1],n,r),f.b(l,o),f.c(l,m),f.b(l,m+n),f.c(l,p)):(f.b(l,o),f.c(l,p==o?o+.5:p)),w.o.u||(f.d(),(f.m3==q.n||f.m1==q.t)&&(f[f.m]=w.f[w.o.g].p3,f[f.l]=w.f[w.o.g].p3,f.a(),f[f.k]=v[21]),w.o.x&&f.m3==q.n&&!g.n&&(f.b(l+18,o-13*g.nl),f.c(l,o-13*g.nl),f.c(l,o),f.c(l+3,o-5),f.b(l,o),f.c(l-3,o-5),f.f(q.n,l+20,o-13*g.nl),f.d(),g.n=1),w.o.y&&f.m1==q.t&&!g.t&&(f.b(l+10,p+13*g.ts),f.c(l,p+13*g.ts),f.c(l,p),f.c(l+3,p+5),f.b(l,p),f.c(l-3,p+5),f.f(q.t,l+10,p+13*g.ts),f.d(),g.t=1)),{i:b+w.o.c,str:h,e0:l,e11:s,d6X:k,e10:t,e12:r})},f.s0=function(a,b,c,d,e){var g=e?w.f[w.o.g].p9:w.f[w.o.g].p8;v[22]==g&&f.g(a,b,c,d),d?f.i(a,b,c,d):(f.b(a,b),f.c(a+c,b))},void(f.f0=function(a){f.j(0,0,a.w,a.h),b.j(0,0,a.w,a.h),f.kr=!1,g={t:null,ts:1,nl:1,n:null}}))}function i(a,b){function c(a,b){return v[23]==typeof a?Math.max(a[0]?a[0]<1?a[0]*b:a[0]:0,a[1]?a[1]<1?a[1]*b:a[1]:0):a}function d(a,b,c,d,e,f,g,i){var j=g-a*c,b=b*f/2,k=d+a*c*f;k=1*k.toFixed(),w.o.s&&2!==i&&(h[h.m]=w.o.sc,h.a(),h.n(.5,k+.5),h.p(e+.5,k+.5),h.d()),h[h.l]=w.f[w.o.g].p3,h[h.m]=w.f[w.o.g].p7,h.a(),h.b(e+.5,k+.5),h.c(e+5.5,k+.5),a&&1===!i&&(h.b(e+.5,k-b+.5),h.c(e+5.5,k-b+.5)),h[h.k]=v[24],j=j.toFixed(2),j>1e8?j=(1e4*(j/1e4)).toFixed()+w.STR[17]:j>1e4&&(j=(j/1e4).toFixed()+w.STR[18]),2===i?k-=5:(h.f(j,e+8.5,k),h.d())}function e(a,b,c,e,f,g,h){for(var i=b+1,j=a/b;i--;)d(i/b,j,a,c,e,f,g,h),2===h&&(h=null)}function f(b,c){var d,e,f,g=b.e0,i=h.cc.vi+h.cc.vh+.5,j=c*w.d[w.o.k],k=b.data[b.i][0];h[h.l]=w.f[w.o.g].p3,h[h.m]=w.f[w.o.g].p7,h.a(),h.b(g,i),h.c(g,i+5),h[h.k]=v[27],18e3>=j?(d=a.b3(k,v[28]),e=32):604800>=j?(d=a.b3(k,w.q[0]),e=52):(d=a.b3(k,w.q[1]),e=64),f=g-e/2,f=0>f?0:f,h.f(d,f,i+15),h.d()}function g(a,b){var c=w.o.A?1-w.o.A:.5,d=a,e=b,f=(w.o.B||.02,w.f[w.o.g].sj,w.f[w.o.g].p2,Math.min(d,e)*(1-c)/2),g=(1*(.5*f).toFixed(),1*(1.09091*f).toFixed(),1*(.09*f).toFixed(),1*(.176364*f).toFixed(),1*(.46*f).toFixed()),h=1*(.454546*f).toFixed(),i={x:d/2,y:e/2,left:d/2-f,top:e/2-f};({x:1*(g+i.left).toFixed(),y:1*(h+i.top).toFixed()})}var h=this;return h.bd?h:(h.bd=!0,h.x=function(){var a=h.m3-h.m1,b=h.cc.vol*w.o.n,c=~~(b/w.o.o),d=(h.cc.vol-b)/2,f=h.cc.w;e(a,c,d,f,h.kr,h.m3)},h.v=function(){var a=h.u3,b=h.cc.vh*w.o.n,c=~~(b/w.o.o),d=h.cc.vol+h.cc.vh-b,f=h.cc.w;e(a,c,d,f,h.u2,h.u3,2)},h.u=function(){var a,b,c,d,e,f=h[w.o.m];f&&(a=h.cc.w,b=f.offsetTop,c=f.m3-f.m1,d=h.cc.vh*w.o.n,e=~~(d/w.o.o))},h.d3=function(a){var b=a.e10[0],c=Math.ceil(w.o.r/b);step=(a.str-a.i-1)%c,step||f(a,c)},void(h.d8=function(d,e){var f=(d.w,w.o.q),i=w.o.h,j=w.o.i;i=~~c(i,d.w),j=~~c(j,d.h),h.cc={size:d,rw:i,vh:j,ad:f,vol:d.h-2*j-f,vi:d.h-j-f,w:d.w-i,h:d.h-2*j-f},a.ms=h.cc,e&&(a.v5.t.width=d.w,a.v5.t.height=d.h,a.v6.t.width=d.w,a.v6.t.height=h.cc.h,a.v7.t.width=d.w,a.v7.t.height=d.h,b[0].width=d.w,b[0].height=h.cc.h-1,b[0].style.top=v[37],a.z[0].style.top=d.h-2*j-f<30?v[38]:v[39],a.z[1].style.top=d.h-2*j-f+1+v[40],a.z[2].style.top=d.h-j-f+1+v[41]),g(d.w-i,d.h-f,e),h[h.m]=w.f[w.o.g].p7,h.a(),w.o.t&&(h.b(.5,.5),h.c(d.w,.5),h.b(d.w-.5,0),h.c(d.w-.5,d.h-f+.5),h.b(.5,0),h.c(.5,d.h-f+.5)),h.b(d.w-i+.5,0),h.c(d.w-i+.5,d.h-f),h.b(0,d.h-2*j-f+.5),h.c(d.w,d.h-2*j-f+.5),h.b(0,d.h-j-f+.5),h.c(d.w,d.h-j-f+.5),h.b(0,d.h-f+.5),h.c(d.w,d.h-f+.5),h.d(),h[h.j1]=v[42],h[h.k]=v[43],h[h.l]=w.f[w.o.g].p3,h[h.j2]=v[44],h.f(w.o.b,d.w-7,d.h-7),h[h.j2]=v[45]}))}function j(a,b){var c=this,d=[],b=b[1];if(c.v1=[],c.dv)return c;c.dv=!0,d[5]=0,d[10]=1,d[30]=2,d[60]=3,d[120]=4,d[250]=5;var e=function(){function a(a,e,f,g,h){for(var i,j=0,k=h||0===h?h:d[a]?d[a]:0,l=0;a>l;l++)j+=1*e[g-l][4];return i=j,j=c.kr*(c.m3-j/a)+1*c.e6,c.c1.a[a]&&(b.a(),b[b.m]=w.f[w.o.g].sj2[k],b.b(c.c1.a[a][0],c.c1.a[a][1]),b.c(f,j),b.d()),c.c1.a[a]=[f,j],i}function e(a,b,c,d){for(var e=0,f=0;a>f;f++)e+=Math.pow(1*c[d-f][4]-b,2);return Math.sqrt(e/a)}function f(b,e,f){var h,i=w.m||[5,10,30,60,120,250],j=0,k=i.length;if(w.o.u)return g(b,e,f);for(;k>j;j++)b>i[j]-2&&(h=a(i[j],e,f,b)),c.v1[b]||(c.v1[b]=[]),c.v1[b].push([v[46]+i[j],h||0===h?(h/i[j]).toFixed(2):v[47],d[i[j]]]),h=null}function g(b,e,f){var g,i=w.o.p||60;h(v[48],e[b][4],f,0),c.v1[b]=[],b+1>=w.o.p&&(g=a(w.o.p,e,f,b,1)),c.v1[b].push([v[49]+i,g||0===g?(g/i).toFixed(2):v[50],d[10]]),g=null}function h(a,d,e,f){var g=c.kr*(c.m3-d)+1*c.e6;c.c1.a[a]&&(b.a(),b[b.m]=w.f[w.o.g].sj2[f],b.b(c.c1.a[a][0],c.c1.a[a][1]),b.c(e,g),b.d()),c.c1.a[a]=[e,g]}function i(b,d,f){var i,j,k,l=w.g||20;return w.o.u?g(b,d,f):(b+1>=l&&(i=a(l,d,f,b,0),j=i/l,k=e(l,j,d,b),h(v[51],j+2*k,f,1),h(v[52],j-2*k,f,2)),void(c.v1[b]=[[v[53],i||0===i?j.toFixed(2):v[54],0],[v[55],!i&&0!==i||!k&&0!==k?v[56]:(j+2*k).toFixed(2),1],[v[57],!i&&0!==i||!k&&0!==k?v[58]:(j-2*k).toFixed(2),2]]))}return{MA:f,BOLL:i}}();c.d1=function(a){e[w.o.l]&&e[w.o.l](a.i,a.data,a.e0)},c.f2=function(){c.c1.a=[],c.v1=[]}}function k(a){function b(b){var c,d=a.v5.as;return b<a.ms.h?c=(d.m3-(b-d.e6-.5)/d.kr).toFixed(2):b<a.ms.vi?(c=((d.cc.vi-b)/d.u2).toFixed(2),c>1e8?c=(1e4*(c/1e4)).toFixed()+v[59]:c>1e4&&(c=(c/1e4).toFixed()+v[60])):c=(d.u1-(b-d.cc.vi-d.cc.vh*(1-w.o.n)/2-.5)/d.g1).toFixed(2),c}var c=this;return c.ks?c:(c.ks=!0,c.a1=function(a){c.j(0,0,a.w,a.h)},c.ir=function(b,d,e,f){c[c.m]=w.f[w.o.g].ir,c.a1(e),c.a(),c.b(b,0),c.c(b,e.h-w.o.q),~~d-.5-f.y<e.h-w.o.q&&(c.b(0,~~d-.5-f.y),c.c(e.w-a.ms.rw,~~d-.5-f.y)),c.d()},void(c.iw=function(d,e,f,g,h){var i={};w.d[w.o.k]<86400?(i.e9=a.b3(d[0],v[61]),i.w=130):(i.e9=a.b3(d[0],v[62]),i.w=76),~~f-.5-h.y<g.h-w.o.q&&(c.a(),i.x=g.w-a.ms.rw,i.y=~~f-.5-h.y,c[c.j1]=v[63],c.b(i.x,i.y),c.c(i.x+5,i.y+8),c.c(i.x+a.ms.rw,i.y+8),c.c(i.x+a.ms.rw,i.y-8),c.c(i.x+5,i.y-8),c.c(i.x,i.y),c[c.l]=w.f[w.o.g].ir,c.e(),c[c.l]=w.f[w.o.g].sj,i.val=b(i.y),c.f(i.val,i.x+10,i.y)),c.a(),c[c.m]=w.f[w.o.g].ir,c[c.l]=w.f[w.o.g].sj,i.x=e-i.w/2,i.x=i.x<1?1:i.x,i.y=g.h-a.ms.ad+.5,c[c.j1]=v[64],c.b(i.x,i.y),c.c(i.x+i.w,i.y),c.c(i.x+i.w,i.y+w.o.q-1.5),c.c(i.x,i.y+w.o.q-1.5),c.c(i.x,i.y),c.d(),c.e(),c[c.l]=w.f[w.o.g].ir,c.f(i.e9,i.x+8,i.y+w.o.q/2)}))}function l(a){var b=this;return b.sl?b:(b.sl=!0,b.d7=function(c,d,e){b.a(),b[b.l]=w.f[w.o.g].ir,b.h(d,e-a.pst.y,2,0,2*Math.PI,!0),b.e()},void(b.da=function(c,d,e){b.a(),b[b.l]=w.f[w.o.g].ir,b.h(d,e-a.pst.y,2,0,2*Math.PI,!0),b.e()}))}function m(){function a(a,b,c){for(var d=(b+1)*b/2,e=0,f=0;b--;f++)e+=a(c-f)*(b+1)/d;return e}function b(b,c){function d(a){return f[a]?f[a][4]:NaN}function e(b){return a(d,w.k[0],b)-a(d,w.k[1],b)}var f=c,g=b;return b<w.k[1]-1?NaN:e(g)}function c(c,d){function e(a){return b(a,d)}function f(b){return a(e,w.k[2],b)}var g,h=c;return g=f(h)}function d(){return t.g1=!0,t.u1=A,t.cc.vh*w.o.n/(A-B)}function e(a,b,c){a<t.cc.vi||(t[t.m]=w.o.sc,t.a(),c?(t.b(0,a),t.c(t.cc.w+5.5,a)):(t.n(0,a),t.p(t.cc.w+5.5,a)),t[t.l]=w.f[w.o.g].p3,t[t.k]=v[65],t.f(b,t.cc.w+8.5,a),t.d())}function f(a){var b,c=x[a.i-w.o.c].macd;t.g1||(t.g1=d(),u=t.cc.vh*(.5-w.o.n/2)+t.cc.vi,t.cd=~~(t.g1*A+u)+.5,e(t.cd,0,1),t.MACD={m3:A,m1:B,rule:t.g1,offsetTop:u,cd:t.cd}),t[t.m]=0>c?w.f[w.o.g].p5:w.f[w.o.g].p0,t.a(),t.b(a.e0,t.cd),b=t.g1*c,t.c(a.e0,t.cd-b),t.d(),j(a,v[66],x[a.i-w.o.c].dif,w.f[w.o.g].sj2[0]),j(a,v[67],x[a.i-w.o.c].dea,w.f[w.o.g].sj2[1])}function g(a){t.g1||(t.g1=d(),u=t.cc.vh+t.cc.vi-t.cc.vh*(.5-w.o.n/2),e(u-t.g1*(100-B),100),e(u-t.g1*(50-B),50),e(u-t.g1*(0-B),0),t.KDJ={m3:A,m1:B,rule:t.g1,offsetTop:t.cc.vh*(.5-w.o.n/2)+t.cc.vi}),j(a,v[68],x[a.i-w.o.c].K,w.f[w.o.g].sj2[0]),j(a,v[69],x[a.i-w.o.c].D,w.f[w.o.g].sj2[1]),j(a,v[70],x[a.i-w.o.c].J,w.f[w.o.g].sj2[2])}function h(a){t.g1||(t.g1=d(),u=t.cc.vh+t.cc.vi-t.cc.vh*(.5-w.o.n/2),e(u-t.g1*(80-B),80),e(u-t.g1*(50-B),50),e(u-t.g1*(20-B),20),t.RSI={m3:A,m1:B,rule:t.g1,offsetTop:t.cc.vh*(.5-w.o.n/2)+t.cc.vi}),j(a,v[71],x[a.i-w.o.c].RSI1,w.f[w.o.g].sj2[0]),j(a,v[72],x[a.i-w.o.c].RSI2,w.f[w.o.g].sj2[1]),j(a,v[73],x[a.i-w.o.c].RSI3,w.f[w.o.g].sj2[2])}function i(a){t.g1||(t.g1=d(),u=t.cc.vh+t.cc.vi-t.cc.vh*(.5-w.o.n/2),e(u-t.g1*(80-B),80),e(u-t.g1*(50-B),50),e(u-t.g1*(20-B),20),t.WR={m3:A,m1:B,rule:t.g1,offsetTop:t.cc.vh*(.5-w.o.n/2)+t.cc.vi}),j(a,v[74],x[a.i-w.o.c].WR1,w.f[w.o.g].sj2[0]),j(a,v[75],x[a.i-w.o.c].WR2,w.f[w.o.g].sj2[1])}function j(a,b,c,d){if(c||0===c){var e=null===t.cd?u-t.g1*(c-B):t.cd-t.g1*c;t.c1.a7[b]&&(t[t.m]=d,t.a(),t.b(t.c1.a7[b][0],t.c1.a7[b][1]),t.c(a.e0,e),t.d()),t.c1.a7[b]=[a.e0,e]}}function k(a,b){return 1>a?NaN:b[a-1][4]}function l(a,b,c,d){var e=0;if(d-1>b)return NaN;for(var f=0;d>f;f++)e+=a(b-f,c);return e/d}function m(a,b){return Math.max(b[a][4]-k(a,b),0)}function n(a,b){return Math.abs(b[a][4]-k(a,b))}function o(a,b){return 100*((b[a][4]-r(a,b,w.l.N))/(q(a,b,w.l.N)-r(a,b,w.l.N)))}function p(a,b){return l(o,a,b,w.l.M1)}function q(a,b,c){var d=Number.MIN_VALUE;if(c-1>a)return NaN;for(var e=0;c>e;e++)d=Math.max(b[a-e][2],d);return d}function r(a,b,c){var d=Number.MAX_VALUE;if(c-1>a)return NaN;for(var e=0;c>e;e++)d=Math.min(b[a-e][3],d);return d}function s(){function a(a,d,e){var f=b(a,e),g=c(a,e),h=2*f-2*g;x.unshift({e7:a,macd:h,dif:f,dea:g}),f&&(A=Math.max(A,f),B=Math.min(B,f)),g&&(A=Math.max(A,g),A=Math.max(A,h),B=Math.min(B,g),B=Math.min(B,h)),t.v3[a]=[[v[76],f||0===f?f.toFixed(2):v[77],0],[v[78],g||0===g?g.toFixed(2):v[79],1],[v[80],h||0===h?h.toFixed(2):v[81],2]]}function d(a,b,c){var d,e,f;a+1<w.l.N&&a+1<w.l.M1&&a+1<w.l.M2?x.unshift({e7:a,K:null,D:null,J:null}):(d=p(a,c),e=l(p,a,c,w.l.M2),f=3*d-2*e,x.unshift({e7:a,K:d,D:e,J:f}),(d||0===d)&&(A=Math.max(A,d),B=Math.min(B,d)),(e||0===e)&&(A=Math.max(A,e),B=Math.min(B,e)),(f||0===f)&&(A=Math.max(A,f),B=Math.min(B,f))),t.v3[a]=[[v[82],d||0===d?d.toFixed(2):v[83],0],[v[84],e||0===e?e.toFixed(2):v[85],1],[v[86],f||0===f?f.toFixed(2):v[87],2]]}function e(a,b,c){var d,e,f;a<w.j.N1&&a<w.j.N2&&a<w.j.N3?x.unshift({e7:a,RSI1:null,RSI2:null,RSI3:null}):(d=100*(l(m,a,c,w.j.N1)/l(n,a,c,w.j.N1)),e=100*(l(m,a,c,w.j.N2)/l(n,a,c,w.j.N2)),f=100*(l(m,a,c,w.j.N3)/l(n,a,c,w.j.N3)),x.unshift({e7:a,RSI1:d,RSI2:e,RSI3:f}),(d||0===d)&&(A=Math.max(A,d),B=Math.min(B,d)),(e||0===e)&&(A=Math.max(A,e),B=Math.min(B,e)),(f||0===f)&&(A=Math.max(A,f),B=Math.min(B,f))),t.v3[a]=[[v[88],d||0===d?d.toFixed(2):v[89],0],[v[90],e||0===e?e.toFixed(2):v[91],1],[v[92],f||0===f?f.toFixed(2):v[93],2]]}function f(a,b,c){var d,e,f,g;a+1<w.i.N&&a+1<w.i.N1?x.unshift({e7:a,WR1:null,WR2:null}):(f=q(a,c,w.i.N),g=q(a,c,w.i.N1),d=100*(f-c[a][4])/(f-r(a,c,w.i.N)),e=100*(g-c[a][4])/(g-r(a,c,w.i.N1)),x.unshift({e7:a,WR1:d,WR2:e}),(d||0===d)&&(A=Math.max(A,d),B=Math.min(B,d)),(e||0===e)&&(A=Math.max(A,e),B=Math.min(B,e))),t.v3[a]=[[v[94],d||0===d?d.toFixed(2):v[95],0],[v[96],e||0===e?e.toFixed(2):v[97],1]]}return{MACD:a,KDJ:d,RSI:e,WR:f}}var t=this,u=0,x=[],y={},z=null,A=Number.MIN_VALUE,B=Number.MAX_VALUE;return t.ac?t:(t.ac=!0,t.g1=!1,t.cd=null,t.v3=[],t.f1=function(){x.length=0,t.c1.a7=[],A=Number.MIN_VALUE,B=Number.MAX_VALUE,t.g1=!1,t.MACD=null,t.KDJ=null,t.RSI=null,t.WR=null,t.cd=null,t.v3=[]},y.fn={MACD:f,KDJ:g,RSI:h,WR:i},t.d2=function(a){y.fn[w.o.m]&&y.fn[w.o.m](a)},void(t.d7=function(a,b,c){!z&&(z=s()),z[w.o.m]&&z[w.o.m](a,b,c)}))}function n(){function a(){return d.u2=!0,d.cc.vh*w.o.n/d.u3}function b(a,b,c,f){function g(g){var h,i,j=0;e++,i=e++%b;for(var k=0;g>k;k++)j+=1*c[a-k][5];h=j/g,j=1*d.cc.vi-d.u2*j/g,d.c1.a2[g]&&(d[d.m]=w.f[w.o.g].sj2[i],d.a(),d.b(d.c1.a2[g][0],d.c1.a2[g][1]),d.c(f,j),d.d()),d.v2[a].push([v[98]+g,h||0===h?h.toFixed(2):v[99],i]),d.c1.a2[g]=[f,j]}var b=0;for(var h in w.h)w.h.hasOwnProperty(h)&&(b++,a>w.h[h]-2&&g(w.h[h]))}var c=w,d=this,e=0;return d.v2=[],d.u2=!1,d.cd?d:(d.cd=!0,d.d4=function(e){var f,g,h=e.data[e.i][5],i=0,j=d.cc.vol+d.cc.vh;d[d.m]=e.e11,d[d.l]=e.e11,d.a(),d.u2||(d.u2=a()),f=(d.u2*h).toFixed(),g=0>=f?j-i+.5:j-f-i+.5,e.e10[1]>1?d.s0(e.d6X,g,e.e10[1],f,e.e12,e.i):(d.b(e.e0,g),d.c(e.e0,0==f?1*g+.5:1*g+1*f),d.d()),d.v2[e.i]||(d.v2[e.i]={}),d.v2[e.i]=[[c.STR[16],1*h.toFixed(4),-1]],d.d(),b(e.i,e.str,e.data,e.e0)},void(d.f3=function(){d.c1.a2=[],d.v2=[],d.u2=!1}))}function o(){var a=this;a.o||(a.n=function(b,c){a.b(b,c),a.o.x=b,a.o.y=c}),a.o={},a.p=function(b,c,d){for(var e,f,d=void 0===d?3:d,g=a.o.x,h=a.o.y,i=b-g,j=c-h,k=Math.floor(Math.sqrt(i*i+j*j)/d),l=0;k>l;++l)e=g+i/k*l,f=h+j/k*l,0===l%2?a.n(e,f):a.c(e,f);a.n(b,c)},a.a=a.beginPath,a.b=a.moveTo,a.c=a.lineTo,a.d=a.stroke,a.e=a.fill,a.f=a.fillText,a.g=a.fillRect,a.h=a.arc,a.i=a.rect,a.j=a.clearRect,a.j2=v[101],a.j1=v[102],a.k=v[103],a.l=v[104],a.m=v[105]}function p(){function a(){function a(){var a=[].slice.apply(arguments),b=a.shift();g[b]&&g[b].apply(g,a)}function b(a,b,c){return g.d6(a,b,c,R,T)}function c(a,b){g.d7(a,b,T)}function d(a){g.d8(K,a)}function e(){g.x(),g.v(),g.u()}function f(){g.f0(K),g.f1(),g.f2(),g.f3()}var g=O[1],h=O[0];return g.c1={a:[],a2:[],a7:[]},{t:h,as:g,clear:f,c2:d,c3:e,tt:a,t1:b,ct:c}}function b(){var a=P[1],b=P[0];return{t:b,as:a}}function c(){function a(a,b){d.ir(a,b,K,R)}function b(a,b,c){d.iw(T[a],b,c,K,R)}function c(){d.a1(K)}var d=Q[1],e=Q[0];return{t:e,as:d,id:a,iw:b,ae:c}}function p(a,b){var c,d,e,f=0,g=0,h=Number.MAX_VALUE,i=w.a[w.o.j]||w.a[7];if(!window.ISPAUSE&&(a&&a.fs&&(K=a)&&b&&(R=b,J.pst=b),J.d5=[],w.o.c=0,w.o.d=w.o.d||0,T=JSON.parse(window.localStorage.getItem(w.n[w.o.f]+w.o.k)),T&&v[106]==typeof T&&T.length)){if(d=T.length,L.clear(),a&&a.fs?L.c2(!0):(L.c2(X),X=!1),!L.as.cc.w)return;if(c=~~((L.as.cc.w-50)/i[0]),0>c)return;
w.o.age=c,J.str=d,J.age=c,w.o.e=d-c,e=c>d?d:c,w.o.e>0&&(w.o.c=w.o.e),w.o.d>w.o.e&&w.o.e>0&&(w.o.d=w.o.e),e==d&&(w.o.d=0),w.o.c-=w.o.d;for(var j=e,k=d-1-w.o.d;j--;k--)f=Math.max(T[k][2],f),g=Math.max(T[k][5],g),h=Math.min(T[k][3],h),L.ct(k,d);L.as.m3=f,L.as.m1=h,L.as.u3=g,L.as[L.as.j1]=v[107];for(var l,j=e,k=d-1-w.o.d;j--;k--)l=L.t1(T[k],j,d),l&&(!l.data&&(l.data=T),J.d5.push(l),L.tt(v[108],l),L.tt(v[109],l),L.tt(v[110],l),L.tt(v[111],l));t(),J.d5=J.d5.reverse(),L.c3(),l&&(l.data=null)}}function r(a,b){var c=a<Math.pow(10,11)?new Date(1e3*a):new Date(a),d=c.getFullYear(),e=s(c.getMonth()+1),f=s(c.getDate()),g=s(c.getHours()),h=s(c.getMinutes()),i=s(c.getSeconds());return b?b.replace(v[112],d).replace(v[113],e).replace(v[114],f).replace(v[115],g).replace(v[116],h).replace(v[117],i):d+v[118]+e+v[119]+f+v[120]+g+v[121]+h+v[122]+i}function s(a){return a>9?a:v[123]+a}function t(a){if(!J.e1){var b,c=a||0===a?L.as.v1[a]:L.as.v1[L.as.v1.length-1],d=a||0===a?L.as.v2[a]:L.as.v2[L.as.v2.length-1],e=a||0===a?L.as.v3[a]:L.as.v3[L.as.v3.length-1],f=v[124],g=w.d[w.o.k]<86400?v[125]:v[126],h=v[127]+w.f[w.o.g].sj+v[128],i=w.f[w.o.g].sj2,j=w[x[w.o.m]],k=[];if(T){if(b=a||0===a?T[a]:T[T.length-1-w.o.d],J.z[0].innerHTML=v[129]+h+w.f[w.o.g].p3+w.STR[0]+r(b[0],g)+w.STR[1]+w.STR[2]+h+w.f[w.o.g].p3+w.STR[3]+b[1]+w.STR[4]+w.STR[5]+h+w.f[w.o.g].p3+w.STR[6]+b[2]+w.STR[7]+w.STR[8]+h+w.f[w.o.g].p3+w.STR[9]+b[3]+w.STR[10]+w.STR[11]+h+w.f[w.o.g].p3+w.STR[12]+b[4]+w.STR[13]+w.STR[14]+h+w.f[w.o.g].p3+w.STR[15]+1*b[5].toFixed(4)+v[146],c&&c.length){for(var l=0,m=c.length;m>l;l++)f+=v[147]+h+(~c[l][2]?i[c[l][2]]:w.f[w.o.g].p3)+v[148]+c[l][0]+v[149]+c[l][1]+v[150];J.z[0].innerHTML+=f,f=v[151]}if(d&&d.length){for(var l=0,m=d.length;m>l;l++)f+=v[152]+h+(~d[l][2]?i[d[l][2]]:w.f[w.o.g].p3)+v[153]+d[l][0]+v[154]+d[l][1]+v[155];J.z[1].innerHTML=f}if(e&&e.length){if(f=v[156]+h+w.f[w.o.g].p3+v[157]+w.o.m+v[158],v[159]===w.o.m)f+=w.k.join(v[160]);else{for(var n in j)j.hasOwnProperty(n)&&k.push(n+v[161]+j[n]);f+=k.join(v[162])}f+=v[163];for(var l=0,m=e.length;m>l;l++)f+=v[164]+h+(~e[l][2]?i[e[l][2]]:w.f[w.o.g].ir)+v[165]+e[l][0]+v[166]+e[l][1]+v[167];J.z[2].innerHTML=f}}}}function u(a){J.v4=a}function y(a,b,c){w.o.k!=a||w.o.u?(w.o.u=c,S.changePeriod(a,b)):b&&b()}function z(){var a=w.f[w.o.g].sj;J.style.background=a,w.o.sc=w.f[w.o.g].p1}function A(){return K}function B(a){w.o.l!=a&&(w.o.l=a,p())}function C(a){w.o.m!=a&&(w.o.m=a,p())}function D(a){w.o.g!=a&&(w.o.g=a,z(),p())}function E(a,b){w.o.u?b&&b():(w.o.u=!0,y(v[168],b,1))}function F(a){var a=-1*a;w.o.w||(w.o.j-=a,(w.o.j<0||w.o.j>=w.o.tt)&&(w.o.j<0&&(w.o.j=0),w.o.j>=w.o.tt&&(w.o.j=w.o.tt-1)),p())}function G(){var a=document.createElement(v[169]),b=a.getContext(v[170]);return d(o,b),a.style.cssText+=v[171],J.appendChild(a),[a,b]}function H(){var a,b,c,d=document.createElement(v[172]),e=v[173];return d.innerHTML=v[174],a=d.getElementsByTagName(v[175])[0],b=d.getElementsByTagName(v[176])[0],c=d.getElementsByTagName(v[177])[1],d.style.cssText+=v[178],a.style.cssText+=e,b.style.cssText+=e,c.style.cssText+=e,J.appendChild(d),[a,b,c]}function I(){return S=e(J)}var J,K,L,M,N,O,P,Q,R,S,T,U,V,W=document.createElement(v[179]),X=!0;return W&&W.getContext?(~function(e,o){v[180],J=e&&v[181]==typeof e?document.getElementById(e):e,J&&(w.a.sort(function(a,b){return a[0]-b[0]}),d(f,J),K=J.size(),R=J.position(),O=G(),U=G(),Q=G(),P=G(),V=H(),L=a(),M=b(),N=c(),J.v5=L,J.v6=M,J.v7=N,J.v8=p,J.changeSize=F,J.sz=A,J.mi=U,J.pst=R,J.z=V,J.v9=t,J.b3=r,d(i,L.as,J,U),d(h,L.as,J,U),d(j,L.as,J,U),d(n,L.as,J),d(m,L.as,J),d(k,N.as,J),d(l,M.as,J),d(g,J,J),J.v4=o.currentTools,w.o.a=o.version||w.o.a,w.o.u=o.timeShare||w.o.u,w.o.tt=w.a.length,w.o.j=o.level||w.o.j||7,w.b.a=o.url||w.b.a,w.n=o.symlist||w.n,w.o.r=o.timeSpace||w.o.r||50,w.o.m=o.vIndicator||w.o.m||v[182],w.o.n=o.drawRange||w.o.n||1,w.o.q=o.timeline||w.o.q||20,w.o.o=o.m1RuleHeight||w.o.o||30,w.o.f=o.symbol||w.o.f||0,w.o.g=o.schemes||w.o.g||v[183],w.o.h=o.ruleWidth||w.o.h||[60,.005],w.o.i=o.viceHeight||w.o.i||[80,.2],w.o.l=o.indicator||w.o.l||v[184],w.o.p=o.timeShareMA||w.o.p||60,w.o.s=0===o.dashed?0:o.dashed||1,w.o.t=0===o.border?0:o.border||1,w.o.v=o.stopDrag||w.o.v||0,w.o.w=o.stopZoom||w.o.w||0,w.o.x=o.showHigh||w.o.x||0,w.o.y=o.showLow||w.o.y||0,w.o.z=o.moveThreshold||w.o.z||999,w.o.k=w.o.u?v[185]:o.time||w.o.k,I(),z()),q=w.o.f}.apply(window,arguments),{box:J,req:S,setTools:u,setTime:y,changeMI:B,changeVI:C,rd:p,changeSchemes:D,changeSize:F,noKMode:E}):{req:I(),lower:!0}}var q,r=(a("static/js/exchange/dist/script/module_socket_io"),a("static/js/exchange/dist/script/module_connect")),s=a("static/js/exchange/dist/script/module_socket_api"),t={symbolId:"symbolId",bids:"bids",asks:"asks",trades:"trades",priceNew:"priceNew",level:"level",volume:"volume",amount:"amount",totalAmount:"totalAmount",totalVolume:"totalVolume",amp:"amp",priceOpen:"priceOpen",priceHigh:"priceHigh",priceLow:"priceLow",priceLast:"priceLast",price:"price",priceBid:"priceBid",priceAsk:"priceAsk",topBids:"topBids",topAsks:"topAsks",tradeId:"tradeId",time:"time",timeMin:"timeMin",timeMax:"timeMax",bidId:"bidId",askId:"askId",direction:"direction",version:"version",versionOld:"versionOld",bidName:"bidName",bidPrice:"bidPrice",bidAmount:"bidAmount",bidTotal:"bidTotal",askName:"askName",askPrice:"askPrice",askAmount:"askAmount",askTotal:"askTotal",period:"period",date:"date",count:"count",symbolName:"symbolName",exchangeId:"exchangeId",exchangeName:"exchangeName",currencyId:"currencyId",currencyName:"currencyName",cryptoId:"cryptoId",cryptoName:"cryptoName",cryptoNameZh:"cryptoNameZh",total:"total",suply:"suply",introduction:"introduction",msgType:"msgType",uniqueId:"_id",idCur:"idCur",idPrev:"idPrev",payload:"payload",from:"from",to:"to",requestIndex:"requestIndex",pushType:"pushType",symbolList:"symbolList",symbolIdList:"symbolIdList",retCode:"retCode",retMsg:"retMsg",bidInsert:"bidInsert",bidDelete:"bidDelete",bidUpdate:"bidUpdate",askInsert:"askInsert",askDelete:"askDelete",askUpdate:"askUpdate",commissionRatio:"commissionRatio",poor:"poor",updownVolume:"updownVolume",updownRatio:"updownRatio",priceAverage:"priceAverage",volumeRatio:"volumeRatio",amountRatio:"amountRatio",turnVolume:"turnVolume",turnoverRate:"turnoverRate",outerDisc:"outerDisc",innerDisc:"innerDisc",percent:"percent",accuAmount:"accuAmount",index:"index",row:"row",insertList:"insertList",deleteList:"deleteList",updateList:"updateList",timeStart:"timeStart",timeEnd:"timeEnd",timeServer:"timeServer",isTemp:"isTemp",marketDetail:"marketDetail",tradeDetail:"tradeDetail",marketDepthTop:"marketDepthTop",marketDepthTopShort:"marketDepthTopShort",marketDepth:"marketDepth",reqTradeDetail:"reqTradeDetail",marketDepthTopDiff:"marketDepthTopDiff",marketDepthDiff:"marketDepthDiff",lastKLine:"lastKLine",lastTimeLine:"lastTimeLine",marketOverview:"marketOverview",marketStatic:"marketStatic",reqSymbolList:"reqSymbolList",reqSymbolDetail:"reqSymbolDetail",reqMsgSubscribe:"reqMsgSubscribe",reqMsgUnsubscribe:"reqMsgUnsubscribe",reqTimeLine:"reqTimeLine",reqKLine:"reqKLine",reqMarketDepthTop:"reqMarketDepthTop",reqMarketDepth:"reqMarketDepth",reqTradeDetailTop:"reqTradeDetailTop",reqMarketDetail:"reqMarketDetail",request:"request",message:"message",pushLong:"pushLong",pushShort:"pushShort",kline1Min:"1min",kline5Min:"5min",kline15Min:"15min",kline30Min:"30min",kline60Min:"60min",kline1Day:"1day",kline1Week:"1week",kline1Mon:"1mon",kline1Year:"1year",klineTimeline:"tl",percent10:"10",percent20:"20",percent50:"50",percent80:"80",percent100:"100",percentTop:"top",marketDepthTopShortLength:20,stringSplit:"|",klineTradeOpen:1,klineTradeLast:2,klineTradeOne:4,klineTradeNone:8,klineTradeMid:16,protocolVersion:1,maxPackageCount:500,tradePackageCount:100,maxTradeId:-1,CODE_OK:200,CODE_PARAM_ERROR:601,CODE_SERVER_ERROR:701,lineLimitSize:300,tradeDetailLimitSize:300,amountDotLength:4,volumeDotLength:2},u={add:document.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},remove:document.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)},target:function(a){return a.target?a.target:window.event.srcElement},delta:function(a){var b=a||window.event,c=b.wheelDelta/-120||b.detail/3;return c},stop:function(a){a&&a.stopPropagation?(a.stopPropagation(),a.preventDefault()):(window.event.cancelBubble=!0,window.event.returnValue=!1)},mouse:function(a){return{x:a.pageX||a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft),y:a.pageY||a.clientY+(document.documentElement.scrollTop||document.body.scrollTop)}}},v=["re","re","v","v","string","lastKLine","CrossLine","GannFan","mousewheel","DOMMouseScroll","resize","mousedown","mouseover","mousemove","mouseup","mouseout","touchstart","touchmove","touchend","keydown","middle","12px arial","solid","object","12px arial","亿","万","12px arial","h:i","m月d日","y年m月","#","rgba(",",",",",",",")","1px","-999px","1px","px","px","bottom","12px arial","right","left","MA","-","noKline","MA","-","ub","lb","BOLL","-","UB","-","LB","-","亿","万","y-m-d h:i:s","y-m-d","middle","middle","12px arial","dif","dea","K","D","J","RSI1","RSI2","RSI3","WR1","WR2","DIF","-","DEA","-","MACD","-","K","-","D","-","J","-","RSI1","-","RSI2","-","RSI3","-","WR1","-","WR2","-","MA","-","%E9%87%8F","textAlign","textBaseline","font","fillStyle","strokeStyle","object","middle","d1","d2","d3","d4","y","m","d","h","i","s","-","-"," ",":",":","0","","y-m-d h:i:s","y-m-d","background:",";display:inline-block;padding-right:5px;padding-top:4px;color:",'<span style="','">日期:',"</span>",'<span style="','">开:',"</span>",'<span style="','">高:',"</span>",'<span style="','">低:',"</span>",'<span style="','">收:',"</span>",'<span style="','">量:',"</span>",'<span style="','">',":","</span>","",'<span style="','">',":","</span>",'<span style="','">',"(","MACD",",",":",",",")</span>",'<span style="','">',":","</span>","1min","canvas","2d",";position:absolute;left:0;top:0;","DL",";position:absolute;left:10px;top:-999px;width:100%;","<dt></dt><dd></dd><dd></dd>","dt","dd","dd",";position:absolute;left:0;top:0;width:100%;font-size:12px;","canvas","construct","string","MACD","chineseHabit","MA","1min","http://hq.huobi.com","huobi.com","60","300","900","1800","3600","86400","604800","2629743","31556926","kline1Min","001","kline5Min","005","kline15Min","015","kline30Min","030","kline60Min","060","kline1Day","100","kline1Week","200","kline1Mon","300","kline1Year","400","#cc1414","#49c043","solid","hollow","#ccc","#666666","#fff","rgba(255,255,255,0.2)","#ffffff","#a6cee3","#fdbf6f","#df8adf","#ffff00","#00ffff","#ff9600","#000000","#fc0404","#00a800","hollow","solid","#999","#666","#c4cdd9","rgba(0,0,0,0.1)","#a6b1c1","#29963b","#ff9600","#ff00d2","#55e100","#8b8b8b","#23d8ff","#0036ff","#ffffff","#ff3232","#54ffff","hollow","solid","#ccc","#666","#666","rgba(255,255,255,0.2)","#aaa","#ffffff","#ffff00","#ff00ff","#00ff00","#00ffff","#ff9600","#000000","btccny","ltccny","0.1","ver 1.0.1","light","1min","MA","KDJ","m","g","h","i","j","k","l"],w=FL_CONFIG,x={MA:v[272],BOLL:v[273],VOLUME:v[274],WR:v[275],RSI:v[276],MACD:v[277],KDJ:v[278]};c.exports=p}),define("static/js/exchange/dist/script/module_oauth",["jquery","static/js/exchange/dist/script/module_ajax"],function(a,b,c){function d(a){var b;return b=new f({url:HRY.host+HRY.modules.oauth+"getUser"},function(a){var b=a.code;switch(b){case"error":break;case"success":void 0!=a.data&&""!=a.data&&(HRYB.user=JSON.parse(a.data),e("#order").removeClass("hide").addClass("current"),e("#trade").removeClass("hide").addClass("current"),e(".head_login").html(""+Lang.L("Hello")+' ， <a href="'+HRY.host+HRY.modules.exstatic+'#/user/base"> '+HRYB.user.userName+' </a>  <a href="'+HRY.host+HRY.modules.oauth+"logout.do?backUrl="+HRY.host+'/market.html" id="logout" class="p_l_10 p_r_10">'+Lang.L("Logout")+"</a>"))}})}var e=a("jquery"),f=a("static/js/exchange/dist/script/module_ajax");b.GetOauth=d}),define("static/js/exchange/dist/script/module_coin",["jquery","static/js/exchange/dist/script/module_tmpl","static/js/exchange/dist/script/module_ajax"],function(a,b,c){function d(a){var b,c=f("#view_coin_list"),d="tmp_coin_list";return b=new h({url:HRY.host+HRY.modules.exmain+"product/getprodictAll/1",datatype:"json"},function(a){var b=a.code;switch(b){case"error":break;case"success":if(void 0!=a.data&&""!=a.data){var a=e(a.data);c.html(g(d,a))}}})}function e(a){for(var b=0;b<a.length;b++)for(var c=0;c<a.length-b-1;c++)if(a[c].sort>a[c+1].sort){var d=a[c];a[c]=a[c+1],a[c+1]=d}return a}var f=a("jquery"),g=a("static/js/exchange/dist/script/module_tmpl"),h=a("static/js/exchange/dist/script/module_ajax");b.GetCoinList=d}),define("static/js/exchange/dist/script/module_appseting",["jquery","static/js/exchange/dist/script/module_ajax"],function(a,b,c){function d(a){var b;return b=new f({url:HRY.host+HRY.modules.exmain+"config/find/baseConfig",datatype:"json"},function(a){var b=a.code;switch(b){case"error":break;case"success":if(void 0!=a&&""!=a){var c=JSON.parse(a.data.obj);e("#logo_img").attr("src",HRY.host+"\\"+c.siteLogo),e("#copyRight").html(c.siteCopyright),HRYB.GLOBAL.appConfigData=c}}})}var e=a("jquery"),f=a("static/js/exchange/dist/script/module_ajax");b.GetAppConfigData=d}),define("static/js/exchange/dist/script/module_balance",["jquery","static/js/exchange/dist/script/module_ajax","static/js/exchange/dist/script/module_hb_extend","static/js/exchange/dist/script/module_number","static/js/exchange/dist/script/module_oauth"],function(a,b,c){var d,e,f,g,h,i,j,k,l,m;d=a("jquery"),e=a("static/js/exchange/dist/script/module_ajax"),f=a("static/js/exchange/dist/script/module_hb_extend"),l=a("static/js/exchange/dist/script/module_number"),m=a("static/js/exchange/dist/script/module_oauth"),g=d("input[name='coin_type']").val(),h={},k={},HRYB.BALANCE=h,k.dom=d(document),k.convert_total_cny=d(".convert_total_cny"),k.convert_total_usd=d(".convert_total_usd"),k.convert_total_btc=d(".convert_total_btc"),k.convert_net_cny=d(".convert_net_cny"),k.convert_net_usd=d(".convert_net_usd"),k.convert_net_btc=d(".convert_net_btc"),k.cny_available=d(".cny_cny_available"),k.cny_btc_available=d(".cny_btc_available"),k.cny_ltc_available=d(".cny_ltc_available"),k.cny_dsc_available=d(".cny_dsc_available"),k.loan_cny_cny=d(".loan_cny_cny"),k.loan_cny_btc=d(".loan_cny_btc"),k.sellRate=d(".sellRate"),k.buyRate=d(".buyRate"),k.minimum=d(".minimum"),k.minprice=d(".minprice"),k.cny_frozen=d(".cny_cny_frozen"),k.cny_btc_frozen=d(".cny_btc_frozen"),k.cny_ltc_frozen=d(".cny_ltc_frozen"),k.cny_loan=d(".cny_cny_loan"),k.cny_btc_loan=d(".cny_btc_loan"),k.cny_ltc_loan=d(".cny_ltc_loan"),k.cny_risk_rate=d(".cny_risk_rate"),k.cny_total=d(".cny_total"),k.cny_net_asset=d(".cny_net_asset"),k.usd_available=d(".usd_usd_available"),k.usd_btc_available=d(".usd_btc_available"),k.usd_frozen=d(".usd_usd_frozen"),k.usd_btc_frozen=d(".usd_btc_frozen"),k.usd_loan=d(".usd_usd_loan"),k.usd_btc_loan=d(".usd_btc_loan"),k.usd_risk_rate=d(".usd_risk_rate"),k.usd_total=d(".usd_total"),k.usd_net_asset=d(".usd_net_asset"),k.fee_rate=d(".fee_rate"),k.head_balance=d("#head_balance"),k.cny_c_a_panel=d("cny_cny_available_panel"),i=function(a,b){function c(a){try{a=JSON.parse(JSON.parse(a)),k.buyRate.attr("data-tips","当前买入费率为"+a.buyFeeRate+"%"),k.sellRate.attr("data-tips","当前卖出费率为"+a.sellFeeRate+"%"),d(".sellrate").val(a.sellFeeRate),d(".buyRate").val(a.buyFeeRate),d(".keepDecimalForCoin").val(a.keepDecimalForCoin),d(".keepDecimalForCurrency").val(a.keepDecimalForCurrency),k.minimum.attr("data-min",a.sellMinCoin),k.minimum.attr("data-max",a.oneTimeOrderNum),k.minprice.attr("data-min",a.buyMinMoney),h.cny_available=1*a.rmb,h.cny_cny_available=1*a.rmb,h.cny_btc_available=1*a.coinHotMoney,h.cny_dsc_available=1*a.coinHotMoney,h.cny_loan=1*a.rMBAccountNetAsse,h.loan_cny_cny=1*a.rMBAccountNetAsse,h.loan_cny_btc=1*a.coinAccountNetAsse,h.cny_btc_loan=1*a.coinAccountNetAsse,h.cny_ltc_loan=1*a.coinAccountNetAsse,k.dom.trigger("__GetBalance",a.ext),g(),b&&b()}catch(c){}}function g(){d.each(k,function(a,b){var c=b.length,e=a.indexOf("btc")>0||a.indexOf("ltc")>0?l(h[a],4):l(h[a],3);1===c?"0"==b.attr("data-flaunted")?b.html("---").attr("data-flaunt",e):b.html(e).attr("data-flaunt",e):c>1&&b.each(function(){var a=d(this);"0"==a.attr("data-flaunted")?a.html("---").attr("data-flaunt",e):a.html(e).attr("data-flaunt",e)})}),h.cny_risk_rate?(d(".cny_loan_rate_yes").show(),d(".cny_loan_rate_no").hide()):(d(".cny_loan_rate_yes").hide(),d(".cny_loan_rate_no").show()),h.usd_risk_rate?(d(".usd_loan_rate_yes").show(),d(".usd_loan_rate_no").hide()):(d(".usd_loan_rate_yes").hide(),d(".usd_loan_rate_no").show()),a.resolve(),h.cny_btc_burst>0||h.cny_ltc_burst>0?h.cny_btc_burst>0?d(".cny_loan_burst_price_btc").find(".price").html(h.cny_btc_burst).end().show().siblings(".cny_loan_burst").hide():h.cny_ltc_burst>0&&d(".cny_loan_burst_price_ltc").find(".price").html(h.cny_ltc_burst).end().show().siblings(".cny_loan_burst").hide():d(".cny_loan_burst_price_no").show().siblings(".cny_loan_burst").hide(),h.usd_btc_burst>0?d(".usd_loan_burst_price_btc").find(".price").html(h.usd_btc_burst).end().show().siblings(".usd_loan_burst").hide():d(".usd_loan_burst_price_no").show().siblings(".usd_loan_burst").hide()}return j=new e({url:HRY.host+HRY.modules.exmain+"account/getAccountInfo",data:{m:"user_balance",coinCode:CURRENT_SYMBOL},refresh:2e3,damp:!0},function(a){"success"==a.code&&c(a.data)}),f({name:"AJAX",value:{GetBalance:j}}),a},c.exports=i});
define("static/js/exchange/dist/script/page_l_order",["./module_order","jquery","./module_ajax","./module_tmpl","./module_md5","./page_l_notice"],function(a,b,c){var d=a("./module_order"),e=a("./page_l_notice"),f=SYMBOL,g=UID&&d.GetOrder({temp:"tmp_us_order",wrap:"view_us_order",coin_type:f,is_history:10,damp:!0},function(){h&&h.Fire()}),h=UID&&d.GetOrder({temp:"tmp_us_order_history",wrap:"view_us_order_history",coin_type:f,is_history:20,delay:0}),i={};i.view_us_order=$("#view_us_order"),i.cancel_order_all=$("#cancel_order_all"),i.view_us_order.on("click",".cancel",function(){var a=$(this),b=a.attr("data-ids"),c=a.parents(".tr"),h=1*a.attr("data-init");return!h&&(a.attr("data-init",1),d.CancelOrder({coin_type:f,id:b},function(b){"loading"==b.code?(c.addClass("cancel"),g.Stop()):"error"==b.code?(c.hasClass("cancel")&&c.removeClass("cancel"),a.attr("data-init",0),e({message:window.Texts&&Texts.NetworkError,type:"error","long":1800}),g.Play()):(0===b.code?(c.next(".hidden_info").remove(),c.slideUp(function(){c.remove(),g.Fire()}),HRYB.AJAX.GetBalance.Fire()):(a.attr("data-init",0),c.hasClass("cancel")&&c.removeClass("cancel"),e({message:b.msg,type:"error","long":1800})),g.Play())}),!1)}),i.cancel_order_all.on("click",function(){var a=$(this),b=a.attr("data-ids")?a.attr("data-ids").split("|"):0;return a.prop("disabled",!0),b&&d.CancelAllOrder({coin_type:f,id:b},function(b){"loading"==b.code?(g.Stop(),i.view_us_order.find(".tr").addClass("cancel")):"error"==b.code?(i.view_us_order.find(".tr").removeClass("cancel"),a.prop("disabled",!1),e({message:window.Texts&&Texts.NetworkError,type:"error","long":1800})):0==b.code?(g.Fire(),g.Play(),a.prop("disabled",!1),HRYB.AJAX.GetBalance.Fire(),e({message:b.msg,"long":1800})):(g.Play(),i.view_us_order.find(".tr").removeClass("cancel"),a.prop("disabled",!1),e({message:b.msg,type:"error","long":1800}))}),!1}),b.GetOrder=g,b.GetHistory=h}),define("static/js/exchange/dist/script/module_order",["jquery","static/js/exchange/dist/script/module_ajax","static/js/exchange/dist/script/module_tmpl","static/js/exchange/dist/script/module_md5"],function(require,exports,module){function GetOrder(options,change){var op=options||{},temp=op.temp,wrap=$("#"+op.wrap),coin_type=op.coin_type,is_history=op.is_history,damp=op.damp,delay=0==op.delay?0:3e3,init=0,hash=[0,0],oldId=[0,0],Fn,time=4;return Fn=new A({url:HRY.host+HRY.modules.exmain+"entrust/findByCustomerId.do",refresh:delay,damp:damp,data:{coin_type:coin_type,status:is_history,page:1,pageSize:5}},function(data){var _code=data.code;switch(_code){case"loading":""==wrap.html()&&wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder"><i class="icon_loading"></i></td></tr>');break;case"error":wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder">'+data.msg+"</td></tr>"),hash=[0,0];break;case"success":if("success"===data.code&&data.data.indexOf("script")==-1){var delegation=eval("("+data.data+")"),_h=D.md5(JSON.stringify(delegation));if(20==is_history){if(_h!==hash[1]){for(var _i=0;_i<delegation.length;_i++){var _t=delegation[_i];_t.id>oldId[1]&&init?_t.new_order=1:_t.new_order=0}wrap.html(M(temp,delegation)),hash[1]=_h,init||(oldId[1]=delegation.length>0?1*delegation[0].id:0),init=1}}else time--,0==data.data.total?time<=0&&(Fn.Stop(),console.log("Order Stop"),time=4):time=4,_h!==hash[0]&&(wrap.html(M(temp,delegation)),hash[0]=_h,change&&change())}else data.code&&wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder"><i class="icon_info"></i> code:'+data.code+", "+(data.msg?data.msg:"")+"</td></tr>"),hash=[0,0]}})}function GetDetails(a){var b=a||{},c=b.temp,d=$(b.wrap),e=b.coin_type,f=b.id,g=b.type;c&&d&&A({url:"/trade/entrust_detail",data:{coin_type:e,order_id:f,delegation_type:g}},function(a){var b=a.code;switch(b){case"loading":d.html('<div class="align_center p_t_30 no_barder"><i class="icon_loading"></i>'+a.msg+"</div>");break;case"error":d.html('<div class="align_center p_t_30 no_barder">'+a.msg+"</div>");break;case"success":0===a.data.code?d.html(M(c,a.data)):a.code&&d.html('<tr><td colspan="100" class="align_center p_t_30 no_barder">code:'+a.data.code+","+a.data.msg?a.data.msg:"</td></tr>")}})}function CancelOrder(a,b){var c=a||{},d=(c.coin_type,"object"==typeof c.id?c.id.join(","):c.id);ids=d,A({url:HRY.host+HRY.modules.exmain+"entrust/cancelExEntrust.do",data:{coinCode:CURRENT_SYMBOL,entrustNums:ids},type:"POST"},function(a){var c=a.code;switch(c){case"loading":b&&b(a);break;case"error":b&&b(a);break;case"success":b&&b(JSON.parse(a.data))}})}function CancelAllOrder(a,b){var c=a||{},d=(c.coin_type,"object"==typeof c.id?c.id.join(","):c.id);ids=d,A({url:HRY.host+HRY.modules.exmain+"entrust/cancelallcoinCodeExEntrust.do",data:{coinCode:CURRENT_SYMBOL,entrustNums:ids},type:"POST"},function(a){var c=a.code;switch(c){case"loading":b&&b(a);break;case"error":b&&b(a);break;case"success":b&&b(JSON.parse(a.data))}})}var $=require("jquery"),A=require("static/js/exchange/dist/script/module_ajax"),M=require("static/js/exchange/dist/script/module_tmpl"),D=require("static/js/exchange/dist/script/module_md5");exports.GetOrder=GetOrder,exports.GetDetails=GetDetails,exports.CancelOrder=CancelOrder,exports.CancelAllOrder=CancelAllOrder}),function(){var a=function(a,b){function c(){d(),F?e():clearTimeout(z)}function d(a){var b="undefined"==typeof a?A:a;p.r=Math.random().toString(36).substr(2),b||$.ajax({url:o,type:s,data:p,dataType:t,jsonp:u,jsonpCallback:y,beforeSend:f,success:g,error:h,complete:i})}function e(){z=setTimeout(c,F)}function f(){b&&b({code:"loading",msg:"loading"})}function g(a){10002==a.flag&&(window.location=D),10003==a.flag&&B.Stop(),v?E--:E=w,E<=0&&F<=x-1e3&&(F+=1e3),b&&b({code:"success",msg:"success",data:a})}function h(){b&&b({code:"error",msg:L("网络异常")})}function i(a,c){b&&b({code:"complete",xhr:a,ts:c,msg:"complete"})}function j(){A=1}function k(){A=0,E=w,F=r}function l(){d(0),E=w,F=r}function m(a){var b=a||{};o=b.url?b.url:o,p=b.data||p,r=b.refresh?1*b.refresh:r,t=b.datatype?b.datatype:t,u=b.jsonp?b.jsonp:u,y=b.jsonpcallback?b.jsonpcallback:y,F=r}var n=a||{},o=n.url?n.url:"/account/ajax.do",p=n.data||{},q=void 0==n.init||n.init,r=n.refresh?1*n.refresh:0,s=n.type||"GET",t=n.datatype?n.datatype:"",u=n.jsonp?n.jsonp:"",v=void 0!=n.damp?n.damp:CONST.AJAX_DAMP,w=CONST.AJAX_DAMP_TIME?CONST.AJAX_DAMP_TIME:6,x=CONST.AJAX_DAMP_REFRESH?CONST.AJAX_DAMP_REFRESH:5e3,y=n.jsonpcallback?n.jsonpcallback:"",z=null,A=0,B=this,C=window.location,D="/account/account.do?a=validate_all&jump_url="+C.pathname+C.search,E=w,F=r;clearTimeout(z),q&&p&&c(),B.Stop=j,B.Play=k,B.Fire=l,B.Update=m};"function"==typeof define?define("static/js/exchange/dist/script/module_ajax",[],function(){return a}):"undefined"!=typeof exports?module.exports=a:window.HbAjax=a}(),function(){function a(c,d){var e=/\W/.test(c)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);},__data = obj;with(obj){p.push('"+c.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):b[c]=b[c]||a(document.getElementById(c).innerHTML);return d?e(d):e}var b={};"function"==typeof define?define("static/js/exchange/dist/script/module_tmpl",[],function(){return a}):"undefined"!=typeof exports?module.exports=a:window.TmpL=a}(),function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;c<16;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}function u(a,b,c){return t(a+"hello, moto",b,c)}"function"==typeof define?define("static/js/exchange/dist/script/module_md5",[],function(){return{md5:t,hbmd5:u}}):(a.md5=t,a.hbmd5=u)}(this),function(){function a(a,c){function d(a,b,c){var d=c||200;setTimeout(function(){a.removeClass(b)},d)}var e=this,f=a||{},g=f.message?f.message:"",h=f.type||"succeed",i=f["long"],j=$('<div id="notice" class="notice"><a href="" class="close">×</a><div class="message">'+g+"</div></div>"),k=$("body"),l=j.find(".message"),m=j.find(".close");return e.Init=function(a){var b;return k.find("#notice").length>0?(j=k.find("#notice"),l=j.find(".message"),m=j.find(".close"),"close"!=a&&j.addClass("reappear"),b=!1):(k.append(j),b=!0),"error"==h?j.addClass("error").removeClass("succeed"):j.removeClass("error").addClass("succeed"),setTimeout(function(){j.removeClass("reappear")},1e3),b},e.Open=function(){var a=e.Init();e.CloseNow=0,a&&(j.removeClass("notice_close").addClass("notice_open"),d(j,"notice_open"))},e.Close=function(){e.Init("close"),e.CloseNow=1,j.addClass("notice_close").removeClass("notice_open"),b[1]=setTimeout(function(){j.remove()},300)},e.Write=function(a){l.html(a||g)},!function(){e.Open(),e.Write(),clearTimeout(b[0]),clearTimeout(b[1]),b[0]=i&&setTimeout(function(){e.Close()},i),m.click(function(){return e.Close(),!1}),j.hover(function(){clearTimeout(b[0])},function(){k.find("#notice").length<=0||(b[0]=i&&setTimeout(function(){e.Close()},i))})}(),e}var b=[];"function"==typeof define?define("static/js/exchange/dist/script/page_l_notice",[],function(){return a}):"undefined"!=typeof exports?module.exports=a:window.Notice=a}();
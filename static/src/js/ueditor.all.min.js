$(function() {
   /* $(".nav-item-step").on('click', function() {
        var e = $(this).parents("li"),
            t = $(this).data("auth");
        if (!e.hasClass("active")) {
            e.addClass("active").removeClass("ready").siblings("li").removeClass("active").removeClass("ready"), e.prevAll("li").addClass("ready");
            var a = $(this).data("step");
            $(".launch-part").hide(), $(".launch-part-" + a).show()
        }
    })*/
    $("#asdasd").on('click', 'span', function() {
        var e = $(this);
        e.hasClass("active") || e.addClass("active").siblings("span").removeClass("active")
    })
    $(".country-select .select-header").on('click', function() {
        $(".country-list").slideToggle()
    })
    $(".pro-select-header").on('click', function() {
        $(".pro-stage-list").slideToggle()
    })
    $(".person-country-list li").on('click', function() {
        var e = $(this).data("val");
        $(".person-country-txt").html($(this).text()), $('input[name="person_id"]').val(e), $(".person-country-list").hide(), $(".filter-search").val("")
    })
    $(".pro-stage-list li").on('click', function() {
        var e = $(this).data("val");
        $(".pro-stage-txt").html($(this).text()), $('input[name="projectStage"]').val(e), $(".pro-stage-list").hide()
    })
    $(".pro-country-list li").on('click', function() {
        var e = $(this).data("val");
        $(".pro-country-txt").html($(this).text()), $('input[name="country_id"]').val(e), $(".pro-country-list").hide(), $(".filter-search").val("")
    })
    $(".finance-select-header").on('click', function() {
        $(".finance-stage-list").slideToggle()
    })
    $(".finance-stage-list li").on('click', function() {
        var e = $(this).data("val");
        $(".finance-stage-txt").html($(this).text()), $('input[name="financingStage"]').val(e), $(".finance-stage-list").hide()
    })
    $(".edit-focus").on('click', function() {
        var e = $(this);
        var d=e.data("id");
        $('input[name="investCoinCode"]').val(d);
        $(".money-type").text(d);
        $(".launch-plan-save").addClass("high-light"),
            e.hasClass("active") || e.addClass("active").siblings().removeClass("active")
    })
    $(".edit-amount").on('click', function() {
        var e = $(this);
        var d=e.data("id");
        if(d=="0"){
        	$(".is-show-money").hide();
        }else{
        	$(".is-show-money").show();
        }
        $('input[name="isLimitedMoney"]').val(d);
        $(".launch-plan-save").addClass("high-light"),
            e.hasClass("active") || e.addClass("active").siblings().removeClass("active")
    })
    
    $(".edit-islimitpeople").on('click', function() {
        var e = $(this);
        var d=e.data("id");
        if(d=="0"){
        	$(".is-show-quota").hide();
        }else{
        	$(".is-show-quota").show();
        }
        $('input[name="isLimitedSize"]').val(d);
        $(".launch-plan-save").addClass("high-light"),
            e.hasClass("active") || e.addClass("active").siblings().removeClass("active")
    })
    
    
     $(".edit-islimittime").on('click', function() {
        var e = $(this);
        var d=e.data("id");
        if(d=="0"){
        	$(".is-show-buy").hide();
        }else{
        	$(".is-show-buy").show();
        }
        $('input[name="isLimitedSupport"]').val(d);
        $(".launch-plan-save").addClass("high-light"),
            e.hasClass("active") || e.addClass("active").siblings().removeClass("active")
    })
    
    
    $(".edit-isfreeshipping").on('click', function() {
        var e = $(this);
        var d=e.data("id");
        $('input[name="isFreeShipping"]').val(d);
        $(".launch-plan-save").addClass("high-light"),
            e.hasClass("active") || e.addClass("active").siblings().removeClass("active")
    })
    
    
    
    $(".limittype-select-header").on('click', function() {
        $(".limittype-list").slideToggle()
    })
    $(".limittype-list li").on('click', function() {
        var e = $(this).data("val");
        $(".limittype-txt").html($(this).text()), $('input[name="isLimitMoney"]').val(e), 0 == e ? ($("#sumMoney").addClass("hide"), $(".moneytype-select-header").removeClass("noborderleft"), $(".moneytype-list").removeClass("noborderleft")) : ($("#sumMoney").removeClass("hide"), $(".moneytype-select-header").addClass("noborderleft"), $(".moneytype-list").addClass("noborderleft")), $(".limittype-list").hide()
    })
    $(".moneytype-select-header").on('click', function() {
        $(".moneytype-list").slideToggle()
    })
    $(".moneytype-list li").on('click', function() {
        var e = $(this).data("val");
        $(".moneytype-txt").html($(this).text()), $('input[name="coinType"]').val(e), $(".moneytype-list").hide()
    })
    $(".ico-agree").on('click', function() {
        $(this).hasClass("unchecked") ? $(this).removeClass("unchecked") : $(this).addClass("unchecked")
    })
    $(".language-select").on('click', ".select-header", function() {
        $(this).siblings(".language-list").slideToggle()
    })
    $(".language-select li").on('click', function() {
        var e = $(this).text(),
            t = $(this).data("value");
        $(".language-txt").text(e), $(".language-list").hide(), O != t && (O = t, location.href = "/launch?id=" + (null == L ? "" : L) + "&language=" + O)
    })


    $(".pitches-nav .nav-item").delegate("li", "click", function() {
        var i = $(this);
        i.siblings().removeClass("active"), i.addClass("active");
        $('.detail-bo').hide().eq($('.pitches-nav .nav-item li').index(this)).show();

    })
    $('.money-panel-input').on('blur', function() {
        var e = $(this),
            t = "" == e.val() ? "1" : 0 == e.val() ? "1" : e.val();
        e.val(t);
        e.siblings(".money-panel-num").text(t),
        e.addClass("hide").siblings().removeClass("hide");
    })
    $('.input-box').on('click',function() {
        var e = $(this);
        e.children(".money-panel-input").removeClass("hide").focus().siblings().addClass("hide")
    })
    $(".funds-item-header").on('click', function(e) {
        var t = $(this),
            a = t.parent(),
            s = t.find(".funds-detail-toggle"),
            n = t.find(".funds-checkbox");
        return !n[0].contains(e.target) && void(s.hasClass("open") ? (s.removeClass("open").find("span").text('展开详情'), a.find(".funds-item-body").slideUp()) : (s.addClass("open").find("span").text('展开详情'), a.find(".funds-item-body").slideDown()))
    })

    // 进度条数据赋值
    var t, i = $(".current-percent");
    t = i.data("number"), t > 100 && (t = 100, i.css("borderRadius", "7px")), i.css("width", t + "%");
    var t, i = $(".current-percents");
    t = i.data("number"), t > 100 && (t = 100, i.css("borderRadius", "7px")), i.css("width", t + "%")
        //支付倒计时
    var x = 30,
        interval;
    var d = new Date("1111/1/1,0:" + x + ":0");
    interval = setInterval(function() {
        var m = d.getMinutes();
        var s = d.getSeconds();
        var stens=parseInt(s/10),sones=parseInt(s%10),mtens=parseInt(m/10),mones=parseInt(m%10);
        m = m < 10 ? "0" + m : m;
        s = s < 10 ? "0" + s : s;
        $("#remain_time").val(m + ":" + s);
        if (m == 0 && s == 0) {
            clearInterval(interval);
            return;
        }
        $('.time-second-tens').text(stens),$('.time-second-ones').text(sones),$('.time-minute-tens').text(mtens),$('.time-minute-ones').text(mones);
        d.setSeconds(s - 1);
    }, 1000);

})

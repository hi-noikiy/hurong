!function(t,e,s){var o=function($,s){"use strict";var o=function(t,e){if(!(this instanceof o))throw"Warning: AutoFill must be initialised with the keyword 'new'";if(!$.fn.dataTableExt.fnVersionCheck("1.7.0"))throw"Warning: AutoFill requires DataTables 1.7 or greater";return this.c={},this.s={filler:{height:0,width:0},border:{width:2},drag:{startX:-1,startY:-1,startTd:null,endTd:null,dragging:!1},screen:{interval:null,y:0,height:0,scrollTop:0},scroller:{top:0,bottom:0},columns:[]},this.dom={table:null,filler:null,borderTop:null,borderRight:null,borderBottom:null,borderLeft:null,currentTarget:null},this.fnSettings=function(){return this.s},this._fnInit(t,e),this};return o.prototype={_fnInit:function(t,r){var i=this;this.s.dt=s.Api?new s.Api(t).settings()[0]:t.fnSettings(),this.s.init=r||{},this.dom.table=this.s.dt.nTable,$.extend(!0,this.c,o.defaults,r),this._initColumns();var l=$("<div/>",{class:"AutoFill_filler"}).appendTo("body");this.dom.filler=l[0],this.s.filler.height=l.height(),this.s.filler.width=l.width(),l[0].style.display="none";var n,d=e.body;""!==i.s.dt.oScroll.sY&&(i.s.dt.nTable.parentNode.style.position="relative",d=i.s.dt.nTable.parentNode),n=$("<div/>",{class:"AutoFill_border"}),this.dom.borderTop=n.clone().appendTo(d)[0],this.dom.borderRight=n.clone().appendTo(d)[0],this.dom.borderBottom=n.clone().appendTo(d)[0],this.dom.borderLeft=n.clone().appendTo(d)[0],l.on("mousedown.DTAF",function(t){return this.onselectstart=function(){return!1},i._fnFillerDragStart.call(i,t),!1}),$("tbody",this.dom.table).on("mouseover.DTAF mouseout.DTAF",">tr>td, >tr>th",function(t){i._fnFillerDisplay.call(i,t)}),$(this.dom.table).on("destroy.dt.DTAF",function(){l.off("mousedown.DTAF").remove(),$("tbody",this.dom.table).off("mouseover.DTAF mouseout.DTAF")})},_initColumns:function(){var t,e,s=this,r=this.s.dt,i=this.s.init;for(t=0,e=r.aoColumns.length;t<e;t++)this.s.columns[t]=$.extend(!0,{},o.defaults.column);for(r.oApi._fnApplyColumnDefs(r,i.aoColumnDefs||i.columnDefs,i.aoColumns||i.columns,function(t,e){s._fnColumnOptions(t,e)}),t=0,e=r.aoColumns.length;t<e;t++){var l=this.s.columns[t];l.read||(l.read=this._fnReadCell),l.write||(l.read=this._fnWriteCell),l.step||(l.read=this._fnStep)}},_fnColumnOptions:function(t,e){var s=this.s.columns[t],o=function(t,o){void 0!==e[o[0]]&&(s[t]=e[o[0]]),void 0!==e[o[1]]&&(s[t]=e[o[1]])};o("enable",["bEnable","enable"]),o("read",["fnRead","read"]),o("write",["fnWrite","write"]),o("step",["fnStep","step"]),o("increment",["bIncrement","increment"])},_fnTargetCoords:function(t){var e=$(t).parents("tr")[0],s=this.s.dt.oInstance.fnGetPosition(t);return{x:$("td",e).index(t),y:$("tr",e.parentNode).index(e),row:s[0],column:s[2]}},_fnUpdateBorder:function(t,e){var s,o=this.s.border.width,r=$(t).offset(),i=$(e).offset(),l=r.left-o,n=i.left+$(e).outerWidth(),d=r.top-o,a=i.top+$(e).outerHeight(),h=i.left+$(e).outerWidth()-r.left+2*o,f=i.top+$(e).outerHeight()-r.top+2*o;if(r.left>i.left&&(l=i.left-o,n=r.left+$(t).outerWidth(),h=r.left+$(t).outerWidth()-i.left+2*o),""!==this.s.dt.oScroll.sY){var c=$(this.s.dt.nTable.parentNode).offset(),p=$(this.s.dt.nTable.parentNode).scrollTop(),u=$(this.s.dt.nTable.parentNode).scrollLeft();l-=c.left-u,n-=c.left-u,d-=c.top-p,a-=c.top-p}s=this.dom.borderTop.style,s.top=d+"px",s.left=l+"px",s.height=this.s.border.width+"px",s.width=h+"px",s=this.dom.borderBottom.style,s.top=a+"px",s.left=l+"px",s.height=this.s.border.width+"px",s.width=h+"px",s=this.dom.borderLeft.style,s.top=d+"px",s.left=l+"px",s.height=f+"px",s.width=this.s.border.width+"px",s=this.dom.borderRight.style,s.top=d+"px",s.left=n+"px",s.height=f+"px",s.width=this.s.border.width+"px"},_fnFillerDragStart:function(s){var o=this,r=this.dom.currentTarget;this.s.drag.dragging=!0,o.dom.borderTop.style.display="block",o.dom.borderRight.style.display="block",o.dom.borderBottom.style.display="block",o.dom.borderLeft.style.display="block";var i=this._fnTargetCoords(r);this.s.drag.startX=i.x,this.s.drag.startY=i.y,this.s.drag.startTd=r,this.s.drag.endTd=r,this._fnUpdateBorder(r,r),$(e).bind("mousemove.AutoFill",function(t){o._fnFillerDragMove.call(o,t)}),$(e).bind("mouseup.AutoFill",function(t){o._fnFillerFinish.call(o,t)}),this.s.screen.y=s.pageY,this.s.screen.height=$(t).height(),this.s.screen.scrollTop=$(e).scrollTop(),""!==this.s.dt.oScroll.sY&&(this.s.scroller.top=$(this.s.dt.nTable.parentNode).offset().top,this.s.scroller.bottom=this.s.scroller.top+$(this.s.dt.nTable.parentNode).height()),this.s.screen.interval=setInterval(function(){var t=$(e).scrollTop(),s=t-o.s.screen.scrollTop;o.s.screen.y+=s,o.s.screen.height-o.s.screen.y+t<50?$("html, body").animate({scrollTop:t+50},240,"linear"):o.s.screen.y-t<50&&$("html, body").animate({scrollTop:t-50},240,"linear"),""!==o.s.dt.oScroll.sY&&(o.s.screen.y>o.s.scroller.bottom-50?$(o.s.dt.nTable.parentNode).animate({scrollTop:$(o.s.dt.nTable.parentNode).scrollTop()+50},240,"linear"):o.s.screen.y<o.s.scroller.top+50&&$(o.s.dt.nTable.parentNode).animate({scrollTop:$(o.s.dt.nTable.parentNode).scrollTop()-50},240,"linear"))},250)},_fnFillerDragMove:function(t){if(t.target&&"TD"==t.target.nodeName.toUpperCase()&&t.target!=this.s.drag.endTd){var s=this._fnTargetCoords(t.target);"y"==this.c.mode&&s.x!=this.s.drag.startX&&(t.target=$("tbody>tr:eq("+s.y+")>td:eq("+this.s.drag.startX+")",this.dom.table)[0]),"x"==this.c.mode&&s.y!=this.s.drag.startY&&(t.target=$("tbody>tr:eq("+this.s.drag.startY+")>td:eq("+s.x+")",this.dom.table)[0]),"either"==this.c.mode&&(s.x!=this.s.drag.startX?t.target=$("tbody>tr:eq("+this.s.drag.startY+")>td:eq("+s.x+")",this.dom.table)[0]:s.y!=this.s.drag.startY&&(t.target=$("tbody>tr:eq("+s.y+")>td:eq("+this.s.drag.startX+")",this.dom.table)[0])),"both"!==this.c.mode&&(s=this._fnTargetCoords(t.target));var o=this.s.drag;o.endTd=t.target,s.y>=this.s.drag.startY?this._fnUpdateBorder(o.startTd,o.endTd):this._fnUpdateBorder(o.endTd,o.startTd),this._fnFillerPosition(t.target)}this.s.screen.y=t.pageY,this.s.screen.scrollTop=$(e).scrollTop(),""!==this.s.dt.oScroll.sY&&(this.s.scroller.scrollTop=$(this.s.dt.nTable.parentNode).scrollTop(),this.s.scroller.top=$(this.s.dt.nTable.parentNode).offset().top,this.s.scroller.bottom=this.s.scroller.top+$(this.s.dt.nTable.parentNode).height())},_fnFillerFinish:function(t){var o,r,i,l=this;$(e).unbind("mousemove.AutoFill mouseup.AutoFill"),this.dom.borderTop.style.display="none",this.dom.borderRight.style.display="none",this.dom.borderBottom.style.display="none",this.dom.borderLeft.style.display="none",this.s.drag.dragging=!1,clearInterval(this.s.screen.interval);var n=[],d=this.dom.table,a=this._fnTargetCoords(this.s.drag.startTd),h=this._fnTargetCoords(this.s.drag.endTd),f=function(t){return l.s.dt.oApi._fnVisibleToColumnIndex(l.s.dt,t)};if(a.y<=h.y)for(o=a.y;o<=h.y;o++)if(a.x<=h.x)for(i=a.x;i<=h.x;i++)n.push({node:$("tbody>tr:eq("+o+")>td:eq("+i+")",d)[0],x:i-a.x,y:o-a.y,colIdx:f(i)});else for(i=a.x;i>=h.x;i--)n.push({node:$("tbody>tr:eq("+o+")>td:eq("+i+")",d)[0],x:i-a.x,y:o-a.y,colIdx:f(i)});else for(o=a.y;o>=h.y;o--)if(a.x<=h.x)for(i=a.x;i<=h.x;i++)n.push({node:$("tbody>tr:eq("+o+")>td:eq("+i+")",d)[0],x:i-a.x,y:o-a.y,colIdx:f(i)});else for(i=a.x;i>=h.x;i--)n.push({node:$("tbody>tr:eq("+o+")>td:eq("+i+")",d)[0],x:a.x-i,y:a.y-o,colIdx:f(i)});if(!(n.length<=1)){var c,p=[];for(o=0,r=n.length;o<r;o++){var u=n[o],m=this.s.columns[u.colIdx],b=m.read.call(m,u.node),g=m.step.call(m,u.node,b,c,o,u.x,u.y);m.write.call(m,u.node,g),c=g,p.push({cell:u,colIdx:u.colIdx,newValue:g,oldValue:b})}null!==this.c.complete&&this.c.complete.call(this,p),s.Api?new s.Api(this.s.dt).draw(!1):this.s.dt.oInstance.fnDraw()}},_fnFillerDisplay:function(t){var e=this.dom.filler;if(!this.s.drag.dragging){var s="td"==t.target.nodeName.toLowerCase()?t.target:$(t.target).parents("td")[0],o=this._fnTargetCoords(s).column;if(!this.s.columns[o].enable)return void(e.style.display="none");"mouseover"==t.type?(this.dom.currentTarget=s,this._fnFillerPosition(s),e.style.display="block"):t.relatedTarget&&t.relatedTarget.className.match(/AutoFill/)||(e.style.display="none")}},_fnFillerPosition:function(t){var e=$(t).offset(),s=this.dom.filler;s.style.top=e.top-this.s.filler.height/2-1+$(t).outerHeight()+"px",s.style.left=e.left-this.s.filler.width/2-1+$(t).outerWidth()+"px"}},s.AutoFill=o,s.AutoFill=o,o.version="1.2.1",o.defaults={mode:"y",complete:null,column:{enable:!0,increment:!0,read:function(t){return $(t).html()},write:function(t,e){var o=$(t).parents("table");if(s.Api)o.DataTable().cell(t).data(e);else{var r=o.dataTable(),i=r.fnGetPosition(t);r.fnUpdate(e,i[0],i[2],!1)}},step:function(t,e,s,o,r,i){var l=/(\-?\d+)/,n=this.increment&&s?s.match(l):null;return n?s.replace(l,parseInt(n[1],10)+(r<0||i<0?-1:1)):void 0===s?e:s}}},o};"function"==typeof define&&define.amd?define(["jquery","datatables"],o):"object"==typeof exports?o(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.AutoFill&&o(jQuery,jQuery.fn.dataTable)}(window,document);
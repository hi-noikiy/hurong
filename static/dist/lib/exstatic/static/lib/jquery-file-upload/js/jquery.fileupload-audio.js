!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],e):e(window.jQuery,window.loadImage)}(function($,e){"use strict";$.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadAudio",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableAudioPreview"},{action:"setAudio",name:"@audioPreviewName",disabled:"@disableAudioPreview"}),$.widget("blueimp.fileupload",$.blueimp.fileupload,{options:{loadAudioFileTypes:/^audio\/.*$/},_audioElement:document.createElement("audio"),processActions:{loadAudio:function(i,o){if(o.disabled)return i;var d,a,t=i.files[i.index];return this._audioElement.canPlayType&&this._audioElement.canPlayType(t.type)&&("number"!==$.type(o.maxFileSize)||t.size<=o.maxFileSize)&&(!o.fileTypes||o.fileTypes.test(t.type))&&(d=e.createObjectURL(t))?(a=this._audioElement.cloneNode(!1),a.src=d,a.controls=!0,i.audio=a,i):i},setAudio:function(e,i){return e.audio&&!i.disabled&&(e.files[e.index][i.name||"preview"]=e.audio),e}}})});
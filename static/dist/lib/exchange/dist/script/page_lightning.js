function connect(t){function e(t,e){var n="msgType";if(t&&t[n]){if(Array.prototype.forEach)l[t[n]]&&Array.prototype.forEach.call(l[t[n]],function(e,n){e(t)});else if(l[t[n]]){l[t[n]].length;for(var o=l[t[n]],r=0,i=o.length;r<i;r++)o[r](t)}u.LastTime=Math.round((new Date).getTime())}}function n(t){e(t,1)}function o(){if(p){for(var t in d)d[t],c.emit("request",d[t]);p=!1,s=!0}}function r(t){s=!1;try{JSON.stringify(t)}catch(t){}}function i(){if(u.LastTime){var t=Math.round((new Date).getTime()),e=t-u.LastTime;f&&f(e)}else f&&f(Number.MAX_VALUE);setTimeout(i,1e3)}function a(t){return JSON.parse(JSON.stringify(t))}var s,c,u={},l={},d={},p=!0;if((t=t||"http://hq.huobi.com")&&window.socketInstanced&&window.socketInstanced[t])return socketInstanced[t];u.reg=function(t,e){if("object"==typeof t)if(t.symbolList)for(var n in t.symbolList)t.symbolList.hasOwnProperty(n)&&(l[n+t.symbolList[n][0].symbolId]=e);else t.msgType&&(l[t.msgType+t.symbolId]?l[t.msgType+t.symbolId].push(e):l[t.msgType+t.symbolId]=[e]);else l[t]?l[t].push(e):l[t]=[e]},u.help=function(){},u.fnList=l,u.msg=function(t,e){if("unMsg"===e)if(t.symbolList)for(var n in t.symbolList)t.symbolList.hasOwnProperty(n)&&delete d[n+t.symbolList[n][0].symbolId];else delete d[t];else if(t.symbolList)for(var o in t.symbolList)t.symbolList.hasOwnProperty(o)&&(d[o+t.symbolList[o][0].symbolId]=t);else t.msgType&&(d[t.msgType+t.symbolId]=t);s&&c.emit("request",t)},u.clearmsg=function(){d={}};var f;return u.Daemon=function(t){f=t},u.UnMsg=function(t){var e=a(t);e.msgType="reqMsgUnsubscribe",u.msg(e,"unMsg")},function(){c=io.connect(t,{"force new connection":0,"sync disconnect on unload":0,"reconnection delay":1e3,"reconnection delay max":5e3,"max reconnection attempts":999999}),c.on("request",n),c.on("message",e),c.on("connect",o),c.on("error",function(){console.warn("error",arguments)}),c.on("reconnect",function(){s=!0;for(var t in d)c.emit("request",d[t])}),c.on("disconnect",r),window.socketInstanced||(window.socketInstanced={}),window.socketInstanced[t]=u,u.conn=c,i()}(),HBCONN=u,HBCONN.msgList=d,u}function SOCKET_API(t){return{reqKLine:function(e,n,o,r){return{msg:{version:t||1,msgType:"reqKLine",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolId:e,from:o||0,to:r||-1,period:n},msgType:"reqKLine"}},lastKLine:function(e,n){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{lastKLine:[{symbolId:e,pushType:"pushLong",period:[n]}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{lastKLine:[{symbolId:e,pushType:"pushLong",period:[n]}]}},msgType:"lastKLine"}},reqMarketDetail:function(e){return{msg:{version:t||1,msgType:"reqMarketDetail",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolId:e},msgType:"reqMarketDetail"}},reqMarketDepthTop:function(e){return{msg:{version:t||1,msgType:"reqMarketDepthTop",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolId:e},msgType:"reqMarketDepthTop"}},marketDepth:function(e,n){return{msg:{version:t||1,msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolList:{marketDepth:[{symbolId:e,percent:n||10,pushType:"pushLong"}]}},msgType:"marketDepth"}},unMarketDepth:function(e,n){return{msg:{version:t||1,msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolList:{marketDepth:[{symbolId:e,percent:n||10,pushType:"pushLong"}]}},msgType:"UnMarketDepth"}},marketDepthTopShort:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDepthTopShort:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDepthTopShort"}},marketDepthTop:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDepthTop:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDepthTop"}},marketDetail:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDetail"}},marketDetail0:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail0:[{symbolId:e,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail0:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDetail0"}},marketDetail1:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail1:[{symbolId:e,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail1:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDetail1"}},marketDetail2:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail2:[{symbolId:e,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail2:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDetail2"}},marketDetail3:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail3:[{symbolId:e,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail3:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDetail3"}},marketDetail4:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail4:[{symbolId:e,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail4:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDetail4"}},marketDetail5:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail5:[{symbolId:e,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail5:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDetail5"}},marketDepthTopDiff:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDepthTopDiff:[{symbolId:e,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDepthTopDiff:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDepthTopDiff"}},tradeDetail:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{tradeDetail:[{symbolId:e,pushType:"pushLong"}]}},msgType:"tradeDetail"}},marketOverview:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketOverview:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketOverview"}},reqTradeDetailTop:function(e,n){return{msg:{version:t||1,msgType:"reqTradeDetailTop",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolId:e,count:n||150},msgType:"reqTradeDetailTop"}}}}define("static/js/exchange/dist/script/page_lightning",["jquery","./module_this_jack","./module_time","./module_validator","./module_md5","./module_dialog","./module_tip","./page_l_market","./module_tmpl","./module_socket_io","./module_connect","./module_number","./module_socket_api","./module_accurate","./page_l_trade","./module_range","./module_ajax","./module_switch","./module_cookie","./page_l_notice","./page_l_order","./module_order","./module_hb_extend","./page_l_chart","./module_oauth","./module_coin","./module_appseting","./module_balance"],function(t){function e(){S=document[a]?1:0,HRYB.GLOBAL.docHidden=S,c(document).trigger("DoDocHidden")}function n(){var t=this;return t.Close=function(e,n){var o=[];e?Array.prototype.push.apply(o,e):Array.prototype.push.apply(o,t),c.each(o,function(){var t=c(this);t.css({height:"",width:""}),!t.hasClass("close")&&t.addClass("close")}),n&&n("close",t)},t.Open=function(e,n){var o=[];e?Array.prototype.push.apply(o,e):o=t,o.length>1?c.each(o,function(t,e){var n=c(this);n.hasClass("close")&&n.removeClass("close"),e.DragSize&&e.SetSize("",e.DragSize)}):(o.hasClass("close")&&o.removeClass("close"),o.DragSize&&o.SetSize("",o.DragSize)),n&&n("open",t)},t.Toggle=function(e,n,o,r,i){var a,s=e||t,c=void 0!==r?r:"";s.on("click",o,function(){s.hasClass("close")?(n?"height"==n?t.SetSize("",["initial",""],function(t){s.removeClass("close")}):t.SetSize("",["","initial"],function(t){s.removeClass("close")}):s.removeClass("close"),a="show"):(n?"height"==n?s.SetSize("",["initial",c],function(t){s.addClass("close")}):s.SetSize("",[c,"initial"],function(t){s.addClass("close")}):s.addClass("close"),a="close"),i&&i(a)})},t.Drag=function(e,n,o){var r,i,a=[],s=void 0!==n?n:"",u=[800,375],l=[],d=[];t.on("mousedown",".handle",function(e){e.stopImmediatePropagation(),r=c(this),a[0]=e.pageX,a[1]=e.pageY,d=[t.Size[0],t.Size[1]],r.attr("data-active",1).addClass("active"),t.addClass("dragging")}),t.on("mouseup",function(){r&&r.attr("data-active",0).removeClass("active"),t.removeClass("dragging"),!r||1*r.attr("data-active")||("width"==e&&l[0]<=s?(t.Close(),t.DragSize[0]="initial"):t.removeClass("close"),"height"==e&&l[1]<=s?(t.Close(),t.DragSize[1]="initial"):t.removeClass("close"),i&&o&&o(l,t),l=[],i=!1)}),b.on("mousemove",function(n){if(n.stopImmediatePropagation(),a[2]=n.pageX,a[3]=n.pageY,r&&1*r.attr("data-active")){var s=["width"==e?l[0]:"initial","height"==e?l[1]:"initial"];l.length>0&&(t.SetSize("",s),t.DragSize=s),l.length>0&&o&&o(l,t),i=i||!0,l=[a[0]-a[2]+d[0],a[1]-a[3]+d[1]],l[0]=l[0]>u[0]?u[0]:l[0],l[1]=l[1]>u[1]?u[1]:l[1]}}).on("mouseup",function(){r&&r.attr("data-active",0).removeClass("active")})},t.GetMouse=function(){var e=[];t.on("mousedown",function(t){e[0]=t.pageX,e[1]=t.pageY}).on("mousemove",function(t){e[2]=t.pageX,e[3]=t.pageY,e[4]=e[2]-e[0]>0?e[2]-e[0]:0,e[5]=e[3]-e[1]>0?e[3]-e[1]:0}),t.mouseXY=e},t.GetSize=function(e){var n=e||t,o=[];return n.is&&n.outerWidth&&(o=n.is(":hidden")?[0,0]:[n.outerWidth(!0),n.outerHeight(!0)]),o},t.SetSize=function(e,n,o){var r=e||t;"initial"!=n[0]&&r.css("width",n[0]),"initial"!=n[1]&&r.css("height",n[1]),"initial"!=n[2]&&r.css("left",n[2]),"initial"!=n[3]&&r.css("top",n[3]),o&&o(r)},t.Tab=function(e,n,o,r,i){return void 0!=r&&"number"==typeof r?(t.find(e).eq(1*r).addClass("cur").siblings().removeClass("cur"),t.find(n).eq(1*r).show().siblings(n).hide(),void(o&&o(r))):void t.on("click",e,function(){var e=c(this),r=e.index();return!1!==(i&&i(t))&&(e.addClass("cur").siblings().removeClass("cur"),t.find(n).eq(r).show().siblings(n).hide(),void(o&&o(r)))})},t}function o(t){k=r(),i(t)}function r(){var t=[];for(var e in x)t[e]=w.GetSize(x[e]),x[e].Size=w.GetSize(x[e]);return t}function i(t){var e=k[1][0]-k[6][0],n=k[0][1]-k[2][1]-k[4][1]-k[8][1]-k[13][1]-35,o=k[0][1]-k[2][1]-k[4][1]-(k[10][1]>k[11][1]?k[10][1]:k[11][1]),r=k[0][1]-k[2][1]-k[4][1],i=Math.floor(o-76-(o-126)%42);w.SetSize(x[12],["initial",o-5]),w.SetSize(x[3],[k[1][0],r]),w.SetSize(x[5],["initial",r]),w.SetSize(x[6],["initial",r]),w.SetSize(x[7],["initial",n]),w.SetSize(x[9],["initial",o]),w.SetSize(c(".market_body"),["initial",i<=8?20:i]),e>=1130?x[8].addClass("column"):x[8].removeClass("column"),k[1][0]<=1e3?x[1].css("overflow-x","auto"):x[1].css("overflow-x","hidden"),w.LayoutInit&&!t||b.trigger("__SetChart",[[e,n]]),w.LayoutInit=1}var a,s,c=t("jquery"),u=t("./module_this_jack"),l=t("./module_time"),d=t("./module_validator"),p=t("./module_md5"),f=t("./module_dialog"),h=t("./module_tip"),m=(t("./page_l_market"),t("./page_l_trade"),t("./page_l_chart")),g=(t("./page_l_notice"),t("./module_oauth")),y=t("./module_coin"),_=t("./module_appseting"),v=window.UID&&document.getElementById("balance")?t("./module_balance"):"",b=c(document),w=c(window),x=[w,c("body"),c("#doc_head"),c("#doc_body"),c("#doc_foot"),c("#main"),c("#bar"),c("#chart"),c("#order"),c("#depth"),c("#trade"),c("#overview"),c("#market_info"),c("#copyright")],k=[],T=c.Deferred(),S=0;HRYB.GLOBAL={},c(".symbol").html(CURRENT_SYMBOL).parent().attr("href",HRY.host+"/#/user/loan").attr("target","_blank").css("color","#707070"),c(".CURRENCY_STR").html(CURRENCY_STR).parent().attr("href",HRY.host+"/#/user/loan").attr("target","_blank").css("color","#707070"),c(".CURRENCY_SYMBOL").html(CURRENCY_SYMBOL),void 0!==document.hidden?(a="hidden",s="visibilitychange"):void 0!==document.mozHidden?(a="mozHidden",s="mozvisibilitychange"):void 0!==document.msHidden?(a="msHidden",s="msvisibilitychange"):void 0!==document.webkitHidden&&(a="webkitHidden",s="webkitvisibilitychange"),void 0===document.addEventListener&&void 0===document[a]||document.addEventListener(s,e,!1),HRYB.UTT=l,AR=x,function(){function t(t,e){window.localStorage.clear(),c(t).on("click","span",function(){var t=c(this),n=t.data("act"),o=t.data("val");t.addClass("cur").siblings().removeClass("cur"),e&&e([n,o])})}g.GetOauth(),y.GetCoinList(),_.GetAppConfigData(),u(n,w),u(n,x[8]),u(n,x[6]),u(n,x[10]);var e=c("#loading");new f({dialog:"#login_dialog"},function(t,e){UID||"close"!=e||w.Close([x[10]],function(){w.trigger("__RESIZE",["","",1])})}),new f({dialog:"#two_factor_dialog"},function(){}),x[8].Drag("height","80",function(){w.trigger("__RESIZE",["",1,2])}),x[10].Toggle("","height",".panel_trigger","",function(t){UID,"close"==t?x[8].Close("",function(){w.trigger("__RESIZE",["","",3])}):x[8].Open("",function(){w.trigger("__RESIZE",["","",4])}),w.trigger("__RESIZE",[150,5])}),x[10].Tab(".tabs li",".panel",function(t){UID,w.Open([x[8],x[10]],function(){w.trigger("__RESIZE",["",1,6])}),b.trigger("__OrderType",t)}),x[8].Tab(".tabs li",".order_col",function(t){t?x[8].addClass("current"):x[8].removeClass("current")},"",function(t){return!t.hasClass("column")}),x[10].is(":visible")&&x[11].css("padding-bottom","30px");var r=c("#balance");w.Toggle(r,"",".bar","",function(t){console.log(t)}),r.blur(function(){r.addClass("close")}),w.on("__RESIZE",function(t,e,n,r){var i=e||0;w.SetChart=0,i?setTimeout(function(){o(n)},i):o(n)}).on("load",function(){w.trigger("__RESIZE",["","",7])}).on("resize",function(){if(w.trigger("__RESIZE",["","",8]),w.SetChart)return!1}),b.on("__TradeTab",function(t,e){x[10].Tab(".tabs li",".panel","",e)}).on("__SetChart",function(t,e){w.SetChart=1,i.rd&&i.rd({w:e[0],h:e[1],fs:1})}).on("__MarketData",function(){e.is(":visible")&&(e.addClass("out"),w.trigger("__RESIZE",["","",9]),setTimeout(function(){e.remove()},750))}),v&&c.when(v(T,function(){c("#balance").data("refresh")||HRYB.AJAX.GetBalance.Stop()})).done(function(){HRYB.AJAX.GetBalance.Play(),c(document).on("DoDocHidden",function(){S?HRYB.AJAX.GetBalance.Stop():HRYB.AJAX.GetBalance.Play()})});var i=m("chart",{border:0,currentTools:"CrossLine",symlist:[SYMBOL],symbol:0,vIndicator:"MACD",timeShare:1,schemes:"lightning",drawRange:.75,level:4,version:"151201",url:$_ws_hq_url});window._Chart=i,t("#period",function(t){window.localStorage.clear(),t&&i[t[0]]&&i[t[0]](t[1])}),t("#indicator",function(t){t&&i[t[0]]&&i[t[0]](t[1])}),c("#chart_zoom").click(function(){var t=c(this);t.hasClass("zoom")?(w.Open([x[6],x[8]],function(){w.trigger("__RESIZE",["",1,10])}),t.removeClass("zoom")):(w.Close([x[6],x[8]],function(){w.trigger("__RESIZE",["",1,11])}),t.addClass("zoom"))}),d({forms:c(".form_login"),tip:".form_tip",changes:function(t){var e=c(t),n=c(t).parents(".group");e.attr("data-write")&&PC.RapidWrite({input:e}),n.find(".v_info").hide(),n.find(".group_help").show()},beforeSubmit:function(t){var e=t.find(":submit");t.attr("action",HRY.host+HRY.modules.oauth+"loginService.do"),BtnSubmit=e.text(),e.prop("disabled",!0).text(Lang.L("Loading"))},postData:function(t){var e=[];return c.each(t,function(t,n){"password"!=n.name?e.push(n):e.push({name:"password",value:p.hbmd5(n.value)})}),e},callback:function(t,e){t=JSON.parse(t);var n=c(e).find(".form_tip");if(e.find(":submit").prop("disabled",!1).text(BtnSubmit),t.success)window.location.reload();else{var o=(c("#by_phone"),c("#vcode_p")),r=c("#v_code");15==t.code&&o.show(),r.attr("src",HRY.host+HRY.modules.oauth+"/validcode/registcode.jpg?r="+Math.random()),n.html(t.msg).addClass("v_error")}},ajaxError:function(t){var e=t.find(".form_tip"),n=t.find(":submit");e.html(window.Texts&&Texts.NetworkError).addClass("v_error"),n.prop("disabled",!1).text(BtnSubmit)}}),c("#v_code").click(function(){c(this)[0].src=HRY.host+HRY.modules.oauth+"/validcode/registcode.jpg"+Math.random()}),h({tip:".bind_tips"},function(t,e){})}()}),function(){function t(){var t=[].slice.apply(arguments);if(!(t.length<2))return t.shift().apply(t.shift(),t)}"function"==typeof define?define("static/js/exchange/dist/script/module_this_jack",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.Jack=t}(),function(){function t(t,e){var n=new Date(1e3*t),o=e||"YYYY-MM-DD";return Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"D+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(Y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t},n.Format(o)}"function"==typeof define?define("static/js/exchange/dist/script/module_time",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.unixToTime=t}(),function(window){var BitValidator=function(options){var _language={error:L("错误"),success:L("校验通过"),undefined:L("未定义"),error_min:L("数值小于"),error_max:L("数值大于"),error_submit:L("表单提交出错"),error_input:L("输入错误"),error_null:L("请输入信息")},_dataType={"*":/[\w\W]+/,n:/^\d+\.?\d*$/,s:/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]+$/,m:/^1[0-9]{10}$/,p:/^[0-9]{5,11}$/,e:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/,ZEN:/^(?!_)(?!.*?_$)([a-zA-Z0-9_.\u4e00-\u9fa5\s])*$/,NAME:/^(?!_)(?!.*?_$)([·a-zA-Z_.\u4e00-\u9fa5\s])*$/,EN:/^(?!_)(?!.*?_$)([a-zA-Z_\s.])*$/,NEN:/^(?!_\-)(?!.*?_$)([a-zA-Z0-9\s\,\'.])*$/,SPE:/^([^\/\\/:<>!\*\|"\?\$\=])*$/,pwd:/(?!\d+$)[\dA-Za-z\W]/,num_range:function(t){var e=Number($(t).attr("data-min")),n=Number($(t).attr("data-max")),o=$(t).attr("data-msg-error")?$(t).attr("data-msg-error").split(","):[],r=$(t).val();return!!/^\d+\.?\d*$/.test(r)&&(r<e?o[1]?o[1].indexOf("@@")>0?o[1].replace("@@",e):o[1]:_language.error_min+e:!(r>n)||(o[2]?o[2].indexOf("@@")>0?o[2].replace("@@",n):o[2]:_language.error_max+n))},compare:function(t){var e=$(t),n=e.parents("form"),o=e.val(),r=e.data("compare");return o==(/^\./.test(r)?n.find(r).val():n.find('[name="'+r+'"]').val())}},_default={forms:null,beforeSend:null,process:null,beforeValidation:null,beforeSubmit:null,formSubmit:null,callback:null,single:null,changes:null,ignoreHidden:!0,ajaxPost:!0,ajaxError:null,instant:!1,postData:null,tip:"",is_focus:!0,dataType:{}},_class={class_name:{input:{default:"input_text",success:"",error:"input_text_red"},msg:{default:"v_info",success:"v_success",error:"v_error"}}},_option=$.extend(_default,_class,options),_data_type=$.extend(_dataType,_option.dataType,$.ValidatorDataType),_form=$(options.forms),_record=!1,_init={fn_init:function(t){t.attr("validator","true");var e=t.find(":submit");e.prop("disabled")&&!e.data("disabled")&&e.prop("disabled",!1),_option.beforeSend&&_option.beforeSend(t),_option.instant?t.on("change",function(e){_init.fn_find(t)}):t.on("change",function(e){_init.fn_msg(e.target,3),_option.changes&&_option.changes(e.target,t)}),t.submit(function(){return _option.beforeValidation&&_option.beforeValidation($(this)),_init.fn_find($(this))?!1!==(_option.beforeSubmit&&_option.beforeSubmit($(this)))&&(_option.ajaxPost?(_init.fn_ajax($(this)),!1):void 0):(_option.process&&_option.process(),!1)})},fn_find:function(t){var e=[],n=null,o=null,r=null;return t.find("[data-type]").length>0?t.find("[data-type]").each(function(i,a){var s=$(a),c=s.data("must");return e=_init.fn_check(s,_init.fn_value(s,t),s.data("type")),n=s,o=s.data("ignore"),r=s.data("handle"),!!($(n).is(":hidden")&&_option.ignoreHidden&&void 0===r||$(n).attr("disabled")&&!c||$(n).attr("readonly")&&!c)||"empty"===o&&1==e[0]||"ignore"===o||(_option.single&&_option.single([n,e[0]]),1==e[0]&&_init.fn_msg(a,1),2==e[0]&&_init.fn_msg(a,2,e[1]),3==e[0]&&_init.fn_msg(a,3),0!=e[0]?(_record=!1,!1):(e[1]?_init.fn_msg(a,0,e[1]):_init.fn_msg(a,0),void(_record=!0)))}):_record=!0,_record},fn_value:function(t,e){var n;return t.is(":radio")?(n=e.find(":radio[name='"+t.attr("name")+"']:checked").val(),n=void 0===n?"":n):t.is(":checkbox")?(e.find(":checkbox[name='"+t.attr("name")+"']:checked").each(function(){n+=$(this).val()+","}),n=void 0===n?"":n):n=t.val(),$.trim(n)},fn_data_type:function(type){var _type=type,_reg=/\/.+\//g,_match=/^(.+?)(\d+)-(\d+)$/,_multi_reg=/^(.+?)(,|$|\||\s)(.+?)$/,_multi=/\/.+?\/[mgi]*(?=(,|$|\||\s))|[\w\*-]+/g,_rule=null;if(_reg.test(_type))_rule=[0,eval(_type)];else if(_data_type[_type]||!_type.match(_match)||_multi_reg.test(_type)){if(_data_type[_type])_rule="function"==typeof _data_type[_type]?[1,_data_type[_type]]:[2,_data_type[_type]];else if(_multi_reg.test(_type)){var _arr=[[]],_mark=_type.replace(_multi,"").replace(/\s*/g,"").split(""),_item=_type.match(_multi),_m=0;_arr[0].push(_item[0]);for(var _n=0;_n<_mark.length;_n++)"|"==_mark[_n]&&(_m++,_arr[_m]=[]),_arr[_m].push(_item[_n+1]);_rule=[4,_arr]}}else{var _temp=_type.match(_match);_rule=[3,_data_type[_temp[1]],_temp[2],_temp[3]]}if(!_rule)return alert(_type+_language.undefined),!1;if("4"==_rule[0]){var _it,_its,_rules=_rule[1];if(_rules.length>1)for(_it in _rules)for(_its in _rules[_it]){var _items=_rules[_it][_its];_data_type[_items]||_data_type[_items.match(_match)[1]]||(alert("l276 "+_items+_language.undefined),_rule=!1)}}return _rule},fn_check:function(t,e,n){function o(n){var o=[];if(""==$.trim(e))o[0]=1;else{if("0"!=n[0]&&"2"!=n[0]||(n[1].test(e)?o[0]=0:($(t).change(function(){n[1].test($(this).val())&&_init.fn_msg(t,0)}),o[0]=2)),"1"==n[0]){"string"==typeof n[1](t)?($(t).change(function(){n[1](t)&&_init.fn_msg(t,0)}),o=[2,n[1](t)]):n[1](t)?o[0]=0:o[0]=2}"3"==n[0]&&(n[1].test(e)?e.length<Number(n[2])||e.length>Number(n[3])?o[0]=2:o[0]=0:o[0]=2)}return o}var r=t,i=[],a=_init.fn_data_type(r.data("type")),s=null;if(a){if("4"==a[0])for(var c=0;c<a[1].length;c++){for(var u=0;u<a[1][c].length&&(s=_init.fn_data_type(a[1][c][u]),i=o(s),"0"==i[0]);u++);if("0"==i[0])break}else i=o(a);return i}return!1},fn_ajax:function(t){var e,n,o;e=t.attr("action"),o=t.attr("method")||"post",n=_option.postData?_option.postData(t.serializeArray()):t.serializeArray();var r=!0;1==t.attr("data-async")&&(r=!1),$.ajax({url:e,type:o,async:r,data:n,beforeSend:function(){},success:function(e){_option.callback&&_option.callback(e,t)},error:function(){_option.ajaxError&&_option.ajaxError(t),console.log(_language.error_submit)}})},fn_msg:function(t,e,n){var o,r,i,a=$(t).parents("form"),s=_option.tip?a.find(_option.tip):$(t).closest(".group").find("."+_option.class_name.msg.default),c=_option.class_name.msg.success,u=_option.class_name.msg.error,l=_option.class_name.input.success,d=_option.class_name.input.error;switch(o=$(t).data("msg-null")||_language.error_null,r=$(t).data("msg-error")||_language.error_input,i=$(t).data("msg-success")||"",r=/(.),(.)/.test(r)?r.split(",")[0]:r,n&&(r=n),e){case 0:$(t).removeClass(d).addClass(l),s.removeClass(u).addClass(c).html(i);break;case 1:_option.is_focus&&$(t).removeClass(l).addClass(d).focus(),s.removeClass(c).addClass(u).html(o);break;case 2:_option.is_focus&&$(t).removeClass(l).addClass(d).focus(),s.removeClass(c).addClass(u).html(r);break;case 3:$(t).removeClass(d),s.removeClass(u).html("")}}};_form&&_form.length>0&&_form.each(function(){var t=$(this);!t.attr("validator")&&_init.fn_init(t)})};"function"==typeof define?define("static/js/exchange/dist/script/module_validator",[],function(){return BitValidator}):"undefined"!=typeof exports?module.exports=BitValidator:window.BitValidator=BitValidator}(window),function(t){"use strict";function e(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function n(t,e){return t<<e|t>>>32-e}function o(t,o,r,i,a,s){return e(n(e(e(o,t),e(i,s)),a),r)}function r(t,e,n,r,i,a,s){return o(e&n|~e&r,t,e,i,a,s)}function i(t,e,n,r,i,a,s){return o(e&r|n&~r,t,e,i,a,s)}function a(t,e,n,r,i,a,s){return o(e^n^r,t,e,i,a,s)}function s(t,e,n,r,i,a,s){return o(n^(e|~r),t,e,i,a,s)}function c(t,n){t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;var o,c,u,l,d,p=1732584193,f=-271733879,h=-1732584194,m=271733878;for(o=0;o<t.length;o+=16)c=p,u=f,l=h,d=m,p=r(p,f,h,m,t[o],7,-680876936),m=r(m,p,f,h,t[o+1],12,-389564586),h=r(h,m,p,f,t[o+2],17,606105819),f=r(f,h,m,p,t[o+3],22,-1044525330),p=r(p,f,h,m,t[o+4],7,-176418897),m=r(m,p,f,h,t[o+5],12,1200080426),h=r(h,m,p,f,t[o+6],17,-1473231341),f=r(f,h,m,p,t[o+7],22,-45705983),p=r(p,f,h,m,t[o+8],7,1770035416),m=r(m,p,f,h,t[o+9],12,-1958414417),h=r(h,m,p,f,t[o+10],17,-42063),f=r(f,h,m,p,t[o+11],22,-1990404162),p=r(p,f,h,m,t[o+12],7,1804603682),m=r(m,p,f,h,t[o+13],12,-40341101),h=r(h,m,p,f,t[o+14],17,-1502002290),f=r(f,h,m,p,t[o+15],22,1236535329),p=i(p,f,h,m,t[o+1],5,-165796510),m=i(m,p,f,h,t[o+6],9,-1069501632),h=i(h,m,p,f,t[o+11],14,643717713),f=i(f,h,m,p,t[o],20,-373897302),p=i(p,f,h,m,t[o+5],5,-701558691),m=i(m,p,f,h,t[o+10],9,38016083),h=i(h,m,p,f,t[o+15],14,-660478335),f=i(f,h,m,p,t[o+4],20,-405537848),p=i(p,f,h,m,t[o+9],5,568446438),m=i(m,p,f,h,t[o+14],9,-1019803690),h=i(h,m,p,f,t[o+3],14,-187363961),f=i(f,h,m,p,t[o+8],20,1163531501),p=i(p,f,h,m,t[o+13],5,-1444681467),m=i(m,p,f,h,t[o+2],9,-51403784),h=i(h,m,p,f,t[o+7],14,1735328473),f=i(f,h,m,p,t[o+12],20,-1926607734),p=a(p,f,h,m,t[o+5],4,-378558),m=a(m,p,f,h,t[o+8],11,-2022574463),h=a(h,m,p,f,t[o+11],16,1839030562),f=a(f,h,m,p,t[o+14],23,-35309556),p=a(p,f,h,m,t[o+1],4,-1530992060),m=a(m,p,f,h,t[o+4],11,1272893353),h=a(h,m,p,f,t[o+7],16,-155497632),f=a(f,h,m,p,t[o+10],23,-1094730640),p=a(p,f,h,m,t[o+13],4,681279174),m=a(m,p,f,h,t[o],11,-358537222),h=a(h,m,p,f,t[o+3],16,-722521979),f=a(f,h,m,p,t[o+6],23,76029189),p=a(p,f,h,m,t[o+9],4,-640364487),m=a(m,p,f,h,t[o+12],11,-421815835),h=a(h,m,p,f,t[o+15],16,530742520),f=a(f,h,m,p,t[o+2],23,-995338651),p=s(p,f,h,m,t[o],6,-198630844),m=s(m,p,f,h,t[o+7],10,1126891415),h=s(h,m,p,f,t[o+14],15,-1416354905),f=s(f,h,m,p,t[o+5],21,-57434055),p=s(p,f,h,m,t[o+12],6,1700485571),m=s(m,p,f,h,t[o+3],10,-1894986606),h=s(h,m,p,f,t[o+10],15,-1051523),f=s(f,h,m,p,t[o+1],21,-2054922799),p=s(p,f,h,m,t[o+8],6,1873313359),m=s(m,p,f,h,t[o+15],10,-30611744),h=s(h,m,p,f,t[o+6],15,-1560198380),f=s(f,h,m,p,t[o+13],21,1309151649),p=s(p,f,h,m,t[o+4],6,-145523070),m=s(m,p,f,h,t[o+11],10,-1120210379),h=s(h,m,p,f,t[o+2],15,718787259),f=s(f,h,m,p,t[o+9],21,-343485551),p=e(p,c),f=e(f,u),h=e(h,l),m=e(m,d);return[p,f,h,m]}function u(t){var e,n="";for(e=0;e<32*t.length;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function l(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;for(e=0;e<8*t.length;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function d(t){return u(c(l(t),8*t.length))}function p(t,e){var n,o,r=l(t),i=[],a=[];for(i[15]=a[15]=void 0,r.length>16&&(r=c(r,8*t.length)),n=0;n<16;n+=1)i[n]=909522486^r[n],a[n]=1549556828^r[n];return o=c(i.concat(l(e)),512+8*e.length),u(c(a.concat(o),640))}function f(t){var e,n,o="0123456789abcdef",r="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),r+=o.charAt(e>>>4&15)+o.charAt(15&e);return r}function h(t){return unescape(encodeURIComponent(t))}function m(t){return d(h(t))}function g(t){return f(m(t))}function y(t,e){return p(h(t),h(e))}function _(t,e){return f(y(t,e))}function v(t,e,n){return e?n?y(e,t):_(e,t):n?m(t):g(t)}function b(t,e,n){return v(t+"hello, moto",e,n)}"function"==typeof define?define("static/js/exchange/dist/script/module_md5",[],function(){return{md5:v,hbmd5:b}}):(t.md5=v,t.hbmd5=b)}(this),function(t){var e=function(t,e){function n(t){t.title&&u._title.html(t.title),t.content&&u._body.html(t.content),t.foot&&u._foot.html(t.foot)}function o(t){u.show(),d.show().addClass("in"),t?t(u,"show"):p&&p(u,"show")}function r(t,e){u.hide(),d.hide().removeClass("in"),t?t(u,"close"):p&&p(u,"close",e)}var i=t||{},a=$('<div class="doc_dialog" style="display: none"><div class="mod_dialog"><div class="mod_hd"><span class="icon_wrap"><i class="icon"></i></span><span class="mod_title"></span><div class="mod_option"><a href="#" class="close">×</a></div></div><div class="mod_bd"></div><div class="mod_ft"></div></div></div>'),s=$('<div class="dialog_backdrop" style="display: none"></div>'),c=i.wrap?$(i.wrap):$("body"),u=i.dialog?$(i.dialog):$(".doc_dialog"),l=$(i.trigger)||"",d=i.backdrop?$(i.backdrop):$(".dialog_backdrop"),p=e||null;(function(){if(u.length<=0){var t=u.selector;/^\./.test(t)?a.addClass(t.replace(".","")):/^\#/.test(t)&&a.attr("id",t.replace("#","")),c.append(a),u=a}$(d).length<=0&&(s.addClass(d.selector.replace(".","")),$("body").append(s),d=s),u._title=u.find(".mod_title"),u._body=u.find(".mod_bd"),u._foot=u.find(".mod_ft"),u._close=u.find(".close")})(),l&&l.on("click",function(){o()}),u._close.on("click",function(){r("",$(this))}),this.Close=r,this.Show=o,this.Write=n};"function"==typeof define?define("static/js/exchange/dist/script/module_dialog",[],function(){return e}):"undefined"!=typeof exports?module.exports=e:t.BitDialog=e}(window),function(){var t=window,e=function(e,n){function o(){if(u=$(".bit_tips"),u.length<=0){$("body").append('<div class="bit_tips"><div class="content"></div><button class="confirm btn btn_link size_xs" type="button"></buton><button class="cancel btn btn_link size_xs" type="button"></button><i class="arrow"></i><i class="close">×</i></div>')}u=$("body .bit_tips"),l=u.find(".arrow")}function r(t,e,o){!u||u.length<=0||(e?d=setTimeout(function(){u.fadeOut(10)},e):u.hide(),o||n&&n(t,"close"),void 0!==document.onselectstart&&(document.onselectstart=new Function("return false")),setTimeout(function(){void 0!==document.onselectstart&&(document.onselectstart=new Function("return true"))},300))}function i(t,e){function o(){clearTimeout(d),u.find(".content").html(a),p?u.css({"min-width":p+"px",width:p+"px"}):u.css({"min-width":"",width:""}),"true"===$.trim(l)||"click"==e?u.find(".close").show():u.find(".close").hide(),c?(r.html(c[0]||"").show(),i.html(c[1]||"").show()):(r.hide(),i.hide()),s(t,h)}var r=(u.find(".option"),u.find(".close"),u.find(".confirm")),i=u.find(".cancel"),a=t.attr("data-tips")||f,c=t.attr("data-tips-btn")&&t.attr("data-tips-btn").split(","),l=t.attr("data-tips-close"),p=t.attr("data-tips-width")||"",h=t.attr("data-tips-position")||"default";n?!1!==n(t,"show")&&o():o()}function a(t){var e=t;u.unbind("click"),u.on("click",".confirm",function(){return r(e),n&&n(e,"confirm"),!1}),u.on("click",".close, .cancel",function(){r(e)})}function s(t,e){var n,o=t.offset().left,r=t.offset().top,i=u.outerWidth(!0),a=u.outerHeight(!0),s=t.width(),c=e||"default";isNaN(parseFloat(c))?("left"==c&&(n=o,u.removeClass("center right")),"center"==c&&(n=o-i/2+s/2,u.addClass("center"),u.removeClass("right")),"right"==c&&(n=o-(i-s/2-25),u.removeClass("center"),u.addClass("right")),"default"==c&&(n=o+s/2-25,u.removeClass("center right")),l&&l.css("left","")):(n=o+1*c,1*c<0&&l.css("left",-1*c+10)),u.css({left:n,
top:r-(a+15)}).show()}function c(t){var e=t.tip?$(t.tip):"",n=t.content||"";o(),f=n,i(e),a(e)}var u,l,d,p=e||{},f=(p.tip&&$(p.tip),p.text);p.tip&&($(document).on("click",p.tip,function(t){o();var e=$(this);"click"===e.attr("data-tips-trigger")&&(i(e,"click"),a(e)),t.stopPropagation()}),$(document).on("mouseover",p.tip,function(){o();var t=$(this);"click"!=t.attr("data-tips-trigger")&&(t.is(":input")?t.focus(function(){i(t)}):i(t))}),$(document).on("mouseout",p.tip,function(){var t=$(this);"click"!=t.attr("data-tips-trigger")&&(t.is(":input")?t.blur(function(){r(t,1)}):r(t,1))})),u&&$(t).on("click",function(t){t.target!==u[0]&&t.target.parentNode!==u[0]&&r(u,0,1)}),this.Write=c,this.Close=r};"function"==typeof define?define("static/js/exchange/dist/script/module_tip",[],function(){return e}):"undefined"!=typeof exports?module.exports=e:window.Tips=e}(),define("static/js/exchange/dist/script/page_l_market",["static/js/exchange/dist/script/module_tmpl","static/js/exchange/dist/script/module_socket_io","static/js/exchange/dist/script/module_connect","static/js/exchange/dist/script/module_number","static/js/exchange/dist/script/module_socket_api","static/js/exchange/dist/script/module_accurate"],function(t){function e(t,e,n){var o=t||"";if(o)return p.msg(o.msg),e&&p.UnMsg(e.msg),p.reg(o.msgType,function(t){n&&n(t)}),o}function n(t,e){(document.getElementById(t)||document.getElementById("view_"+t)).innerHTML=s("tmp_"+t,e)}function o(t){var e;h=HRYB.GLOBAL.appConfigData.siteName,e="cny"==CURRENCY_STR?"￥"+t:"$"+t,$(document).attr("title",e+" | "+h)}function r(t){var e=t.payload,r=[],i=[],s=[],c=[0,0],u=0,d=0;void 0!=e.asks.price&&null!=e.asks.price&&(d=e.asks.price.length),void 0!=e.bids.price&&null!=e.bids.price&&(u=e.bids.price.length);try{for(var p=0,f=Math.max(u,d);p<f;p++){c[0]=l.Add(c[0],void 0==e.asks.amount?0:e.asks.amount[p]),c[1]=l.Add(c[1],void 0==e.bids.amount?0:e.bids.amount[p]);try{e.asks.price[p]&&r.push([void 0==e.asks.price?0:e.asks.price[p],void 0==e.asks.amount?0:e.asks.amount[p],c[0]])}catch(t){}try{e.bids.price[p]&&i.push([void 0==e.bids.price?0:e.bids.price[p],void 0==e.bids.amount?0:e.bids.amount[p],c[1]])}catch(t){}}}catch(t){}for(var h=new Date,g=h.toLocaleDateString(),y="",_=0,v=e.trades.time.length;_<v;_++)e.trades.time[_]&&(h.setTime(1e3*e.trades.time[_]),y=h.toLocaleDateString(),g==y&&s.push([e.trades.time[_],e.trades.price[_],e.trades.amount[_],e.trades.direction[_]]));m[0]=e.priceOpen,m[1]=e.priceHigh,m[2]=e.priceLow,m[3]=e.priceLast,m[4]=e.priceNew,m[5]=e.totalAmount,m[6]=((e.priceNew-t.payload.yestdayPriceLast)/t.payload.yestdayPriceLast*100).toFixed(3),a&&(a==e.priceNew?m[7]=m[7]:a>e.priceNew?m[7]="font_down":m[7]="font_up"),a=e.priceNew,n("depth_ask",r),n("depth_bid",i),n("trades",s),n("overview",m),n("new_price",m),o(m[4])}var i,a,s=t("static/js/exchange/dist/script/module_tmpl"),c=(t("static/js/exchange/dist/script/module_socket_io"),t("static/js/exchange/dist/script/module_connect")),u=(t("static/js/exchange/dist/script/module_number"),t("static/js/exchange/dist/script/module_socket_api")),l=t("static/js/exchange/dist/script/module_accurate"),d=$(document),p=c($_ws_hq_url),f=u(1).marketDetail0(SYMBOL);i=e(f,"",function(t){d.trigger("__MarketData"),r(t)}),$("#depth_select").on("click","span",function(){var t=$(this),n=t.data("option");f=u(1)["marketDetail"+n](SYMBOL),i=e(f,i,function(t){r(t)}),t.addClass("cur").siblings("span").removeClass("cur")});var h,m=[]}),function(){function t(n,o){var r=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);},__data = obj;with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[n]=e[n]||t(document.getElementById(n).innerHTML);return o?r(o):r}var e={};"function"==typeof define?define("static/js/exchange/dist/script/module_tmpl",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.TmpL=t}(),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("static/js/exchange/dist/script/module_socket_io",[],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.io=t()}}(function(){var t;return function t(e,n,o){function r(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return r(n||t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,n){e.exports=t("./lib/")},{"./lib/":2}],2:[function(t,e,n){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(t,e,n){(function(n){function o(t,e){if(!(this instanceof o))return new o(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=l(t),e.hostname=t.host,e.secure="https"==t.protocol||"wss"==t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=l(e.host).host),this.secure=null!=e.secure?e.secure:n.location&&"https:"==location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||(n.location?location.hostname:"localhost"),this.port=e.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized;var r="object"==typeof n&&n;r.global===r&&e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),this.open()}function r(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var i=t("./transports"),a=t("component-emitter"),s=t("debug")("engine.io-client:socket"),c=t("indexof"),u=t("engine.io-parser"),l=t("parseuri"),d=t("parsejson"),p=t("parseqs");e.exports=o,o.priorWebsocketSuccess=!1,a(o.prototype),o.protocol=u.protocol,o.Socket=o,o.Transport=t("./transport"),o.transports=t("./transports"),o.parser=t("engine.io-parser"),o.prototype.createTransport=function(t){s('creating transport "%s"',t);var e=r(this.query);return e.EIO=u.protocol,e.transport=t,this.id&&(e.sid=this.id),new i[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})},o.prototype.open=function(){var t;if(this.rememberUpgrade&&o.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},o.prototype.setTransport=function(t){s("setting transport %s",t.name);var e=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},o.prototype.probe=function(t){function e(){if(p.onlyBinaryUpgrades){var e=!this.supportsBinary&&p.transport.supportsBinary;d=d||e}d||(s('probe transport "%s" opened',t),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(e){if(!d)if("pong"==e.type&&"probe"==e.data){if(s('probe transport "%s" pong',t),p.upgrading=!0,p.emit("upgrading",l),!l)return;o.priorWebsocketSuccess="websocket"==l.name,s('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){d||"closed"!=p.readyState&&(s("changing transport and sending upgrade packet"),u(),p.setTransport(l),l.send([{type:"upgrade"}]),p.emit("upgrade",l),l=null,p.upgrading=!1,p.flush())})}else{s('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=l.name,p.emit("upgradeError",n)}}))}function n(){d||(d=!0,u(),l.close(),l=null)}function r(e){var o=new Error("probe error: "+e);o.transport=l.name,n(),s('probe transport "%s" failed because of error: %s',t,e),p.emit("upgradeError",o)}function i(){r("transport closed")}function a(){r("socket closed")}function c(t){l&&t.name!=l.name&&(s('"%s" works - aborting "%s"',t.name,l.name),n())}function u(){l.removeListener("open",e),l.removeListener("error",r),l.removeListener("close",i),p.removeListener("close",a),p.removeListener("upgrading",c)}s('probing transport "%s"',t);var l=this.createTransport(t,{probe:1}),d=!1,p=this;o.priorWebsocketSuccess=!1,l.once("open",e),l.once("error",r),l.once("close",i),this.once("close",a),this.once("upgrading",c),l.open()},o.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",o.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},o.prototype.onPacket=function(t){if("opening"==this.readyState||"open"==this.readyState)switch(s('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(d(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else s('packet received with socket readyState "%s"',this.readyState)},o.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},o.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!=e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},o.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},o.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},o.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},o.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},o.prototype.write=o.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},o.prototype.sendPacket=function(t,e,n,o){if("function"==typeof e&&(o=e,e=void 0),"function"==typeof n&&(o=n,n=null),"closing"!=this.readyState&&"closed"!=this.readyState){n=n||{},n.compress=!1!==n.compress;var r={type:t,data:e,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),o&&this.once("flush",o),this.flush()}},o.prototype.close=function(){function t(){o.onClose("forced close"),s("socket closing - telling transport to close"),o.transport.close()}function e(){o.removeListener("upgrade",e),o.removeListener("upgradeError",e),t()}function n(){o.once("upgrade",e),o.once("upgradeError",e)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var o=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},o.prototype.onError=function(t){s("socket error %j",t),o.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},o.prototype.onClose=function(t,e){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){s('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),n.writeBuffer=[],n.prevBufferLen=0}},o.prototype.filterUpgrades=function(t){for(var e=[],n=0,o=t.length;n<o;n++)~c(this.transports,t[n])&&e.push(t[n]);return e}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(t,e,n){function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders}var r=t("engine.io-parser"),i=t("component-emitter");e.exports=o,i(o.prototype),o.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},o.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!=this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(t,e,n){(function(e){function o(t){var n=!1,o=!1,s=!1!==t.jsonp;if(e.location){var c="https:"==location.protocol,u=location.port;u||(u=c?443:80),n=t.hostname!=location.hostname||u!=t.port,o=t.secure!=c}if(t.xdomain=n,t.xscheme=o,"open"in new r(t)&&!t.forceJSONP)return new i(t);if(!s)throw new Error("JSONP disabled");return new a(t)}var r=t("xmlhttprequest-ssl"),i=t("./polling-xhr"),a=t("./polling-jsonp"),s=t("./websocket");n.polling=o,n.websocket=s}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(t,e,n){(function(n){function o(){}function r(t){i.call(this,t),this.query=this.query||{},s||(n.___eio||(n.___eio=[]),s=n.___eio),this.index=s.length;var e=this;s.push(function(t){e.onData(t)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=o)},!1)}var i=t("./polling"),a=t("component-inherit");e.exports=r;var s;a(r,i),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},r.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},r.prototype.doWrite=function(t,e){function n(){o(),e()}function o(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+r.iframeId+'">';i=document.createElement(t)}catch(t){i=document.createElement("iframe"),i.name=r.iframeId,i.src="javascript:0"}i.id=r.iframeId,r.form.appendChild(i),r.iframe=i}var r=this;if(!this.form){var i,a=document.createElement("form"),s=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=c,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),o(),t=t.replace(/\\n/g,"\\\n"),this.area.value=t.replace(/\n/g,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==r.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-inherit":16}],7:[function(t,e,n){(function(n){function o(){}function r(t){if(c.call(this,t),n.location){var e="https:"==location.protocol,o=location.port;o||(o=e?443:80),this.xd=t.hostname!=n.location.hostname||o!=t.port,this.xs=t.secure!=e}else this.extraHeaders=t.extraHeaders}function i(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!=t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function a(){for(var t in i.requests)i.requests.hasOwnProperty(t)&&i.requests[t].abort()}var s=t("xmlhttprequest-ssl"),c=t("./polling"),u=t("component-emitter"),l=t("component-inherit"),d=t("debug")("engine.io-client:polling-xhr");e.exports=r,e.exports.Request=i,l(r,c),r.prototype.supportsBinary=!0,r.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.extraHeaders=this.extraHeaders,new i(t)},r.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,o=this.request({method:"POST",data:t,isBinary:n}),r=this;o.on("success",e),o.on("error",function(t){r.onError("xhr post error",t)}),this.sendXhr=o},r.prototype.doPoll=function(){d("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},u(i.prototype),i.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new s(t),o=this;try{d("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders){e.setDisableHeaderCheck(!0);for(var r in this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&e.setRequestHeader(r,this.extraHeaders[r])}}catch(t){}if(this.supportsBinary&&(e.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}"withCredentials"in e&&(e.withCredentials=!0),this.hasXDR()?(e.onload=function(){o.onLoad()},e.onerror=function(){o.onError(e.responseText)}):e.onreadystatechange=function(){4==e.readyState&&(200==e.status||1223==e.status?o.onLoad():setTimeout(function(){o.onError(e.status)},0))},d("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout(function(){o.onError(t)},0)}n.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},i.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},i.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=o:this.xhr.onreadystatechange=o,t)try{this.xhr.abort()}catch(t){}n.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(t){}if("application/octet-stream"===e)t=this.xhr.response;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){for(var n=new Uint8Array(this.xhr.response),o=[],r=0,i=n.length;r<i;r++)o.push(n[r]);t=String.fromCharCode.apply(null,o)}else t=this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},i.prototype.hasXDR=function(){return void 0!==n.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},n.document&&(i.requestsCount=0,i.requests={},n.attachEvent?n.attachEvent("onunload",a):n.addEventListener&&n.addEventListener("beforeunload",a,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(t,e,n){function o(t){var e=t&&t.forceBase64;l&&!e||(this.supportsBinary=!1),r.call(this,t)}var r=t("../transport"),i=t("parseqs"),a=t("engine.io-parser"),s=t("component-inherit"),c=t("yeast"),u=t("debug")("engine.io-client:polling");e.exports=o;var l=function(){return null!=new(t("xmlhttprequest-ssl"))({xdomain:!1}).responseType}();s(o,r),o.prototype.name="polling",o.prototype.doOpen=function(){this.poll()},o.prototype.pause=function(t){function e(){u("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var o=0;this.polling&&(u("we are currently polling - waiting to pause"),o++,this.once("pollComplete",function(){u("pre-pause polling complete"),--o||e()})),this.writable||(u("we are currently writing - waiting to pause"),o++,this.once("drain",function(){u("pre-pause writing complete"),--o||e()}))}else e()},o.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},o.prototype.onData=function(t){var e=this;u("polling got data %s",t);var n=function(t,n,o){return"opening"==e.readyState&&e.onOpen(),"close"==t.type?(e.onClose(),!1):void e.onPacket(t)};a.decodePayload(t,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},o.prototype.doClose=function(){function t(){u("writing close packet"),e.write([{type:"close"}])}var e=this;"open"==this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},o.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")},e=this;a.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},o.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"==e&&443!=this.port||"http"==e&&80!=this.port)&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(t,e,n){(function(n){function o(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,r.call(this,t)}var r=t("../transport"),i=t("engine.io-parser"),a=t("parseqs"),s=t("component-inherit"),c=t("yeast"),u=t("debug")("engine.io-client:websocket"),l=n.WebSocket||n.MozWebSocket,d=l;if(!d&&"undefined"==typeof window)try{d=t("ws")}catch(t){}e.exports=o,s(o,r),o.prototype.name="websocket",o.prototype.supportsBinary=!0,o.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e={agent:this.agent,perMessageDeflate:this.perMessageDeflate};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(e.headers=this.extraHeaders),this.ws=l?new d(t):new d(t,void 0,e),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},o.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(o.prototype.onData=function(t){var e=this;setTimeout(function(){r.prototype.onData.call(e,t)},0)}),o.prototype.write=function(t){function e(){o.emit("flush"),setTimeout(function(){o.writable=!0,o.emit("drain")},0)}var o=this;this.writable=!1;for(var r=t.length,a=0,s=r;a<s;a++)!function(t){i.encodePacket(t,o.supportsBinary,function(i){if(!l){var a={};if(t.options&&(a.compress=t.options.compress),o.perMessageDeflate){("string"==typeof i?n.Buffer.byteLength(i):i.length)<o.perMessageDeflate.threshold&&(a.compress=!1)}}try{l?o.ws.send(i):o.ws.send(i,a)}catch(t){u("websocket closed before onclose event")}--r||e()})}(t[a])},o.prototype.onClose=function(){r.prototype.onClose.call(this)},o.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},o.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"==e&&443!=this.port||"ws"==e&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},o.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===o.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(t,e,n){var o=t("has-cors");e.exports=function(t){var e=t.xdomain,n=t.xscheme,r=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||o))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(t){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}},{"has-cors":22}],11:[function(t,e,n){function o(t,e,n){function o(t,r){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,e(t),e=n):0!==o.count||i||e(null,r)}var i=!1;return n=n||r,o.count=t,0===t?e():o}function r(){}e.exports=o},{}],12:[function(t,e,n){e.exports=function(t,e,n){var o=t.byteLength;if(e=e||0,n=n||o,t.slice)return t.slice(e,n);if(e<0&&(e+=o),n<0&&(n+=o),n>o&&(n=o),e>=o||e>=n||0===o)return new ArrayBuffer(0);for(var r=new Uint8Array(t),i=new Uint8Array(n-e),a=e,s=0;a<n;a++,s++)i[s]=r[a];return i.buffer}},{}],13:[function(t,e,n){!function(t){"use strict";n.encode=function(e){var n,o=new Uint8Array(e),r=o.length,i="";for(n=0;n<r;n+=3)i+=t[o[n]>>2],i+=t[(3&o[n])<<4|o[n+1]>>4],i+=t[(15&o[n+1])<<2|o[n+2]>>6],i+=t[63&o[n+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i},n.decode=function(e){var n,o,r,i,a,s=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),d=new Uint8Array(l);for(n=0;n<c;n+=4)o=t.indexOf(e[n]),r=t.indexOf(e[n+1]),i=t.indexOf(e[n+2]),a=t.indexOf(e[n+3]),d[u++]=o<<2|r>>4,d[u++]=(15&r)<<4|i>>2,d[u++]=(3&i)<<6|63&a;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(t,e,n){(function(t){function n(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var o=n.buffer;if(n.byteLength!==o.byteLength){var r=new Uint8Array(n.byteLength);r.set(new Uint8Array(o,n.byteOffset,n.byteLength)),o=r.buffer}t[e]=o}}}function o(t,e){e=e||{};var o=new i;n(t);for(var r=0;r<t.length;r++)o.append(t[r]);return e.type?o.getBlob(e.type):o.getBlob()}function r(t,e){return n(t),new Blob(t,e||{})}var i=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,a=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),s=a&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;e.exports=function(){return a?s?t.Blob:r:c?o:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],15:[function(t,e,n){function o(t){if(t)return r(t)}function r(t){for(var e in o.prototype)t[e]=o.prototype[e];return t}e.exports=o,o.prototype.on=o.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},o.prototype.once=function(t,e){function n(){o.off(t,n),e.apply(this,arguments)}var o=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var o,r=0;r<n.length;r++)if((o=n[r])===e||o.fn===e){n.splice(r,1);break}return this},o.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0)
;for(var o=0,r=n.length;o<r;++o)n[o].apply(this,e)}return this},o.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},o.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],16:[function(t,e,n){e.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],17:[function(t,e,n){function o(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var o="color: "+this.color;t=[t[0],o,"color: inherit"].concat(Array.prototype.slice.call(t,1));var r=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(i=r))}),t.splice(i,0,o),t}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(t){}}function s(){var t;try{t=n.storage.debug}catch(t){}return t}n=e.exports=t("./debug"),n.log=i,n.formatArgs=r,n.save=a,n.load=s,n.useColors=o,n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(s())},{"./debug":18}],18:[function(t,e,n){function o(){return n.colors[l++%n.colors.length]}function r(t){function e(){}function r(){var t=r,e=+new Date,i=e-(u||e);t.diff=i,t.prev=u,t.curr=e,u=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=o());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(e,o){if("%%"===e)return e;s++;var r=n.formatters[o];if("function"==typeof r){var i=a[s];e=r.call(t,i),a.splice(s,1),s--}return e}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(t,a)),(r.log||n.log||console.log.bind(console)).apply(t,a)}e.enabled=!1,r.enabled=!0;var i=n.enabled(t)?r:e;return i.namespace=t,i}function i(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),o=e.length,r=0;r<o;r++)e[r]&&(t=e[r].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function a(){n.enable("")}function s(t){var e,o;for(e=0,o=n.skips.length;e<o;e++)if(n.skips[e].test(t))return!1;for(e=0,o=n.names.length;e<o;e++)if(n.names[e].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=r,n.coerce=c,n.disable=a,n.enable=i,n.enabled=s,n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={};var u,l=0},{ms:25}],19:[function(t,e,n){(function(e){function o(t,e){return e("b"+n.packets[t.type]+t.data.data)}function r(t,e,o){if(!e)return n.encodeBase64Packet(t,o);var r=t.data,i=new Uint8Array(r),a=new Uint8Array(1+r.byteLength);a[0]=y[t.type];for(var s=0;s<i.length;s++)a[s+1]=i[s];return o(a.buffer)}function i(t,e,o){if(!e)return n.encodeBase64Packet(t,o);var r=new FileReader;return r.onload=function(){t.data=r.result,n.encodePacket(t,e,!0,o)},r.readAsArrayBuffer(t.data)}function a(t,e,o){if(!e)return n.encodeBase64Packet(t,o);if(g)return i(t,e,o);var r=new Uint8Array(1);return r[0]=y[t.type],o(new b([r.buffer,t.data]))}function s(t,e,n){for(var o=new Array(t.length),r=p(t.length,n),i=0;i<t.length;i++)!function(t,n,r){e(n,function(e,n){o[t]=n,r(e,o)})}(i,t[i],r)}var c=t("./keys"),u=t("has-binary"),l=t("arraybuffer.slice"),d=t("base64-arraybuffer"),p=t("after"),f=t("utf8"),h=navigator.userAgent.match(/Android/i),m=/PhantomJS/i.test(navigator.userAgent),g=h||m;n.protocol=3;var y=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},_=c(y),v={type:"error",data:"parser error"},b=t("blob");n.encodePacket=function(t,n,i,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof i&&(s=i,i=null);var c=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&c instanceof ArrayBuffer)return r(t,n,s);if(b&&c instanceof e.Blob)return a(t,n,s);if(c&&c.base64)return o(t,s);var u=y[t.type];return void 0!==t.data&&(u+=i?f.encode(String(t.data)):String(t.data)),s(""+u)},n.encodeBase64Packet=function(t,o){var r="b"+n.packets[t.type];if(b&&t.data instanceof e.Blob){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];o(r+t)},i.readAsDataURL(t.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var s=new Uint8Array(t.data),c=new Array(s.length),u=0;u<s.length;u++)c[u]=s[u];a=String.fromCharCode.apply(null,c)}return r+=e.btoa(a),o(r)},n.decodePacket=function(t,e,o){if("string"==typeof t||void 0===t){if("b"==t.charAt(0))return n.decodeBase64Packet(t.substr(1),e);if(o)try{t=f.decode(t)}catch(t){return v}var r=t.charAt(0);return Number(r)==r&&_[r]?t.length>1?{type:_[r],data:t.substring(1)}:{type:_[r]}:v}var i=new Uint8Array(t),r=i[0],a=l(t,1);return b&&"blob"===e&&(a=new b([a])),{type:_[r],data:a}},n.decodeBase64Packet=function(t,n){var o=_[t.charAt(0)];if(!e.ArrayBuffer)return{type:o,data:{base64:!0,data:t.substr(1)}};var r=d.decode(t.substr(1));return"blob"===n&&b&&(r=new b([r])),{type:o,data:r}},n.encodePayload=function(t,e,o){function r(t){return t.length+":"+t}function i(t,o){n.encodePacket(t,!!a&&e,!0,function(t){o(null,r(t))})}"function"==typeof e&&(o=e,e=null);var a=u(t);return e&&a?b&&!g?n.encodePayloadAsBlob(t,o):n.encodePayloadAsArrayBuffer(t,o):t.length?void s(t,i,function(t,e){return o(e.join(""))}):o("0:")},n.decodePayload=function(t,e,o){if("string"!=typeof t)return n.decodePayloadAsBinary(t,e,o);"function"==typeof e&&(o=e,e=null);var r;if(""==t)return o(v,0,1);for(var i,a,s="",c=0,u=t.length;c<u;c++){var l=t.charAt(c);if(":"!=l)s+=l;else{if(""==s||s!=(i=Number(s)))return o(v,0,1);if(a=t.substr(c+1,i),s!=a.length)return o(v,0,1);if(a.length){if(r=n.decodePacket(a,e,!0),v.type==r.type&&v.data==r.data)return o(v,0,1);if(!1===o(r,c+i,u))return}c+=i,s=""}}return""!=s?o(v,0,1):void 0},n.encodePayloadAsArrayBuffer=function(t,e){function o(t,e){n.encodePacket(t,!0,!0,function(t){return e(null,t)})}return t.length?void s(t,o,function(t,n){var o=n.reduce(function(t,e){var n;return n="string"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),r=new Uint8Array(o),i=0;return n.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var o=new Uint8Array(t.length),a=0;a<t.length;a++)o[a]=t.charCodeAt(a);n=o.buffer}r[i++]=e?0:1;for(var s=n.byteLength.toString(),a=0;a<s.length;a++)r[i++]=parseInt(s[a]);r[i++]=255;for(var o=new Uint8Array(n),a=0;a<o.length;a++)r[i++]=o[a]}),e(r.buffer)}):e(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(t,e){function o(t,e){n.encodePacket(t,!0,!0,function(t){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof t){for(var o=new Uint8Array(t.length),r=0;r<t.length;r++)o[r]=t.charCodeAt(r);t=o.buffer,n[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,a=i.toString(),s=new Uint8Array(a.length+1),r=0;r<a.length;r++)s[r]=parseInt(a[r]);if(s[a.length]=255,b){var c=new b([n.buffer,s.buffer,t]);e(null,c)}})}s(t,o,function(t,n){return e(new b(n))})},n.decodePayloadAsBinary=function(t,e,o){"function"==typeof e&&(o=e,e=null);for(var r=t,i=[],a=!1;r.byteLength>0;){for(var s=new Uint8Array(r),c=0===s[0],u="",d=1;255!=s[d];d++){if(u.length>310){a=!0;break}u+=s[d]}if(a)return o(v,0,1);r=l(r,2+u.length),u=parseInt(u);var p=l(r,0,u);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(t){var f=new Uint8Array(p);p="";for(var d=0;d<f.length;d++)p+=String.fromCharCode(f[d])}i.push(p),r=l(r,u)}var h=i.length;i.forEach(function(t,r){o(n.decodePacket(t,e,!0),r,h)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(t,e,n){e.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var o in t)n.call(t,o)&&e.push(o);return e}},{}],21:[function(t,e,n){(function(n){function o(t){function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(r(t)){for(var o=0;o<t.length;o++)if(e(t[o]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return!0}return!1}return e(t)}var r=t("isarray");e.exports=o}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:24}],22:[function(t,e,n){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},{}],23:[function(t,e,n){var o=[].indexOf;e.exports=function(t,e){if(o)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}],24:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],25:[function(t,e,n){function o(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*c;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function r(t){return t>=l?Math.round(t/l)+"d":t>=u?Math.round(t/u)+"h":t>=c?Math.round(t/c)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function i(t){return a(t,l,"day")||a(t,u,"hour")||a(t,c,"minute")||a(t,s,"second")||t+" ms"}function a(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var s=1e3,c=60*s,u=60*c,l=24*u,d=365.25*l;e.exports=function(t,e){return e=e||{},"string"==typeof t?o(t):e.long?i(t):r(t)}},{}],26:[function(t,e,n){(function(t){var n=/^[\],:{}\s]*$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(/^\s+/,"").replace(/\s+$/,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?new Function("return "+e)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],27:[function(t,e,n){n.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},n.decode=function(t){for(var e={},n=t.split("&"),o=0,r=n.length;o<r;o++){var i=n[o].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},{}],28:[function(t,e,n){var o=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){var e=t,n=t.indexOf("["),i=t.indexOf("]");-1!=n&&-1!=i&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));for(var a=o.exec(t||""),s={},c=14;c--;)s[r[c]]=a[c]||"";return-1!=n&&-1!=i&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},{}],29:[function(e,n,o){(function(e){!function(r){function i(t){for(var e,n,o=[],r=0,i=t.length;r<i;)e=t.charCodeAt(r++),e>=55296&&e<=56319&&r<i?(n=t.charCodeAt(r++),56320==(64512&n)?o.push(((1023&e)<<10)+(1023&n)+65536):(o.push(e),r--)):o.push(e);return o}function a(t){for(var e,n=t.length,o=-1,r="";++o<n;)e=t[o],e>65535&&(e-=65536,r+=b(e>>>10&1023|55296),e=56320|1023&e),r+=b(e);return r}function s(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function c(t,e){return b(t>>e&63|128)}function u(t){if(0==(4294967168&t))return b(t);var e="";return 0==(4294965248&t)?e=b(t>>6&31|192):0==(4294901760&t)?(s(t),e=b(t>>12&15|224),e+=c(t,6)):0==(4292870144&t)&&(e=b(t>>18&7|240),e+=c(t,12),e+=c(t,6)),e+=b(63&t|128)}function l(t){for(var e,n=i(t),o=n.length,r=-1,a="";++r<o;)e=n[r],a+=u(e);return a}function d(){if(v>=_)throw Error("Invalid byte index");var t=255&y[v];if(v++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function p(){var t,e,n,o,r;if(v>_)throw Error("Invalid byte index");if(v==_)return!1;if(t=255&y[v],v++,0==(128&t))return t;if(192==(224&t)){var e=d();if((r=(31&t)<<6|e)>=128)return r;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=d(),n=d(),(r=(15&t)<<12|e<<6|n)>=2048)return s(r),r;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=d(),n=d(),o=d(),(r=(15&t)<<18|e<<12|n<<6|o)>=65536&&r<=1114111))return r;throw Error("Invalid UTF-8 detected")}function f(t){y=i(t),_=y.length,v=0;for(var e,n=[];!1!==(e=p());)n.push(e);return a(n)}var h="object"==typeof o&&o,m="object"==typeof n&&n&&n.exports==h&&n,g="object"==typeof e&&e;g.global!==g&&g.window!==g||(r=g);var y,_,v,b=String.fromCharCode,w={version:"2.0.0",encode:l,decode:f};if("function"==typeof t&&"object"==typeof t.amd&&t.amd)t("static/js/exchange/dist/script/module_socket_io",[],function(){return w});else if(h&&!h.nodeType)if(m)m.exports=w;else{var x={},k=x.hasOwnProperty;for(var T in w)k.call(w,T)&&(h[T]=w[T])}else r.utf8=w}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],30:[function(t,e,n){"use strict";function o(t){var e="";do{e=s[t%c]+e,t=Math.floor(t/c)}while(t>0);return e}function r(t){var e=0;for(d=0;d<t.length;d++)e=e*c+u[t.charAt(d)];return e}function i(){var t=o(+new Date);return t!==a?(l=0,a=t):t+"."+o(l++)}for(var a,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),c=64,u={},l=0,d=0;d<c;d++)u[s[d]]=d;i.encode=o,i.decode=r,e.exports=i},{}],31:[function(t,e,n){function o(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o=r(t),i=o.source,u=o.id,l=o.path,d=c[u]&&l in c[u].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||d?(s("ignoring socket cache for %s",i),n=a(i,e)):(c[u]||(s("new io instance for %s",i),c[u]=a(i,e)),n=c[u]),n.socket(o.path)}var r=t("./url"),i=t("socket.io-parser"),a=t("./manager"),s=t("debug")("socket.io-client");e.exports=n=o;var c=n.managers={};n.protocol=i.protocol,n.connect=o,n.Manager=t("./manager"),n.Socket=t("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(t,e,n){function o(t,e){return this instanceof o?(t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=!1!==e.autoConnect,void(this.autoConnect&&this.open())):new o(t,e)}var r=t("engine.io-client"),i=t("./socket"),a=t("component-emitter"),s=t("socket.io-parser"),c=t("./on"),u=t("component-bind"),l=t("debug")("socket.io-client:manager"),d=t("indexof"),p=t("backo2"),f=Object.prototype.hasOwnProperty;e.exports=o,o.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)f.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},o.prototype.updateSocketIds=function(){for(var t in this.nsps)f.call(this.nsps,t)&&(this.nsps[t].id=this.engine.id)},a(o.prototype),o.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},o.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},o.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},o.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},o.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},o.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},o.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},o.prototype.open=o.prototype.connect=function(t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=r(this.uri,this.opts);var e=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var o=c(e,"open",function(){n.onopen(),t&&t()}),i=c(e,"error",function(e){if(l("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var o=new Error("Connection error");o.data=e,t(o)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;l("connect attempt will timeout after %d",a);var s=setTimeout(function(){l("connect attempt timed out after %d",a),o.destroy(),e.close(),e.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(o),this.subs.push(i),this},o.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(c(t,"data",u(this,"ondata"))),this.subs.push(c(t,"ping",u(this,"onping"))),this.subs.push(c(t,"pong",u(this,"onpong"))),this.subs.push(c(t,"error",u(this,"onerror"))),this.subs.push(c(t,"close",u(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",u(this,"ondecoded")))},o.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},o.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},o.prototype.ondata=function(t){this.decoder.add(t)},o.prototype.ondecoded=function(t){this.emit("packet",t)},o.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},o.prototype.socket=function(t){function e(){~d(o.connecting,n)||o.connecting.push(n)}var n=this.nsps[t];if(!n){n=new i(this,t),this.nsps[t]=n;var o=this;n.on("connecting",e),n.on("connect",function(){n.id=o.engine.id}),this.autoConnect&&e()}return n},o.prototype.destroy=function(t){var e=d(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},o.prototype.packet=function(t){l("writing packet %j",t);var e=this;e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var o=0;o<n.length;o++)e.engine.write(n[o],t.options);e.encoding=!1,e.processPacketQueue()}))},o.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},o.prototype.cleanup=function(){l("cleanup");for(var t;t=this.subs.shift();)t.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},o.prototype.close=o.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},o.prototype.onclose=function(t){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},o.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(l("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},o.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(t,e,n){function o(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}e.exports=o},{}],34:[function(t,e,n){function o(t,e){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var r=t("socket.io-parser"),i=t("component-emitter"),a=t("to-array"),s=t("./on"),c=t("component-bind"),u=t("debug")("socket.io-client:socket"),l=t("has-binary");e.exports=o;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=i.prototype.emit;i(o.prototype),o.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",c(this,"onopen")),s(t,"packet",c(this,"onpacket")),s(t,"close",c(this,"onclose"))]}},o.prototype.open=o.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},o.prototype.send=function(){var t=a(arguments);return t.unshift("message"),this.emit.apply(this,t),this},o.prototype.emit=function(t){if(d.hasOwnProperty(t))return p.apply(this,arguments),this;var e=a(arguments),n=r.EVENT;l(e)&&(n=r.BINARY_EVENT);var o={type:n,data:e};return o.options={},o.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),o.id=this.ids++),this.connected?this.packet(o):this.sendBuffer.push(o),delete this.flags,this},o.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},o.prototype.onopen=function(){u("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:r.CONNECT})},o.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},o.prototype.onpacket=function(t){if(t.nsp==this.nsp)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},o.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?p.apply(this,e):this.receiveBuffer.push(e)},o.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var o=a(arguments);u("sending ack %j",o);var i=l(o)?r.BINARY_ACK:r.ACK;e.packet({type:i,id:t,data:o})}}},o.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(u("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u("bad ack %s",t.id)},o.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},o.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)p.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},o.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},o.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},o.prototype.close=o.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},o.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(t,e,n){(function(n){function o(t,e){var o=t,e=e||n.location;null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"==t.charAt(0)&&(t="/"==t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),i("parse %s",t),o=r(t)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";var a=-1!==o.host.indexOf(":"),s=a?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+s+":"+o.port,o.href=o.protocol+"://"+s+(e&&e.port==o.port?"":":"+o.port),o}var r=t("parseuri"),i=t("debug")("socket.io-client:url");e.exports=o}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{debug:39,parseuri:45}],36:[function(t,e,n){function o(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}e.exports=o,o.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},o.prototype.reset=function(){this.attempts=0},o.prototype.setMin=function(t){this.ms=t},o.prototype.setMax=function(t){this.max=t},o.prototype.setJitter=function(t){this.jitter=t}},{}],37:[function(t,e,n){var o=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=o.call(arguments,2);return function(){return e.apply(t,n.concat(o.call(arguments)))}}},{}],38:[function(t,e,n){function o(t){if(t)return r(t)}function r(t){for(var e in o.prototype)t[e]=o.prototype[e];return t}e.exports=o,o.prototype.on=o.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},o.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o,r=0;r<n.length;r++)if((o=n[r])===e||o.fn===e){n.splice(r,1);break}return this},o.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var o=0,r=n.length;o<r;++o)n[o].apply(this,e)}return this},o.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},o.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],39:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{"./debug":40,dup:17}],40:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18,ms:44}],41:[function(t,e,n){(function(n){function o(t){function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(r(t)){for(var o=0;o<t.length;o++)if(e(t[o]))return!0}else if(t&&"object"==typeof t){t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON());for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return!0}return!1}return e(t)}var r=t("isarray");e.exports=o}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:43}],42:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],43:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],44:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],45:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],46:[function(t,e,n){(function(e){var o=t("isarray"),r=t("./is-buffer");n.deconstructPacket=function(t){function e(t){if(!t)return t;if(r(t)){var i={_placeholder:!0,num:n.length};return n.push(t),i}if(o(t)){for(var a=new Array(t.length),s=0;s<t.length;s++)a[s]=e(t[s]);return a}if("object"==typeof t&&!(t instanceof Date)){var a={};for(var c in t)a[c]=e(t[c]);return a}return t}var n=[],i=t.data,a=t;return a.data=e(i),a.attachments=n.length,{packet:a,buffers:n}},n.reconstructPacket=function(t,e){function n(t){if(t&&t._placeholder){return e[t.num]}if(o(t)){for(var r=0;r<t.length;r++)t[r]=n(t[r]);return t}if(t&&"object"==typeof t){for(var i in t)t[i]=n(t[i]);return t}return t}return t.data=n(t.data),t.attachments=void 0,t},n.removeBlobs=function(t,n){function i(t,c,u){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){a++;var l=new FileReader;l.onload=function(){u?u[c]=this.result:s=this.result,--a||n(s)},l.readAsArrayBuffer(t)}else if(o(t))for(var d=0;d<t.length;d++)i(t[d],d,t);else if(t&&"object"==typeof t&&!r(t))for(var p in t)i(t[p],p,t)}var a=0,s=t;i(s),a||n(s)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./is-buffer":48,isarray:43}],47:[function(t,e,n){function o(){}function r(t){var e="",o=!1;return e+=t.type,n.BINARY_EVENT!=t.type&&n.BINARY_ACK!=t.type||(e+=t.attachments,e+="-"),t.nsp&&"/"!=t.nsp&&(o=!0,e+=t.nsp),null!=t.id&&(o&&(e+=",",o=!1),e+=t.id),null!=t.data&&(o&&(e+=","),e+=d.stringify(t.data)),l("encoded %j as %s",t,e),e}function i(t,e){function n(t){var n=f.deconstructPacket(t),o=r(n.packet),i=n.buffers;i.unshift(o),e(i)}f.removeBlobs(t,n)}function a(){this.reconstructor=null}function s(t){var e={},o=0;if(e.type=Number(t.charAt(0)),null==n.types[e.type])return u();if(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type){for(var r="";"-"!=t.charAt(++o)&&(r+=t.charAt(o),o!=t.length););if(r!=Number(r)||"-"!=t.charAt(o))throw new Error("Illegal attachments");e.attachments=Number(r)}if("/"==t.charAt(o+1))for(e.nsp="";++o;){var i=t.charAt(o);if(","==i)break;if(e.nsp+=i,o==t.length)break}else e.nsp="/";var a=t.charAt(o+1);if(""!==a&&Number(a)==a){for(e.id="";++o;){var i=t.charAt(o);if(null==i||Number(i)!=i){--o;break}if(e.id+=t.charAt(o),o==t.length)break}e.id=Number(e.id)}if(t.charAt(++o))try{e.data=d.parse(t.substr(o))}catch(t){return u()}return l("decoded %s as %j",t,e),e}function c(t){this.reconPack=t,this.buffers=[]}function u(t){return{type:n.ERROR,data:"parser error"}}var l=t("debug")("socket.io-parser"),d=t("json3"),p=(t("isarray"),t("component-emitter")),f=t("./binary"),h=t("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,
n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=o,n.Decoder=a,o.prototype.encode=function(t,e){if(l("encoding packet %j",t),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type)i(t,e);else{e([r(t)])}},p(a.prototype),a.prototype.add=function(t){var e;if("string"==typeof t)e=s(t),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type?(this.reconstructor=new c(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!h(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",e))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(t,e,n){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],49:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],50:[function(e,n,o){(function(e){(function(){function r(t,e){function n(t){if(n[t]!==g)return n[t];var r;if("bug-string-char-index"==t)r="a"!="a"[0];else if("json"==t)r=n("json-stringify")&&n("json-parse");else{var a,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c=e.stringify,l="function"==typeof c&&v;if(l){(a=function(){return 1}).toJSON=a;try{l="0"===c(0)&&"0"===c(new o)&&'""'==c(new i)&&c(_)===g&&c(g)===g&&c()===g&&"1"===c(a)&&"[1]"==c([a])&&"[null]"==c([g])&&"null"==c(null)&&"[null,null,null]"==c([g,_,null])&&c({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===c(null,a)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new u(-1))}catch(t){l=!1}}r=l}if("json-parse"==t){var d=e.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){a=d(s);var p=5==a.a.length&&1===a.a[0];if(p){try{p=!d('"\t"')}catch(t){}if(p)try{p=1!==d("01")}catch(t){}if(p)try{p=1!==d("1.")}catch(t){}}}}catch(t){p=!1}r=p}}return n[t]=!!r}t||(t=c.Object()),e||(e=c.Object());var o=t.Number||c.Number,i=t.String||c.String,s=t.Object||c.Object,u=t.Date||c.Date,l=t.SyntaxError||c.SyntaxError,d=t.TypeError||c.TypeError,p=t.Math||c.Math,f=t.JSON||c.JSON;"object"==typeof f&&f&&(e.stringify=f.stringify,e.parse=f.parse);var h,m,g,y=s.prototype,_=y.toString,v=new u(-0xc782b5b800cec);try{v=-109252==v.getUTCFullYear()&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()}catch(t){}if(!n("json")){var b="[object Function]",w="[object Number]",x="[object String]",k="[object Array]",T=n("bug-string-char-index");if(!v)var S=p.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],R=function(t,e){return C[e]+365*(t-1970)+S((t-1969+(e=+(e>1)))/4)-S((t-1901+e)/100)+S((t-1601+e)/400)};if((h=y.hasOwnProperty)||(h=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=_?h=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,h=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,h.call(this,t)}),m=function(t,e){var n,o,r,i=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,o=new n;for(r in o)h.call(o,r)&&i++;return n=o=null,i?m=2==i?function(t,e){var n,o={},r=_.call(t)==b;for(n in t)r&&"prototype"==n||h.call(o,n)||!(o[n]=1)||!h.call(t,n)||e(n)}:function(t,e){var n,o,r=_.call(t)==b;for(n in t)r&&"prototype"==n||!h.call(t,n)||(o="constructor"===n)||e(n);(o||h.call(t,n="constructor"))&&e(n)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(t,e){var n,r,i=_.call(t)==b,s=!i&&"function"!=typeof t.constructor&&a[typeof t.hasOwnProperty]&&t.hasOwnProperty||h;for(n in t)i&&"prototype"==n||!s.call(t,n)||e(n);for(r=o.length;n=o[--r];s.call(t,n)&&e(n));}),m(t,e)},!n("json-stringify")){var j={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},M=function(t,e){return("000000"+(e||0)).slice(-t)},A=function(t){for(var e='"',n=0,o=t.length,r=!T||o>10,i=r&&(T?t.split(""):t);n<o;n++){var a=t.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=j[a];break;default:if(a<32){e+="\\u00"+M(2,a.toString(16));break}e+=r?i[n]:t.charAt(n)}}return e+'"'},D=function(t,e,n,o,r,i,a){var s,c,u,l,p,f,y,v,b,T,C,j,L,B,N,O;try{s=e[t]}catch(t){}if("object"==typeof s&&s)if("[object Date]"!=(c=_.call(s))||h.call(s,"toJSON"))"function"==typeof s.toJSON&&(c!=w&&c!=x&&c!=k||h.call(s,"toJSON"))&&(s=s.toJSON(t));else if(s>-1/0&&s<1/0){if(R){for(p=S(s/864e5),u=S(p/365.2425)+1970-1;R(u+1,0)<=p;u++);for(l=S((p-R(u,0))/30.42);R(u,l+1)<=p;l++);p=1+p-R(u,l),f=(s%864e5+864e5)%864e5,y=S(f/36e5)%24,v=S(f/6e4)%60,b=S(f/1e3)%60,T=f%1e3}else u=s.getUTCFullYear(),l=s.getUTCMonth(),p=s.getUTCDate(),y=s.getUTCHours(),v=s.getUTCMinutes(),b=s.getUTCSeconds(),T=s.getUTCMilliseconds();s=(u<=0||u>=1e4?(u<0?"-":"+")+M(6,u<0?-u:u):M(4,u))+"-"+M(2,l+1)+"-"+M(2,p)+"T"+M(2,y)+":"+M(2,v)+":"+M(2,b)+"."+M(3,T)+"Z"}else s=null;if(n&&(s=n.call(e,t,s)),null===s)return"null";if("[object Boolean]"==(c=_.call(s)))return""+s;if(c==w)return s>-1/0&&s<1/0?""+s:"null";if(c==x)return A(""+s);if("object"==typeof s){for(B=a.length;B--;)if(a[B]===s)throw d();if(a.push(s),C=[],N=i,i+=r,c==k){for(L=0,B=s.length;L<B;L++)j=D(L,s,n,o,r,i,a),C.push(j===g?"null":j);O=C.length?r?"[\n"+i+C.join(",\n"+i)+"\n"+N+"]":"["+C.join(",")+"]":"[]"}else m(o||s,function(t){var e=D(t,s,n,o,r,i,a);e!==g&&C.push(A(t)+":"+(r?" ":"")+e)}),O=C.length?r?"{\n"+i+C.join(",\n"+i)+"\n"+N+"}":"{"+C.join(",")+"}":"{}";return a.pop(),O}};e.stringify=function(t,e,n){var o,r,i,s;if(a[typeof e]&&e)if((s=_.call(e))==b)r=e;else if(s==k){i={};for(var c,u=0,l=e.length;u<l;c=e[u++],((s=_.call(c))==x||s==w)&&(i[c]=1));}if(n)if((s=_.call(n))==w){if((n-=n%1)>0)for(o="",n>10&&(n=10);o.length<n;o+=" ");}else s==x&&(o=n.length<=10?n:n.slice(0,10));return D("",(c={},c[""]=t,c),r,i,o,"",[])}}if(!n("json-parse")){var L,B,N=i.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},E=function(){throw L=B=null,l()},I=function(){for(var t,e,n,o,r,i=B,a=i.length;L<a;)switch(r=i.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=T?i.charAt(L):i[L],L++,t;case 34:for(t="@",L++;L<a;)if((r=i.charCodeAt(L))<32)E();else if(92==r)switch(r=i.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=O[r],L++;break;case 117:for(e=++L,n=L+4;L<n;L++)(r=i.charCodeAt(L))>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70||E();t+=N("0x"+i.slice(e,L));break;default:E()}else{if(34==r)break;for(r=i.charCodeAt(L),e=L;r>=32&&92!=r&&34!=r;)r=i.charCodeAt(++L);t+=i.slice(e,L)}if(34==i.charCodeAt(L))return L++,t;E();default:if(e=L,45==r&&(o=!0,r=i.charCodeAt(++L)),r>=48&&r<=57){for(48==r&&(r=i.charCodeAt(L+1))>=48&&r<=57&&E(),o=!1;L<a&&(r=i.charCodeAt(L))>=48&&r<=57;L++);if(46==i.charCodeAt(L)){for(n=++L;n<a&&(r=i.charCodeAt(n))>=48&&r<=57;n++);n==L&&E(),L=n}if(101==(r=i.charCodeAt(L))||69==r){for(r=i.charCodeAt(++L),43!=r&&45!=r||L++,n=L;n<a&&(r=i.charCodeAt(n))>=48&&r<=57;n++);n==L&&E(),L=n}return+i.slice(e,L)}if(o&&E(),"true"==i.slice(L,L+4))return L+=4,!0;if("false"==i.slice(L,L+5))return L+=5,!1;if("null"==i.slice(L,L+4))return L+=4,null;E()}return"$"},q=function(t){var e,n;if("$"==t&&E(),"string"==typeof t){if("@"==(T?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=I());n||(n=!0))n&&(","==t?"]"==(t=I())&&E():E()),","==t&&E(),e.push(q(t));return e}if("{"==t){for(e={};"}"!=(t=I());n||(n=!0))n&&(","==t?"}"==(t=I())&&E():E()),","!=t&&"string"==typeof t&&"@"==(T?t.charAt(0):t[0])&&":"==I()||E(),e[t.slice(1)]=q(I());return e}E()}return t},H=function(t,e,n){var o=P(t,e,n);o===g?delete t[e]:t[e]=o},P=function(t,e,n){var o,r=t[e];if("object"==typeof r&&r)if(_.call(r)==k)for(o=r.length;o--;)H(r,o,n);else m(r,function(t){H(r,t,n)});return n.call(t,e,r)};e.parse=function(t,e){var n,o;return L=0,B=""+t,n=q(I()),"$"!=I()&&E(),L=B=null,e&&_.call(e)==b?P((o={},o[""]=n,o),"",e):n}}}return e.runInContext=r,e}var i="function"==typeof t&&t.amd,a={function:!0,object:!0},s=a[typeof o]&&o&&!o.nodeType&&o,c=a[typeof window]&&window||this,u=s&&a[typeof n]&&n&&!n.nodeType&&"object"==typeof e&&e;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u),s&&!i)r(c,s);else{var l=c.JSON,d=c.JSON3,p=!1,f=r(c,c.JSON3={noConflict:function(){return p||(p=!0,c.JSON=l,c.JSON3=d,l=d=null),f}});c.JSON={parse:f.parse,stringify:f.stringify}}i&&t("static/js/exchange/dist/script/module_socket_io",[],function(){return f})}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],51:[function(t,e,n){function o(t,e){var n=[];e=e||0;for(var o=e||0;o<t.length;o++)n[o-e]=t[o];return n}e.exports=o},{}]},{},[31])(31)}),"function"==typeof define?define("static/js/exchange/dist/script/module_connect",[],function(){return connect}):"undefined"!=typeof exports?module.connect=connect:window.connect=connect,function(){function t(t,e){if(void 0!=t){var n=function(t){var e,n,o,r,i,a,s="string"==typeof t?t.toLowerCase().replace(/\s/g,""):t.toString().toLowerCase().replace(/\s/g,""),c="000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";return/e[+-]/.test(s)?(n=/\+/.test(s),o=s.split("e"),e=/\-/.test(o[0].toString())?"-0.":"0.",o[0]=o[0].replace("-",""),r=o[0].split(".")[1]?o[0].split(".")[1].length:0,i=o[1],a=i.split(n?"+":"-")[1],o=o[0].replace(".",""),n?o+c.substring(0,a-r):e+c.substring(0,a-1)+o):s}(t),o=n.indexOf("."),r=0,i=0;if(isNaN(parseFloat(n)))i=0;else if(isNaN(n))i=parseFloat(n);else if(void 0!==e)if(o>=0){if((r=n.substring(o+1,n.length).length)<e){for(var a=0;a<e-r;a++)n+="0";i=0==o?"0"+n:n}else{var s=n.substring(0,e+1+o);i=0==o?"0"+s:s}e<=0&&(i=parseInt(t))}else if(e>0){n+=".";for(var c=0;c<e;c++)n+="0";i=n}else e<=0&&(i=n);else i=Number(n);return i}}"function"==typeof define?define("static/js/exchange/dist/script/module_number",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.BitNumber=t}(),"function"==typeof define?define("static/js/exchange/dist/script/module_socket_api",[],function(){return SOCKET_API}):"undefined"!=typeof exports?module.SOCKET_API=SOCKET_API:window.SOCKET_API=SOCKET_API,function(){var t={Add:function(t,e){if(void 0!=t&&void 0!=e){var n,o,r,i=this.Mul;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{o=e.toString().split(".")[1].length}catch(t){o=0}return r=Math.pow(10,Math.max(n,o)),(i(t,r)+i(e,r))/r}},Sub:function(t,e){if(void 0!=t&&void 0!=e){var n,o,r,i,a=this.Mul;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{o=e.toString().split(".")[1].length}catch(t){o=0}return r=Math.pow(10,Math.max(n,o)),i=n>=o?n:o,((a(t,r)-a(e,r))/r).toFixed(i)}},format_number:function(t){return(t.toFixed(0)+"").replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")},BtcRound:function(t,e){for(var n,o=1,r=0;r<e;r++)o*=10;return n=t*o,(n=Math.round(n))/o},Mul:function(t,e){if(void 0!=t&&void 0!=e){var n=0,o=t.toString(),r=e.toString();try{n+=o.split(".")[1].length}catch(t){}try{n+=r.split(".")[1].length}catch(t){}return Number(o.replace(".",""))*Number(r.replace(".",""))/Math.pow(10,n)}},Div:function(t,e){if(void 0!=t&&void 0!=e){var n=0,o=0;try{n=t.toString().split(".")[1].length}catch(t){}try{o=e.toString().split(".")[1].length}catch(t){}return Number(t.toString().replace(".",""))/Number(e.toString().replace(".",""))*Math.pow(10,o-n)}}};"function"==typeof define?define("static/js/exchange/dist/script/module_accurate",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.BitAcc=t}(),define("static/js/exchange/dist/script/page_l_trade",["static/js/exchange/dist/script/module_accurate","static/js/exchange/dist/script/module_number","static/js/exchange/dist/script/module_validator","static/js/exchange/dist/script/module_range","static/js/exchange/dist/script/module_ajax","static/js/exchange/dist/script/module_switch","static/js/exchange/dist/script/module_cookie","static/js/exchange/dist/script/module_dialog","static/js/exchange/dist/script/module_md5","static/js/exchange/dist/script/module_this_jack","static/js/exchange/dist/script/page_l_notice","static/js/exchange/dist/script/page_l_order","static/js/exchange/dist/script/module_order","jquery","static/js/exchange/dist/script/module_tmpl","static/js/exchange/dist/script/module_hb_extend"],function(t){function e(t){_orderType=t.data("order-type")||"PlaceOrder",_panelType=t.data("panel-type")||"Limited"}function n(t){if("HBForm"===t.Type)return t;var e=S(t);return e.find("[name]").each(function(t,n){var o=S(n),r=o.attr("name");e[r]=o,e[r].Value=o.val()}),e.Type="HBForm",e}function o(t,e){return/\.$/.test(t)?h(t):h(t,e)}function r(){var t=this;t.FormatVal=function(e){var n=t.val();n<0&&(n=0,t.val(n)),""==n||("price"==e?/^(([0-9]{1}\d*)|([0]{1}))(\.(\d){0,2})?$/:/^(([0-9]{1}\d*)|([0]{1}))(\.(\d){0,4})?$/).test(n)||(S(".keepDecimalForCoin").val(),S(".keepDecimalForCurrency").val(),n=o(1*n,"price"==e?Number(3):Number(4)),t.val(n));var r=S(".buyrate").val(),i=S(".sellrate").val(),a=S("#buy_price").val(),s=S("#buy_amount").val(),c=S("#sell_price").val(),u=S("#sell_amount").val(),l=Number(r)/100*Number(a)*Number(s),d=Number(i)/100*Number(c)*Number(u),p=t.attr("id");return void 0!=p&&("buy"==p.substring(0,p.indexOf("_"))?S(".buyCharge").html(o(l,3)):S(".sellCharge").html(o(d,3))),1*n}}function i(t,e,n){var o;return"PlaceOrder"===_orderType?e&&t?(o=f.Mul(1*e,1*t),n&&n.html(h(o,3)).attr("actual",o)):(o=0,n&&n.html("0.00")):"PlaceMarketOrder"===_orderType&&(o=void 0!==t?t:e),o}function a(t){var e=t||{},n=e.trade_type,o=e.loan_type,r=e.price,i=e.available,a=f.Add(e.loan_enable,i),s=[];s=function(t,e,r,i,a){var s=[];return"buy"===n?(s[0]=r?f.Div(o?e:t,r):0,s[0]=s[0]<i[0]?s[0]:i[0],s[1]=o?e:t,s[1]=s[1]<a[0]?s[1]:a[0]):(s[2]=o?e:t,s[2]=s[2]<i[1]?s[2]:i[1],s[3]=o?e<a[1]?e:a[1]:t<a[1]?t:a[1]),s}(i,a,r,[_limits.trade["max_buy_"+_coinType],_limits.trade["max_sell_"+_coinType]],[_limits.trade["max_buy_"+_coinType+"_mp"],_limits.trade["max_sell_"+_coinType+"_mp"]]),void 0!==s[0]&&(_caches.trade.buy_max=s[0]),void 0!==s[1]&&(_caches.trade.buy_max_mp=s[1]),void 0!==s[2]&&(_caches.trade.sell_max=s[2]),void 0!==s[3]&&(_caches.trade.sell_max_mp=s[3])}function s(t,e){"buy"===t?"PlaceOrder"==_orderType?e&&e.attr("data-max",h(_caches.trade.buy_max,4)).parent().find(".max_amount_num").html(h(_caches.trade.buy_max,4)):"PlaceMarketOrder"===_orderType&&e&&e.attr("data-max",h(_caches.trade.buy_max_mp,4)).parent().find(".max_amount_num").html(h(_caches.trade.buy_max_mp,4)):"PlaceOrder"==_orderType?e&&e.attr("data-max",h(_caches.trade.sell_max,4)).parent().find(".max_amount_num").html(h(_caches.trade.sell_max,4)):"PlaceMarketOrder"===_orderType&&e&&e.attr("data-max",h(_caches.trade.sell_max_mp,4)).parent().find(".max_amount_num").html(h(_caches.trade.sell_max_mp,4))}function c(t,e,n,o,r,i){var a=0;return a="buy"===n?1*f.Sub(t[0],e)>0?1*f.Sub(t[0],e):0:1*f.Sub(t[1],e)>0?1*f.Sub(t[1],e):0,a=a>0&&a<_limits.loan["min_"+r]?_limits.loan["min_"+r]:a,"buy"===n?o&&o.html(i?h(u(a,"currency"),4):"0.00").attr("data-amount",u(h(a),"currency")):o&&o.html(i?h(u(a,"coin"),4):"0.0000").attr("data-amount",u(h(a),"coin")),a}function u(t,e){var n;return"currency"==e&&(n=Math.floor(100*t+.9)/100),"coin"==e&&(n=Math.floor(1e4*t+.9)/1e4),n}function l(t,e,n){var o=n&&e?n/e*100:0;t.Update(o)}function d(t,e,r){var i=S(e),a=i.find(".range_ratio"),s=n(i.parents("form")),c=s.data("trade-type"),u=t/100;u?a.show():a.hide(),a.css({left:t+"%"}),"PlaceOrder"===_orderType?"buy"===c?s.amount.val(o(f.Mul(_caches.trade.buy_max,u),4)).trigger("keyup",["slide"]):s.amount.val(o(f.Mul(_caches.trade.sell_max,u),4)).trigger("keyup",["slide"]):"PlaceMarketOrder"===_orderType&&("buy"===c?s.market_transaction_amount.val(o(f.Mul(_caches.trade.buy_max_mp,u),4)).trigger("keyup",["slide"]):s.market_amount.val(o(f.Mul(_caches.trade.sell_max_mp,u),4)).trigger("keyup",["slide"]))}function p(t,e){var n=t||{};y({url:"/trade/do_"+n.type+"?st=trade_trade&order_source=8",data:n.data,type:"POST",init:n.init},function(t){var n=t.code;if(console.log("trade ajax",n),"success"==n||"error"==n){var o=t.data;e&&e(o,n)}})}var f=t("static/js/exchange/dist/script/module_accurate"),h=t("static/js/exchange/dist/script/module_number"),m=t("static/js/exchange/dist/script/module_validator"),g=t("static/js/exchange/dist/script/module_range"),y=t("static/js/exchange/dist/script/module_ajax"),_=t("static/js/exchange/dist/script/module_switch"),v=t("static/js/exchange/dist/script/module_cookie"),b=t("static/js/exchange/dist/script/module_dialog"),w=t("static/js/exchange/dist/script/module_md5"),x=t("static/js/exchange/dist/script/module_this_jack"),k=t("static/js/exchange/dist/script/page_l_notice"),T=t("static/js/exchange/dist/script/page_l_order"),S=t("jquery"),C=(t("static/js/exchange/dist/script/module_hb_extend"),S(document)),R={};DOC={},HRYB.BALANCE=R,DOC.doc=S(document),_limits={trade:{max_buy_cny_btc:2e8,max_buy_cny_ltc:2e8,max_sell_cny_btc:2e8,max_sell_cny_ltc:2e8,max_buy_usd_btc:2e8,max_buy_usd_ltc:2e8,max_sell_usd_btc:2e8,max_sell_usd_ltc:2e8,max_buy_cny_btc_mp:2e8,max_buy_cny_ltc_mp:2e8,max_sell_cny_btc_mp:2e8,max_sell_cny_ltc_mp:2e8,max_buy_usd_btc_mp:2e8,max_buy_usd_ltc_mp:2e8,max_sell_usd_btc_mp:2e8,max_sell_usd_ltc_mp:2e8},loan:{min_cny_cny:100,min_cny_btc:.1,min_cny_ltc:1,min_usd_usd:50,min_usd_btc:.1,min_usd_ltc:1}},_caches={trade:{buy_max:0,sell_max:0,buy_max_mp:0,sell_max_mp:0},loan:{cny_cny:{enable:0,total:0},cny_btc:{enable:0,total:0},cny_ltc:{enable:0,total:0},usd_usd:{enable:0,total:0},usd_btc:{enable:0,total:0}}},_orderType="PlaceOrder",_panelType="Limited",_coinType=document.getElementsByName("coin_type")[0].value,_dom={".form_trade":S(".form_trade")},buyRange=new g({range:"#range_buy",step:1,point:4,delay:10,slide:function(t,e){d(t,e)}}),sellRange=new g({range:"#range_sell",step:1,point:4,delay:10,slide:function(t,e){d(t,e)}}),buyRangeMp=new g({range:"#range_buy_mp",step:1,point:4,delay:15,slide:function(t,e){d(t,e)}}),sellRangeMp=new g({range:"#range_sell_mp",step:1,point:4,delay:15,slide:function(t,e){d(t,e)}}),_CSRF=document.getElementsByName("_csrf")[0]&&document.getElementsByName("_csrf")[0].value,GetLoanInfo=function(t,e){if(UID)return new y({url:"/loan/index.do",data:{a:"get_loan_available_multi",loan_types:t},init:e},function(t){if("success"==t.code){var e,n=t.data;0===n.code&&n.ext&&(S.each(n.ext,function(t,n){e=1*n.enable,_caches.loan[t].enable=e,_caches.loan[t].total=f.Add(e,HRYB.BALANCE[t+"available"]||0)}),C.trigger("__LoanWrite"))}})},GetLoanNow=function(t,e){var n=t||{},o=n.amount||0,r=n.loan_type;if(!(o<=0))return new y({url:"/loan/index.do",data:{a:"do_loan",loan_type:r,currency:o,_csrf:_CSRF,check:"on"},type:"POST",random:!1},function(t){e&&e(t)})},window.buyRange=buyRange;var j=GetLoanInfo("cny_cny,cny_btc","cny_btc"==_coinType),M=GetLoanInfo("cny_cny,cny_ltc","cny_ltc"==_coinType),A=GetLoanInfo("usd_usd,usd_btc","usd_btc"==_coinType);!function(){function t(){var t=v.Cookie("trade_pwd_on"),e=v.Cookie("trade_pwd_time");return"0"!=t&&("1"==t||!e||"0"==e)}function o(t){function e(){t&&t(),D.Close()}N.val("");var n=N.data("msg-null");L.removeClass("v_error").text(""),R.is(":hidden")&&(D.Show(),N.focus(),R.attr("data-init","1"),N.off("keydown"),B.off("click"),N.keydown(function(t){13==t.keyCode&&(y=N.val(),e())}),B.on("click",function(){y=N.val(),y&&""!=y?e():L.addClass("v_error").text(n)}))}function u(t,e){function n(t){return t.addClass("focus"),setTimeout(function(){t.removeClass("focus")},300),t}var o,r,i,a=this,s=null,c=a,u=t,l=u.find(".info"),d=[S("#buy_price"),S("#buy_amount"),S("#sell_price"),S("#sell_amount")];c.on("mouseover",".tr",function(){o=S(this),a.Show(o)}),c.on("mouseout",".tr",function(){a.Hide()}),u.hover(function(){a.Clear()},function(){a.Hide()}).on("click","span",function(){var t=S(this),e=t.attr("data-info")&&t.attr("data-info").split("|"),o=e&&isNaN(1*e[0]),i=1*u.find(".col_2").attr("data-info"),a=u.attr("data-type");e&&UID&&("Lightning"==_panelType?o&&C.trigger("__LightTrade",[i,e[0],a]):("Limited"!==_panelType&&(C.trigger("__OrderType",[1]),C.trigger("__TradeTab",[1])),"sell"==r?(n(d[0]).val(e[0]).keyup(),e[1]&&n(d[1]).val(e[1]).keyup()):(n(d[2]).val(e[0]).keyup(),e[1]&&n(d[3]).val(e[1]).keyup())))}),a.Show=function(t){a.Clear();var e=t.offset();i="Lightning"==_panelType&&UID?"light":"",r=t.data("type"),u.css({display:"block",top:e.top,left:e.left+5}).attr("data-type","buy"==r?"buy":"sell")[0].className="buy"==r?"font_buy "+i:"font_sell "+i,l.html(t.html())},a.Hide=function(){s=setTimeout(function(){u.hide()},50)},a.Clear=function(){clearTimeout(s)}}function d(t,e){var o=n(t),r=(o.find(".transaction_amount"),o.find(".loan_amount"),o.find(".trade_msg"));"all"===e&&o.price.val(""),o.amount&&o.amount.val("").keyup(),o.market_transaction_amount&&o.market_transaction_amount.val("").keyup(),o.market_amount&&o.market_amount.val("").keyup(),r&&r.html(""),o.loan_switch&&o.loan_switch.prop("checked",!1).attr("data-loan-state",0).change()}function g(){P.total=h(f.Mul(P.amount,P.times),4),H.html(P.total)}var y,R=S("#trade_pwd_dialog"),D=new b({dialog:R},function(t,e,n){"close"==e&&n&&R.attr("data-init","")}),L=R.find(".tip"),B=S("#trade_pwd_submit"),N=S("#trade_pwd");m({forms:_dom[".form_trade"],tip:".trade_msg",beforeValidation:function(t){t.attr("action",HRY.host+HRY.modules.exmain+"entrust/add.do"),C.trigger("__TradeFormValidation",[t])},beforeSubmit:function(t){var e=n(t),o=e.data("trade-type"),r=e.coin_type.val().split("_"),i="buy"==o?r[0]+"_"+r[0]:r[0]+"_"+r[1],a=e.loan_switch,s=a&&1*a.attr("data-loan-state"),c=1*e.find(".loan_amount").attr("data-amount");if(e._coin=i,c>0&&a.prop("checked"))switch(s){case 0:return C.trigger("__GetLoanNow",[e,i,c]),!1;case 1:return!1;case 2:break;case 3:default:return!1}C.trigger("__TradeFormBeforeSubmit",[e])},callback:function(t,e){R.attr("data-init",""),C.trigger("__TradeFormCallback",[e,JSON.parse(t)])},postData:function(t){for(var e=[{name:"coinCode",value:CURRENT_SYMBOL}],n=0;n<t.length;n++)"price"==t[n].name?e.push({name:"entrustPrice",value:t[n].value}):"amount"==t[n].name||"market_amount"==t[n].name?e.push({name:"entrustCount",value:t[n].value}):"order_type"==t[n].name||"coin_type"==t[n].name||("market_transaction_price"==t[n].name?e.push({name:"entrustSum",value:t[n].value}):e.push(t[n]));return""!=S.trim(y)&&w.hbmd5(y),e},ajaxError:function(t){R.attr("data-init",""),C.trigger("__TradeFormError",[t])}}),_dom[".form_trade"].each(function(){var t=n(S(this)),e=t.data("trade-type"),o=t.coin_type.val().split("_"),i="buy"==e?o[0]+"_"+o[0]:o[0]+"_"+o[1],a=t.loan_switch,s=(t.find(".loan_available"),t.find(".range_wrap")),c=t.find(".max_amount"),u=t.find(":submit"),l=(c.parent(),c.find("b")),d=t.find(".trade_amount"),p={price:t.price&&t.price.Value||0,amount:t.amount&&t.amount.Value||0,market_t:t.market_transaction_amount&&t.market_transaction_amount.Value||0,market_a:t.market_amount&&t.market_amount.Value||0};x(r,t.price),x(r,t.amount),x(r,t.market_transaction_amount),x(r,t.market_amount),t._DMax=c,t._DMaxB=l,t._type=e,t._coin=i,t.transaction_amount=t.find(".transaction_amount"),t.loan_amount=t.find(".loan_amount"),t.max_amount=t.find(".max_amount"),function(e){for(var n=e.length,o=0;o<n;o++)e[o]&&e[o].on("focus",function(){t.trigger("__FormMax"),S(this).parent().addClass("focus")}).on("blur",function(){S(this).parent().removeClass("focus"),1*S(this).val()<=0&&S(this).val("")}).on("__Focus",function(){S(this).parent().addClass("focus")})}([t.price,t.amount,t.market_transaction_amount,t.market_amount]),t.price&&t.price.on("keyup change",function(e,n){p.price=t.price.FormatVal("price"),t.trigger("__FormMax"),C.trigger("__TradeFormChange",[t,p,n,"price change"]),u.prop("disabled",!1)}).on("keypress",function(){u.prop("disabled",!0)}).on("change",function(){}),t.amount&&t.amount.on("keyup change",function(e,n){p.amount=t.amount.FormatVal("amount"),C.trigger("__TradeFormChange",[t,p,n,"amount change"]),u.prop("disabled",!1)}).on("keypress",function(){u.prop("disabled",!0)}),t.market_transaction_amount&&t.market_transaction_amount.on("keyup change",function(e,n){p.market_t=t.market_transaction_amount.FormatVal("price"),C.trigger("__TradeFormChange",[t,p,n,"market_t change"])}),t.market_amount&&t.market_amount.on("keyup change",function(e,n){p.market_a=t.market_amount.FormatVal("amount"),C.trigger("__TradeFormChange",[t,p,n,"market_a change"])}),a.on("change",function(){var e=S(this);t.trigger("__FormMax"),C.trigger("__TradeFormChange",[t,p,"","loan change"]),e.prop("checked")?(C.trigger("__GetLoanInfo",[_coinType,"loan success"]),d.addClass("show_loan")):d.removeClass("show_loan")}),s.on("focus",function(){t.trigger("__FormMax"),t.amount&&t.amount.trigger("__Focus"),t.transaction_amount&&t.transaction_amount.trigger("__Focus"),t.market_transaction_amount&&t.market_transaction_amount.trigger("__Focus"),t.market_amount&&t.market_amount.trigger("__Focus")}).on("blur",function(){S(this).parent().siblings().removeClass("focus")}),t.on("__FormMax",function(){HRYB.BALANCE&&C.trigger("__TradeMax",[t,{trade_type:e,available:HRYB.BALANCE[i+"_available"]||0,price:p.price,loan_type:a&&a.prop("checked"),loan_enable:_caches.loan[i].enable,coin:i},"__FormMax"])})}),x(u,S("#market_depth"),S("#quick_bar"));var O=S("#light_switch"),E=S("#light_times"),I=S("#light_amount"),q=S("#light_price"),H=S("#light_total"),P={},Y=I.data("min");x(r,I),P={times:1,amount:I.FormatVal("amount"),total:h(f.Mul(P.amount,P.times),4),state:O.prop("checked")},g(),I.on("keyup",function(){S(this),P.amount=I.FormatVal("amount"),g()}).on("change blur",function(){var t=S(this);1*t.val()<Y&&(t.val(Y),P.amount=Y),g()}),E.on("click","span",function(){var t=S(this),e=1*t.data("info");t.addClass("cur").siblings().removeClass("cur"),P.times=e,g()}),O.on("change",function(){P.state=O.prop("checked")}),C.on("__LightTrade",function(e,n,r,i){function a(){k({message:window.Texts&&Texts.ordering});var t="";""!=S.trim(y)&&(t=w.hbmd5(y)),p({type:s,init:!0,data:{price:n,amount:P.total,coin_type:_coinType,order_type:_orderType,trade_pwd:t&&t}},function(t,e){console.log(e),"success"==e&&C.trigger("__TradeFormCallback",["",t]),"error"==e&&C.trigger("__TradeFormError")})}if(!P.state)return k({message:window.Texts&&Texts.please_open_loan,type:"error",long:5e3}),!1;var s="buy"==i?"eat"==r?"sell":"buy":"eat"==r?"buy":"sell";return q.html(n)[0].className="buy"==s?"font_buy":"font_sell",console.log("__LightTrade"),R.is(":hidden")&&t()?(o(function(){a()}),!1):void a()}),HRYB.NUM=h,_({Switch:".switch"}),C.on("DoDocHidden",function(){HRYB.GLOBAL.docHidden?T.GetOrder&&T.GetOrder.Stop():T.GetOrder&&T.GetOrder.Play()}),C.on("__TradeFormChange",function(t,e,n,o,r){if(HRYB.BALANCE){c([i("PlaceOrder"==_orderType?n.price:n.market_t,n.amount,e.transaction_amount),"PlaceOrder"==_orderType?n.amount:n.market_a],HRYB.BALANCE[e._coin+"_available"]||0,e._type,e.loan_amount,e._coin,e.loan_switch.prop("checked")),"slide"!==o&&("buy"===e._type?(""!==n.amount&&"PlaceOrder"==_orderType&&l(buyRange,_caches.trade.buy_max,n.amount),""!==n.market_t&&"PlaceMarketOrder"==_orderType&&l(buyRangeMp,_caches.trade.buy_max_mp,n.market_t)):(""!==n.amount&&"PlaceOrder"==_orderType&&l(sellRange,_caches.trade.sell_max,n.amount),""!==n.market_a&&"PlaceMarketOrder"==_orderType&&l(sellRangeMp,_caches.trade.sell_max_mp,n.market_a)))}}).on("__TradeMax",function(t,e,n,o){HRYB.BALANCE&&(a(n),s(e._type,"PlaceOrder"==_orderType?e.amount:"buy"==e._type?e.market_transaction_amount:e.market_amount))}).on("__TradeFormBeforeSubmit",function(t,e){var n=e.find(":submit"),o=n.data("msg-submit").split(",");n.text(o[1]+o[3]),k({message:o[1]+o[3]})}).on("__TradeFormCallback",function(t,e,n){var o=(e&&e.attr("data-form-type"),e&&e.find(":submit")),r=e&&o.data("msg-submit").split(",");1==n.success?(T.GetOrder.Play(),"PlaceMarketOrder"===_orderType?setTimeout(function(){T.GetHistory.Fire()},1e3):setTimeout(function(){T.GetHistory.Fire()},500),k({message:n.msg,long:1800}),o&&o.text(r[0])):(k({message:n.msg,type:"error",long:5e3}),o&&o.text(r[0])),d(e),R.attr("data-init",""),HRYB.AJAX.GetBalance.Fire()}).on("__TradeFormError",function(t,e){var n=(e&&e.attr("data-form-type"),e&&e.find(":submit")),o=e&&n.data("msg-submit").split(",");R.attr("data-init",""),k({message:window.Texts&&Texts.tradeError,type:"error",long:5e3}),n&&n.text(o[0])}).on("__LoanWrite",function(){for(var t in _caches.loan){var e=_caches.loan[t];S(".loan_"+t).html((/btc|ltc/.test(t),h(e.enable,4))).attr("data-enable",e.enable),e.enable?S(".loan_switch_"+t).prop("disabled",!1).trigger("__Update"):S(".loan_switch_"+t).prop("disabled",!0).trigger("__Update")}}).on("__GetLoanNow",function(t,e,n,o){var r,i=e.find(":submit"),a=i.data("msg-submit").split(",");GetLoanNow({loan_type:e._coin,amount:o},function(t){switch(t.code){case"loading":e.loan_switch.attr("data-loan-state",1),i.text(a[2]+a[3]),k({message:a[2]+a[3]});break;case"error":e.loan_switch.attr("data-loan-state",0);break;case"success":if(r=t.data,0===r.code){e.loan_switch.attr("data-loan-state",2),HRYB.AJAX.GetBalance.Fire(),C.trigger("__GetLoanInfo",[_coinType,"loan success"]),e.submit();break}k({message:r.msg,type:"error",long:5e3}),e.loan_switch.attr("data-loan-state",0),i.text(a[0])}})}).on("__GetLoanInfo",function(t,e,n){switch(e){case"cny_btc":j.Fire();break;case"cny_ltc":M.Fire();break;case"usd_btc":A.Fire()}}).on("__OrderType",function(t,n){var o=S(".panel").eq(n);e(o),o.find("form").each(function(){d(S(this))})})}()}),function(t){BitRange=function(e){function n(t,e){for(var n=t,o=0;o<e-1;o++)n+=t;return $(n)}function o(){S=n(S,k),T.paths.append(S)}function r(){var t=100/v,e=0;C=n(C,v+1),C.each(function(n,o){$(o).css("left",e+"%").attr("data-point-ratio",e),e+=t}),T.points.append(C)}function i(t,e){T.ratio=t.pageX?a(t.pageX):t,(T.is(":focus")||T.hasClass("click"))&&x.rangeMouseup&&T.trigger("__rangeSlide",[e])}function a(t){return s(c((t-g._left)/g._width*100))}function s(t){return t<=0?t=0:t>=100&&(t=100),t}function c(t){var e=(t-0)%_,n=t-e;return parseFloat(_?n.toFixed(5):t.toFixed(5))}function u(t){x._delayMet||(t&&t(),x._Delay=setTimeout(function(){x._delayMet=!1},w),x._delayMet=!0)}function l(){T.handle.css({left:T.ratio+"%"}),T.track.css({width:T.ratio+"%"}),T.attr("data-ratio",T.ratio),C.each(function(t,e){var n=$(e),o=$(e).data("point-ratio");T.ratio>=o?n.addClass("active"):n.removeClass("active")})}function d(t,e){void 0!==t&&(T.ratio=s(c(t))),e&&T.trigger("__rangeSlide"),l()}function p(){T.ratio=0,l()}var f,h,m=e||{},g=$(m.range),y=m.value||{min:0,max:100},_=1*m.step||0,v=1*m.point||0,b=m.slide,w=m.delay||10,x=$(this),k="object"==typeof y.max?y.max.length:1,T=$('<div class="range_wrap" data-ratio="0" tabindex="0"><div class="range_paths_wrap"></div><div class="range_track_wrap"><div class="range_track"></div><div class="range_handle"></div></div><div class="range_points_wrap"></div></div>'),S='<div class="range_path"></div>',C='<div class="range_point"></div>',R=$(document);T.trackWrap=T.find(".range_track_wrap"),T.track=T.find(".range_track"),T.handle=T.find(".range_handle"),T.paths=T.find(".range_paths_wrap"),T.points=T.find(".range_points_wrap"),T.ratio=0,
g.length<=0||(function(){g.append(T),g._width=g.width()||g.parent().width()||g.parent().parent().width(),g._left=g.offset().left,h=g._width-T.handle.width()/2,T.trackWrap.width(h),T.points.width(h),v&&r(),o()}(),R.mousemove(function(t){u(function(){x.rangeMouseup&&i(t)})}),T.mousedown(function(t){T.trigger("focus"),x.rangeMouseup=!0;var e=t.target.getAttribute("data-point-ratio"),n=t.target==T.handle[0];e?(x.pointDown=!0,n?i(1*e,0):i(1*e)):(x.pointDown=!1,n?i(t,0):i(t)),T.addClass("click"),void 0!==document.onselectstart&&(document.onselectstart=new Function("return false"))}),T.hover(function(){T.addClass("hover"),g._left=g.offset().left},function(){T.removeClass("hover")}),R.mouseup(function(){x.rangeMouseup=!1,T.removeClass("click"),void 0!==document.onselectstart&&(document.onselectstart=new Function("return true"))}),T.on("__rangeSlide",function(t){l(),f=T.ratio,t&&b&&b(f,g)}).on("focus",function(){T.addClass("focus")}).on("blur",function(){T.removeClass("focus")}).on("keydown",function(t){switch(t.which){case 37:t.shiftKey?T.ratio-=10:T.ratio--;break;case 39:t.shiftKey?T.ratio+=10:T.ratio++;break;default:return}i(s(T.ratio)),l(),f=T.ratio,b&&b(f,g)}),$(t).on("resize",function(){g._width=g.width(),g._left=g.offset().left,h=g._width-T.handle.width()/2,T.trackWrap.width(h),T.points.width(h)}),this.Range=T,this.Update=d,this.Reset=p)},"function"==typeof define?define("static/js/exchange/dist/script/module_range",[],function(){return BitRange}):"undefined"!=typeof exports?module.exports=BitRange:t.BitRange=BitRange}(window),function(){var t=function(t,e){function n(){o(),D?r():clearTimeout(S)}function o(t){var e=void 0===t?C:t;m.r=Math.random().toString(36).substr(2),e||$.ajax({url:h,type:_,data:m,dataType:v,jsonp:b,jsonpCallback:T,beforeSend:i,success:a,error:s,complete:c})}function r(){S=setTimeout(n,D)}function i(){e&&e({code:"loading",msg:"loading"})}function a(t){10002==t.flag&&(window.location=M),10003==t.flag&&R.Stop(),w?A--:A=x,A<=0&&D<=k-1e3&&(D+=1e3),e&&e({code:"success",msg:"success",data:t})}function s(){e&&e({code:"error",msg:L("网络异常")})}function c(t,n){e&&e({code:"complete",xhr:t,ts:n,msg:"complete"})}function u(){C=1}function l(){C=0,A=x,D=y}function d(){o(0),A=x,D=y}function p(t){var e=t||{};h=e.url?e.url:h,m=e.data||m,y=e.refresh?1*e.refresh:y,v=e.datatype?e.datatype:v,b=e.jsonp?e.jsonp:b,T=e.jsonpcallback?e.jsonpcallback:T,D=y}var f=t||{},h=f.url?f.url:"/account/ajax.do",m=f.data||{},g=void 0==f.init||f.init,y=f.refresh?1*f.refresh:0,_=f.type||"GET",v=f.datatype?f.datatype:"",b=f.jsonp?f.jsonp:"",w=void 0!=f.damp?f.damp:CONST.AJAX_DAMP,x=CONST.AJAX_DAMP_TIME?CONST.AJAX_DAMP_TIME:6,k=CONST.AJAX_DAMP_REFRESH?CONST.AJAX_DAMP_REFRESH:5e3,T=f.jsonpcallback?f.jsonpcallback:"",S=null,C=0,R=this,j=window.location,M="/account/account.do?a=validate_all&jump_url="+j.pathname+j.search,A=x,D=y;clearTimeout(S),g&&m&&n(),R.Stop=u,R.Play=l,R.Fire=d,R.Update=p};"function"==typeof define?define("static/js/exchange/dist/script/module_ajax",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.HbAjax=t}(),function(t){BitSwitch=function(t){function e(t,e){var n=e.parent(),i=(n.find("b"),n.find("i")),a=n.find("span"),s=e.data("text")&&e.data("text").split(","),c=e.prop("disabled")?1:0,u=1*n.width(),l=u-2*r-o;switch(t){case 0:n.removeClass("focus"),s&&a.text(s[1]);break;case 1:n.addClass("focus");break;case 2:i.animate({left:0,right:l},100,"swing"),n.addClass("switch_off").removeClass("switch_on "),s&&a.text(s[1]);break;case 3:i.animate({left:l,right:0},100,"swing"),n.addClass("switch_on").removeClass("switch_off "),s&&a.text(s[0]);break;case 4:n.addClass("disabled"),s&&a.text(s[1]);break;case 5:n.removeClass("focus")}c?n.addClass("disabled"):n.removeClass("disabled")}var n=t||{},o=n.width||13,r=n.gap||1,i=$(n.Switch),a=$('<label class="input_switch"></label>');(function(){i.length>0&&i.wrap(a).after("<b></b><i></i><span></span>")})(),i.each(function(){var t=$(this),n=t.prop("checked")?3:0;e(n,t),t.on("change",function(){n=t.prop("checked")?3:2,e(n,t)}).on("focus",function(){e(1,t)}).on("blur",function(){e(5,t)}).on("__Update",function(){n=t.prop("checked")?3:2,e(n,t)})})},"function"==typeof define?define("static/js/exchange/dist/script/module_switch",[],function(){return BitSwitch}):"undefined"!=typeof exports?module.exports=BitSwitch:t.BitSwitch=BitSwitch}(window),function(){var t={Cookie:function(t,e,n){return t=(COOKIE_PRE||"")+t,this._Cookie(t,e,n)},_Cookie:function(t,e,n){var o=t,r=e;if(void 0!==r){var i=new Date;return n&&Math.round(i.setDate(i.getDate()+n.expires)),document.cookie=[encodeURI(o),"=",encodeURIComponent(r),n&&n.expires?"; expires="+i.toUTCString():"",n&&n.path?"; path="+n.path:"",n&&n.domain?"; domain="+n.domain:"",n&&n.secure?"; secure":""].join("")}var a=document.cookie.match("(?:^|;)\\s*"+o+"=([^;]*)");return a?decodeURIComponent(a[1]):null},RemoveCookie:function(t){return void 0!==this.Cookie(t)&&(this.Cookie(t,"",{expires:-1}),!0)}};"function"==typeof define?define("static/js/exchange/dist/script/module_cookie",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.BitCookie=t}(),function(){function t(t,n){function o(t,e,n){var o=n||200;setTimeout(function(){t.removeClass(e)},o)}var r=this,i=t||{},a=i.message?i.message:"",s=i.type||"succeed",c=i.long,u=$('<div id="notice" class="notice"><a href="" class="close">×</a><div class="message">'+a+"</div></div>"),l=$("body"),d=u.find(".message"),p=u.find(".close");return r.Init=function(t){var e;return l.find("#notice").length>0?(u=l.find("#notice"),d=u.find(".message"),p=u.find(".close"),"close"!=t&&u.addClass("reappear"),e=!1):(l.append(u),e=!0),"error"==s?u.addClass("error").removeClass("succeed"):u.removeClass("error").addClass("succeed"),setTimeout(function(){u.removeClass("reappear")},1e3),e},r.Open=function(){var t=r.Init();r.CloseNow=0,t&&(u.removeClass("notice_close").addClass("notice_open"),o(u,"notice_open"))},r.Close=function(){r.Init("close"),r.CloseNow=1,u.addClass("notice_close").removeClass("notice_open"),e[1]=setTimeout(function(){u.remove()},300)},r.Write=function(t){d.html(t||a)},function(){r.Open(),r.Write(),clearTimeout(e[0]),clearTimeout(e[1]),e[0]=c&&setTimeout(function(){r.Close()},c),p.click(function(){return r.Close(),!1}),u.hover(function(){clearTimeout(e[0])},function(){l.find("#notice").length<=0||(e[0]=c&&setTimeout(function(){r.Close()},c))})}(),r}var e=[];"function"==typeof define?define("static/js/exchange/dist/script/page_l_notice",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.Notice=t}(),define("static/js/exchange/dist/script/page_l_order",["static/js/exchange/dist/script/module_order","jquery","static/js/exchange/dist/script/module_ajax","static/js/exchange/dist/script/module_tmpl","static/js/exchange/dist/script/module_md5","static/js/exchange/dist/script/page_l_notice"],function(t,e,n){var o=t("static/js/exchange/dist/script/module_order"),r=t("static/js/exchange/dist/script/page_l_notice"),i=SYMBOL,a=UID&&o.GetOrder({temp:"tmp_us_order",wrap:"view_us_order",coin_type:i,is_history:10,damp:!0},function(){s&&s.Fire()}),s=UID&&o.GetOrder({temp:"tmp_us_order_history",wrap:"view_us_order_history",coin_type:i,is_history:20,delay:0}),c={};c.view_us_order=$("#view_us_order"),c.cancel_order_all=$("#cancel_order_all"),c.view_us_order.on("click",".cancel",function(){var t=$(this),e=t.attr("data-ids"),n=t.parents(".tr");return!(1*t.attr("data-init")||(t.attr("data-init",1),o.CancelOrder({coin_type:i,id:e},function(e){"loading"==e.code?(n.addClass("cancel"),a.Stop()):"error"==e.code?(n.hasClass("cancel")&&n.removeClass("cancel"),t.attr("data-init",0),r({message:window.Texts&&Texts.NetworkError,type:"error",long:1800}),a.Play()):(0===e.code?(n.next(".hidden_info").remove(),n.slideUp(function(){n.remove(),a.Fire()}),HRYB.AJAX.GetBalance.Fire()):(t.attr("data-init",0),n.hasClass("cancel")&&n.removeClass("cancel"),r({message:e.msg,type:"error",long:1800})),a.Play())}),1))}),c.cancel_order_all.on("click",function(){var t=$(this),e=t.attr("data-ids")?t.attr("data-ids").split("|"):0;return t.prop("disabled",!0),e&&o.CancelAllOrder({coin_type:i,id:e},function(e){"loading"==e.code?(a.Stop(),c.view_us_order.find(".tr").addClass("cancel")):"error"==e.code?(c.view_us_order.find(".tr").removeClass("cancel"),t.prop("disabled",!1),r({message:window.Texts&&Texts.NetworkError,type:"error",long:1800})):0==e.code?(a.Fire(),a.Play(),t.prop("disabled",!1),HRYB.AJAX.GetBalance.Fire(),r({message:e.msg,long:1800})):(a.Play(),c.view_us_order.find(".tr").removeClass("cancel"),t.prop("disabled",!1),r({message:e.msg,type:"error",long:1800}))}),!1}),e.GetOrder=a,e.GetHistory=s}),define("static/js/exchange/dist/script/module_order",["jquery","static/js/exchange/dist/script/module_ajax","static/js/exchange/dist/script/module_tmpl","static/js/exchange/dist/script/module_md5"],function(require,exports,module){function GetOrder(options,change){var op=options||{},temp=op.temp,wrap=$("#"+op.wrap),coin_type=op.coin_type,is_history=op.is_history,damp=op.damp,delay=0==op.delay?0:3e3,init=0,hash=[0,0],oldId=[0,0],Fn,time=4;return Fn=new A({url:HRY.host+HRY.modules.exmain+"entrust/findByCustomerId.do",refresh:delay,damp:damp,data:{coin_type:coin_type,status:is_history,page:1,pageSize:5}},function(data){var _code=data.code;switch(_code){case"loading":""==wrap.html()&&wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder"><i class="icon_loading"></i></td></tr>');break;case"error":wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder">'+data.msg+"</td></tr>"),hash=[0,0];break;case"success":if("success"===data.code&&-1==data.data.indexOf("script")){var delegation=eval("("+data.data+")"),_h=D.md5(JSON.stringify(delegation));if(20==is_history){if(_h!==hash[1]){for(var _i=0;_i<delegation.length;_i++){var _t=delegation[_i];_t.id>oldId[1]&&init?_t.new_order=1:_t.new_order=0}wrap.html(M(temp,delegation)),hash[1]=_h,init||(oldId[1]=delegation.length>0?1*delegation[0].id:0),init=1}}else time--,0==data.data.total?time<=0&&(Fn.Stop(),console.log("Order Stop"),time=4):time=4,_h!==hash[0]&&(wrap.html(M(temp,delegation)),hash[0]=_h,change&&change())}else data.code&&wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder"><i class="icon_info"></i> code:'+data.code+", "+(data.msg?data.msg:"")+"</td></tr>"),hash=[0,0]}})}function GetDetails(t){var e=t||{},n=e.temp,o=$(e.wrap),r=e.coin_type,i=e.id,a=e.type;n&&o&&A({url:"/trade/entrust_detail",data:{coin_type:r,order_id:i,delegation_type:a}},function(t){switch(t.code){case"loading":o.html('<div class="align_center p_t_30 no_barder"><i class="icon_loading"></i>'+t.msg+"</div>");break;case"error":o.html('<div class="align_center p_t_30 no_barder">'+t.msg+"</div>");break;case"success":0===t.data.code?o.html(M(n,t.data)):t.code&&o.html('<tr><td colspan="100" class="align_center p_t_30 no_barder">code:'+t.data.code+","+t.data.msg?t.data.msg:"</td></tr>")}})}function CancelOrder(t,e){var n=t||{},o=(n.coin_type,"object"==typeof n.id?n.id.join(","):n.id);ids=o,A({url:HRY.host+HRY.modules.exmain+"entrust/cancelExEntrust.do",data:{coinCode:CURRENT_SYMBOL,entrustNums:ids},type:"POST"},function(t){switch(t.code){case"loading":case"error":e&&e(t);break;case"success":e&&e(JSON.parse(t.data))}})}function CancelAllOrder(t,e){var n=t||{},o=(n.coin_type,"object"==typeof n.id?n.id.join(","):n.id);ids=o,A({url:HRY.host+HRY.modules.exmain+"entrust/cancelallcoinCodeExEntrust.do",data:{coinCode:CURRENT_SYMBOL,entrustNums:ids},type:"POST"},function(t){switch(t.code){case"loading":case"error":e&&e(t);break;case"success":e&&e(JSON.parse(t.data))}})}var $=require("jquery"),A=require("static/js/exchange/dist/script/module_ajax"),M=require("static/js/exchange/dist/script/module_tmpl"),D=require("static/js/exchange/dist/script/module_md5");exports.GetOrder=GetOrder,exports.GetDetails=GetDetails,exports.CancelOrder=CancelOrder,exports.CancelAllOrder=CancelAllOrder}),function(){window.HRYB||(window.HRYB={});var t=function(t){var e=t||{},n=e.name,o=e.value;HRYB[n]?$.extend(HRYB[n],o):(HRYB[n]={},$.extend(HRYB[n],o))};"function"==typeof define?define("static/js/exchange/dist/script/module_hb_extend",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.HurongbiExtend=t}(),define("static/js/exchange/dist/script/page_l_chart",["static/js/exchange/dist/script/module_socket_io","static/js/exchange/dist/script/module_connect","static/js/exchange/dist/script/module_socket_api"],function(t,e,n){function o(){var t=[].slice.apply(arguments);if(!(t.length<2))return t.shift().apply(t.shift(),t)}function r(t){function e(t){var e=x.n[x.o.f];d=y(x.b.a),u=x.d[x.o.k],u=v[x.e[u].socket],p=S.reqKLine(e,u),f=S.lastKLine(e,u),w[0]===t&&d.msg(S.lastKLine(x.n[g],h).unmsg),g=x.o.f,!t&&d.reg(f.msgType,n),d.reg(p.msgType,n),d.msg(p.msg),d.msg(f.msg),h=u}function n(t){var e=v.msgType;!l&&(l=o()),t&&l[t[e]]&&l[t[e]](t)}function o(){function t(t){for(var e=[],n=t[v.payload],o=0,r=n[v.priceLast].length;r>o;o++)e.push([n[v.time][o],n[v.priceOpen][o],n[v.priceHigh][o],n[v.priceLow][o],n[v.priceLast][o],n[v.amount][o]]);a(e,t)}function e(t){var e=t[v.payload];a([[e[v.time],e[v.priceOpen],e[v.priceHigh],e[v.priceLow],e[v.priceLast],e[v.amount]]],t)}return{reqKLine:t,lastKLine:e}}function r(t,n){return!m&&(x.o.k=t,m=1,k=1,T.a2=!1,x.o.d=0,b=n,e(w[1]),!0)}function i(t,n){return!m&&(g=x.o.f,x.o.f=t,m=1,k=1,T.a2=!1,x.o.d=0,b=n,e(w[1]),!0)}function a(t,e){var n=window.localStorage.getItem(w[2]),o=v.msgType;if(n&&n==x.o.a||window.localStorage.setItem(w[3],x.o.a),w[4]!=typeof t){if(e&&w[5]==e[o]){if(!s(t,e))return}else c(t);T&&!T.a2&&T.v8()}}function s(t,e){var n,o,r=window.localStorage.getItem(x.n[x.o.f]+x.o.k),i=t[0][0];if(!k&&(u=x.d[x.o.k],e[v.payload][v.period]==x.o.k)){if(!r||!r.length)return!1;if(r=JSON.parse(r),n={first:r[0],last:r[r.length-1]},i!=n.last[0]){if(1!=((i-n.last[0])/u).toFixed())return!1;r.push(t[0]),r.length>500&&r.splice(0,r.length-500),o=JSON.stringify(r)}else r[r.length-1]=t[0],r.length>500&&r.splice(0,r.length-500),o=JSON.stringify(r);return window.localStorage.setItem(x.n[x.o.f]+x.o.k,o),!0}}function c(t){var e,n,o,r,i=window.localStorage.getItem(x.n[x.o.f]+x.o.k);if(u=x.d[x.o.k],e={first:t[0],last:t[t.length-1]},b&&b(),t.length<1||t.length>1&&!((t[1][0]-t[0][0])/u).toFixed())return m=!1;if(k=!1,i)if(i=JSON.parse(i),n={first:i[0],last:i[i.length-1]},e.last[0]!=n.last[0])if(e.first[0]>n.last[0])r=JSON.stringify(t);else{if(!(e.last[0]>n.last[0]))return m=!1;o=((n.last[0]-e.first[0])/u).toFixed(),t.splice(0,o),t.length&&(i[i.length-1]=t.shift(),i=t?i.concat(t):i),i.length>500&&i.splice(0,i.length-500),r=JSON.stringify(i)}else t[t.length-1]&&(i[i.length-1]=t[t.length-1]),i.length>500&&i.splice(0,i.length-500),r=JSON.stringify(i);else r=JSON.stringify(t);return window.localStorage.setItem(x.n[x.o.f]+x.o.k,r),m=!1}var u,l,d,p,f,h,m,b,k=!1,T=t,S=_(),u=x.d[x.o.k];return e(),{changePeriod:r,changeSymbolId:i}}function i(){var t=this;t.position=function(e){var n,o=t,r=0,i=0;if(t.nodeName){for(;o&&(r+=o.offsetLeft,i+=o.offsetTop,n=o.offsetParent?o.offsetParent:o,o=o.offsetParent,!(e&e===o)););return{x:r,y:i,element:o,forefather:e||n}}},t.size=function(){return{w:t.offsetWidth,h:t.offsetHeight}}}function a(t){function e(e){var n=b.mouse(e);if(!h&&v&&v.d5&&v.d5.length){h=1,setTimeout(function(){h=0},50);var o=Math.floor((n.x-v.pst.x)/_[0]),r=v.d5[o];r=r||v.d5[v.d5.length-1],v.v4==S[0]&&(v.v7.id(r.e0,n.y),v.v7.iw(r.i,r.e0,n.y),t.e1=!1,t.v9(r.i),t.e1=!0)}}function n(){clearTimeout(m),m=null,_=x.a[x.o.j]||x.a[7]}function o(t){var e=t.touch?t:b.mouse(t);r((b.target(t),e.x-v.move.x),e.x)}function r(e,n){if(!(x.o.v||x.o.e<1||x.o.age>(x.o.z||Number.MAX_VALUE))&&0!=~~(e/_[0])){if(x.o.d+=~~(e/_[0]),x.o.d<0)return x.o.d=0,y||(t.v8(),t.a2=!1),void(y=!0);t.a2=!0,y=!1,t.v8(),n&&(v.move.x=n)}}function i(t){e(t),g&&o(t)}function a(t,e,n,o){return Math.pow(Math.abs(t-n),2)+Math.pow(Math.abs(e-o),2)}function s(t){var e=a(t[0].clientX,t[0].clientY,t[1].clientX,t[1].clientY);null===k&&(k=a(t[0].clientX,t[0].clientY,t[1].clientX,t[1].clientY)),Math.abs((T-e)/k)<.15||(v.changeSize(-1*(e/k>1?-1:1)),_=x.a[x.o.j]||x.a[7],T=e)}function c(t){if(!h){b.stop(t),h=1;var e=t.touches||t.changedTouches;2==e.length?s(e):1==e.length&&g&&o({touch:!0,x:e[0].clientX,y:e[0].clientY}),setTimeout(function(){h=0},20)}}function u(){v.v7.ae(),clearTimeout(m),m=null,m=setTimeout(t.v9,30),g=!1,t.e1=!1}function l(t){var e=t.touches||t.changedTouches||null;return e&&e.length>1?(g=!1,void(k=null)):(v.move=e?{x:e[0].clientX,y:e[0].clientY}:b.mouse(t),_=x.a[x.o.j]||x.a[7],void(g=!0))}function d(){g=!1}function p(){g=!1}function f(t){b.stop(t),v.changeSize(-1*b.delta(t)),_=x.a[x.o.j]||x.a[7]}var h,m,g,y,_=x.a[x.o.j],v=this,k=null,T=null,S=[w[6],w[7],w[8],w[9],w[10],w[11],w[12],w[13],w[14],w[15],w[16],w[17],w[18],w[19]];return v.cc?v:(v.cc=!0,v.winresize=function(){var t=v.size(),e=v.position(),n=v.sz;(n.w!=t.w||n.h!=t.h)&&(t.fs=1,e.fs=1,v.v8(t,e))},b.add(v,S[2],f),b.add(v,S[3],f),b.add(window,S[4],v.winresize),b.add(v,S[5],l),b.add(v,S[6],n),b.add(v,S[7],i),b.add(v,S[8],d),b.add(v,S[9],u),b.add(v,S[10],l),b.add(v,S[11],c),void b.add(v,S[12],p))}function s(t,e){function n(){var t=i.m3-i.m1;return t?i.cc.h*x.o.n/t:0}function o(t){return 1*((i.m3-t)*i.kr).toFixed()+1*i.e6+.5}function r(e){var n=o(e,i.m3),r={};n>i.cc.h-18||0>n||(i.a(),r.x=i.cc.w-i.cc.rw+5,r.y=~~n,i[i.j1]=w[20],i.b(r.x,r.y),i.c(r.x+5,r.y+8),i.c(r.x+t.ms.rw-5,r.y+8),i.c(r.x+t.ms.rw-5,r.y-8),i.c(r.x+5,r.y-8),i.c(r.x,r.y),i[i.l]=x.f[x.o.g].ir,i.e(),i[i.l]=x.f[x.o.g].sj,i.f(e,r.x+5,r.y))}var i=this,e=e[1],a={t:null,ts:1,nl:1,n:null};return i.sa?i:(i.sa=!0,i.d6=function(t,e,s,c,u){var l,d,p,f,h,m,g={e9:t[0],e8:t[1],n:t[2],t:t[3],ts:t[4],ta:t[5],e7:e},y=1*g.ts>1*g.e8,_=y?x.f[x.o.g].p0:x.f[x.o.g].p5,v=x.a[x.o.j]||x.a[7],b=v[0]/2!=(v[0]/2).toFixed();return i.e6=~~(i.cc.h*(.5-x.o.n/2)),i.kr||(i.kr=n(),r(x.o.d?u.pop()[4]:g.ts)),i[i.m]=_,i[i.l]=_,i.a(),d=v[0]*e+v[0]/2+(b?0:.5),d>i.cc.w-v[0]&&x.o.d?null:(h=o(g.n,i.m3),m=o(g.t,i.m3),v[1]>2?(l=d-v[1]/2+.5,y?(p=o(g.ts,i.m3),f=o(g.e8,i.m3)-p):(p=o(g.e8,i.m3),f=o(g.ts,i.m3)-p),!x.o.u&&i.s0(l,p,v[1],f,y),i.b(d,h),i.c(d,p),i.b(d,p+f),i.c(d,m)):(i.b(d,h),i.c(d,m==h?h+.5:m)),x.o.u||(i.d(),(i.m3==g.n||i.m1==g.t)&&(i[i.m]=x.f[x.o.g].p3,i[i.l]=x.f[x.o.g].p3,i.a(),i[i.k]=w[21]),x.o.x&&i.m3==g.n&&!a.n&&(i.b(d+18,h-13*a.nl),i.c(d,h-13*a.nl),i.c(d,h),i.c(d+3,h-5),i.b(d,h),i.c(d-3,h-5),i.f(g.n,d+20,h-13*a.nl),i.d(),a.n=1),x.o.y&&i.m1==g.t&&!a.t&&(i.b(d+10,m+13*a.ts),i.c(d,m+13*a.ts),i.c(d,m),i.c(d+3,m+5),i.b(d,m),i.c(d-3,m+5),i.f(g.t,d+10,m+13*a.ts),i.d(),a.t=1)),{i:e+x.o.c,str:s,e0:d,e11:_,d6X:l,e10:v,e12:y})},i.s0=function(t,e,n,o,r){var a=r?x.f[x.o.g].p9:x.f[x.o.g].p8;w[22]==a&&i.g(t,e,n,o),o?i.i(t,e,n,o):(i.b(t,e),i.c(t+n,e))},void(i.f0=function(t){i.j(0,0,t.w,t.h),e.j(0,0,t.w,t.h),i.kr=!1,a={t:null,ts:1,nl:1,n:null}}))}function c(t,e){function n(t,e){return w[23]==typeof t?Math.max(t[0]?t[0]<1?t[0]*e:t[0]:0,t[1]?t[1]<1?t[1]*e:t[1]:0):t}function o(t,e,n,o,r,i,a,c){var u=a-t*n,e=e*i/2,l=o+t*n*i;l=1*l.toFixed(),x.o.s&&2!==c&&(s[s.m]=x.o.sc,s.a(),s.n(.5,l+.5),s.p(r+.5,l+.5),s.d()),s[s.l]=x.f[x.o.g].p3,s[s.m]=x.f[x.o.g].p7,s.a(),s.b(r+.5,l+.5),s.c(r+5.5,l+.5),t&&1===!c&&(s.b(r+.5,l-e+.5),s.c(r+5.5,l-e+.5)),s[s.k]=w[24],u=u.toFixed(2),u>1e8?u=(u/1e4*1e4).toFixed()+x.STR[17]:u>1e4&&(u=(u/1e4).toFixed()+x.STR[18]),2===c?l-=5:(s.f(u,r+8.5,l),s.d())}function r(t,e,n,r,i,a,s){for(var c=e+1,u=t/e;c--;)o(c/e,u,t,n,r,i,a,s),2===s&&(s=null)}function i(e,n){var o,r,i,a=e.e0,c=s.cc.vi+s.cc.vh+.5,u=n*x.d[x.o.k],l=e.data[e.i][0];s[s.l]=x.f[x.o.g].p3,s[s.m]=x.f[x.o.g].p7,s.a(),s.b(a,c),s.c(a,c+5),s[s.k]=w[27],18e3>=u?(o=t.b3(l,w[28]),r=32):604800>=u?(o=t.b3(l,x.q[0]),r=52):(o=t.b3(l,x.q[1]),r=64),i=a-r/2,i=0>i?0:i,s.f(o,i,c+15),s.d()}function a(t,e){var n=x.o.A?1-x.o.A:.5,o=t,r=e,i=(x.o.B,x.f[x.o.g].sj,x.f[x.o.g].p2,Math.min(o,r)*(1-n)/2),a=((.5*i).toFixed(),(1.09091*i).toFixed(),(.09*i).toFixed(),(.176364*i).toFixed(),1*(.46*i).toFixed()),s=1*(.454546*i).toFixed(),c={x:o/2,y:r/2,left:o/2-i,top:r/2-i};(a+c.left).toFixed(),(s+c.top).toFixed()}var s=this;return s.bd?s:(s.bd=!0,s.x=function(){var t=s.m3-s.m1,e=s.cc.vol*x.o.n;r(t,~~(e/x.o.o),(s.cc.vol-e)/2,s.cc.w,s.kr,s.m3)},s.v=function(){var t=s.u3,e=s.cc.vh*x.o.n;r(t,~~(e/x.o.o),s.cc.vol+s.cc.vh-e,s.cc.w,s.u2,s.u3,2)},s.u=function(){var t,e=s[x.o.m];e&&(s.cc.w,e.offsetTop,e.m3-e.m1,t=s.cc.vh*x.o.n,x.o.o)},s.d3=function(t){var e=t.e10[0],n=Math.ceil(x.o.r/e);step=(t.str-t.i-1)%n,step||i(t,n)},void(s.d8=function(o,r){var i=(o.w,x.o.q),c=x.o.h,u=x.o.i;c=~~n(c,o.w),u=~~n(u,o.h),s.cc={size:o,rw:c,vh:u,ad:i,vol:o.h-2*u-i,vi:o.h-u-i,w:o.w-c,h:o.h-2*u-i},t.ms=s.cc,r&&(t.v5.t.width=o.w,t.v5.t.height=o.h,t.v6.t.width=o.w,t.v6.t.height=s.cc.h,t.v7.t.width=o.w,t.v7.t.height=o.h,e[0].width=o.w,e[0].height=s.cc.h-1,e[0].style.top=w[37],t.z[0].style.top=o.h-2*u-i<30?w[38]:w[39],t.z[1].style.top=o.h-2*u-i+1+w[40],t.z[2].style.top=o.h-u-i+1+w[41]),a(o.w-c,o.h-i),s[s.m]=x.f[x.o.g].p7,s.a(),x.o.t&&(s.b(.5,.5),s.c(o.w,.5),s.b(o.w-.5,0),s.c(o.w-.5,o.h-i+.5),s.b(.5,0),s.c(.5,o.h-i+.5)),s.b(o.w-c+.5,0),s.c(o.w-c+.5,o.h-i),s.b(0,o.h-2*u-i+.5),s.c(o.w,o.h-2*u-i+.5),s.b(0,o.h-u-i+.5),s.c(o.w,o.h-u-i+.5),s.b(0,o.h-i+.5),s.c(o.w,o.h-i+.5),s.d(),s[s.j1]=w[42],s[s.k]=w[43],s[s.l]=x.f[x.o.g].p3,s[s.j2]=w[44],s.f(x.o.b,o.w-7,o.h-7),s[s.j2]=w[45]}))}function u(t,e){var n=this,o=[],e=e[1];if(n.v1=[],n.dv)return n;n.dv=!0,o[5]=0,o[10]=1,o[30]=2,o[60]=3,o[120]=4,o[250]=5;var r=function(){function t(t,r,i,a,s){for(var c,u=0,l=s||0===s?s:o[t]?o[t]:0,d=0;t>d;d++)u+=1*r[a-d][4];return c=u,u=n.kr*(n.m3-u/t)+1*n.e6,n.c1.a[t]&&(e.a(),e[e.m]=x.f[x.o.g].sj2[l],e.b(n.c1.a[t][0],n.c1.a[t][1]),e.c(i,u),e.d()),n.c1.a[t]=[i,u],c}function r(t,e,n,o){for(var r=0,i=0;t>i;i++)r+=Math.pow(1*n[o-i][4]-e,2);return Math.sqrt(r/t)}function i(e,r,i){var s,c=x.m||[5,10,30,60,120,250],u=0,l=c.length;if(x.o.u)return a(e,r,i);for(;l>u;u++)e>c[u]-2&&(s=t(c[u],r,i,e)),n.v1[e]||(n.v1[e]=[]),n.v1[e].push([w[46]+c[u],s||0===s?(s/c[u]).toFixed(2):w[47],o[c[u]]]),s=null}function a(e,r,i){var a,c=x.o.p||60;s(w[48],r[e][4],i,0),n.v1[e]=[],e+1>=x.o.p&&(a=t(x.o.p,r,i,e,1)),n.v1[e].push([w[49]+c,a||0===a?(a/c).toFixed(2):w[50],o[10]]),a=null}function s(t,o,r,i){var a=n.kr*(n.m3-o)+1*n.e6;n.c1.a[t]&&(e.a(),e[e.m]=x.f[x.o.g].sj2[i],e.b(n.c1.a[t][0],n.c1.a[t][1]),e.c(r,a),e.d()),n.c1.a[t]=[r,a]}function c(e,o,i){var c,u,l,d=x.g||20;return x.o.u?a(e,o,i):(e+1>=d&&(c=t(d,o,i,e,0),u=c/d,l=r(d,u,o,e),s(w[51],u+2*l,i,1),s(w[52],u-2*l,i,2)),void(n.v1[e]=[[w[53],c||0===c?u.toFixed(2):w[54],0],[w[55],!c&&0!==c||!l&&0!==l?w[56]:(u+2*l).toFixed(2),1],[w[57],!c&&0!==c||!l&&0!==l?w[58]:(u-2*l).toFixed(2),2]]))}return{MA:i,BOLL:c}}();n.d1=function(t){r[x.o.l]&&r[x.o.l](t.i,t.data,t.e0)},n.f2=function(){n.c1.a=[],n.v1=[]}}function l(t){function e(e){var n,o=t.v5.as;return e<t.ms.h?n=(o.m3-(e-o.e6-.5)/o.kr).toFixed(2):e<t.ms.vi?(n=((o.cc.vi-e)/o.u2).toFixed(2),n>1e8?n=(n/1e4*1e4).toFixed()+w[59]:n>1e4&&(n=(n/1e4).toFixed()+w[60])):n=(o.u1-(e-o.cc.vi-o.cc.vh*(1-x.o.n)/2-.5)/o.g1).toFixed(2),n}var n=this;return n.ks?n:(n.ks=!0,n.a1=function(t){n.j(0,0,t.w,t.h)},n.ir=function(e,o,r,i){n[n.m]=x.f[x.o.g].ir,n.a1(r),n.a(),n.b(e,0),n.c(e,r.h-x.o.q),~~o-.5-i.y<r.h-x.o.q&&(n.b(0,~~o-.5-i.y),n.c(r.w-t.ms.rw,~~o-.5-i.y)),n.d()},void(n.iw=function(o,r,i,a,s){var c={};x.d[x.o.k]<86400?(c.e9=t.b3(o[0],w[61]),c.w=130):(c.e9=t.b3(o[0],w[62]),c.w=76),~~i-.5-s.y<a.h-x.o.q&&(n.a(),c.x=a.w-t.ms.rw,c.y=~~i-.5-s.y,n[n.j1]=w[63],n.b(c.x,c.y),n.c(c.x+5,c.y+8),n.c(c.x+t.ms.rw,c.y+8),n.c(c.x+t.ms.rw,c.y-8),n.c(c.x+5,c.y-8),n.c(c.x,c.y),n[n.l]=x.f[x.o.g].ir,n.e(),n[n.l]=x.f[x.o.g].sj,c.val=e(c.y),n.f(c.val,c.x+10,c.y)),n.a(),n[n.m]=x.f[x.o.g].ir,n[n.l]=x.f[x.o.g].sj,c.x=r-c.w/2,c.x=c.x<1?1:c.x,c.y=a.h-t.ms.ad+.5,n[n.j1]=w[64],n.b(c.x,c.y),n.c(c.x+c.w,c.y),n.c(c.x+c.w,c.y+x.o.q-1.5),n.c(c.x,c.y+x.o.q-1.5),n.c(c.x,c.y),n.d(),n.e(),n[n.l]=x.f[x.o.g].ir,n.f(c.e9,c.x+8,c.y+x.o.q/2)}))}function d(t){var e=this;return e.sl?e:(e.sl=!0,e.d7=function(n,o,r){e.a(),e[e.l]=x.f[x.o.g].ir,e.h(o,r-t.pst.y,2,0,2*Math.PI,!0),e.e()},void(e.da=function(n,o,r){e.a(),e[e.l]=x.f[x.o.g].ir,e.h(o,r-t.pst.y,2,0,2*Math.PI,!0),e.e()}))}function p(){function t(t,e,n){for(var o=(e+1)*e/2,r=0,i=0;e--;i++)r+=t(n-i)*(e+1)/o;return r}function e(e,n){function o(t){return r[t]?r[t][4]:NaN}var r=n,i=e;return e<x.k[1]-1?NaN:function(e){return t(o,x.k[0],e)-t(o,x.k[1],e)}(i)}function n(n,o){function r(t){return e(t,o)}var i=n;return function(e){return t(r,x.k[2],e)}(i)}function o(){return v.g1=!0,v.u1=C,v.cc.vh*x.o.n/(C-R)}function r(t,e,n){t<v.cc.vi||(v[v.m]=x.o.sc,v.a(),n?(v.b(0,t),v.c(v.cc.w+5.5,t)):(v.n(0,t),v.p(v.cc.w+5.5,t)),v[v.l]=x.f[x.o.g].p3,v[v.k]=w[65],v.f(e,v.cc.w+8.5,t),v.d())}function i(t){var e,n=k[t.i-x.o.c].macd;v.g1||(v.g1=o(),b=v.cc.vh*(.5-x.o.n/2)+v.cc.vi,v.cd=.5+~~(v.g1*C+b),r(v.cd,0,1),v.MACD={m3:C,m1:R,rule:v.g1,offsetTop:b,cd:v.cd}),v[v.m]=0>n?x.f[x.o.g].p5:x.f[x.o.g].p0,v.a(),v.b(t.e0,v.cd),e=v.g1*n,v.c(t.e0,v.cd-e),v.d(),u(t,w[66],k[t.i-x.o.c].dif,x.f[x.o.g].sj2[0]),u(t,w[67],k[t.i-x.o.c].dea,x.f[x.o.g].sj2[1])}function a(t){v.g1||(v.g1=o(),b=v.cc.vh+v.cc.vi-v.cc.vh*(.5-x.o.n/2),r(b-v.g1*(100-R),100),r(b-v.g1*(50-R),50),r(b-v.g1*(0-R),0),v.KDJ={m3:C,m1:R,rule:v.g1,offsetTop:v.cc.vh*(.5-x.o.n/2)+v.cc.vi}),u(t,w[68],k[t.i-x.o.c].K,x.f[x.o.g].sj2[0]),u(t,w[69],k[t.i-x.o.c].D,x.f[x.o.g].sj2[1]),u(t,w[70],k[t.i-x.o.c].J,x.f[x.o.g].sj2[2])}function s(t){v.g1||(v.g1=o(),b=v.cc.vh+v.cc.vi-v.cc.vh*(.5-x.o.n/2),r(b-v.g1*(80-R),80),r(b-v.g1*(50-R),50),r(b-v.g1*(20-R),20),v.RSI={m3:C,m1:R,rule:v.g1,offsetTop:v.cc.vh*(.5-x.o.n/2)+v.cc.vi}),u(t,w[71],k[t.i-x.o.c].RSI1,x.f[x.o.g].sj2[0]),u(t,w[72],k[t.i-x.o.c].RSI2,x.f[x.o.g].sj2[1]),u(t,w[73],k[t.i-x.o.c].RSI3,x.f[x.o.g].sj2[2])}function c(t){v.g1||(v.g1=o(),b=v.cc.vh+v.cc.vi-v.cc.vh*(.5-x.o.n/2),r(b-v.g1*(80-R),80),r(b-v.g1*(50-R),50),r(b-v.g1*(20-R),20),v.WR={m3:C,m1:R,rule:v.g1,offsetTop:v.cc.vh*(.5-x.o.n/2)+v.cc.vi}),u(t,w[74],k[t.i-x.o.c].WR1,x.f[x.o.g].sj2[0]),u(t,w[75],k[t.i-x.o.c].WR2,x.f[x.o.g].sj2[1])}function u(t,e,n,o){if(n||0===n){var r=null===v.cd?b-v.g1*(n-R):v.cd-v.g1*n;v.c1.a7[e]&&(v[v.m]=o,v.a(),v.b(v.c1.a7[e][0],v.c1.a7[e][1]),v.c(t.e0,r),v.d()),v.c1.a7[e]=[t.e0,r]}}function l(t,e){return 1>t?NaN:e[t-1][4]}function d(t,e,n,o){var r=0;if(o-1>e)return NaN;for(var i=0;o>i;i++)r+=t(e-i,n);return r/o}function p(t,e){return Math.max(e[t][4]-l(t,e),0)}function f(t,e){return Math.abs(e[t][4]-l(t,e))}function h(t,e){return(e[t][4]-y(t,e,x.l.N))/(g(t,e,x.l.N)-y(t,e,x.l.N))*100}function m(t,e){return d(h,t,e,x.l.M1)}function g(t,e,n){var o=Number.MIN_VALUE;if(n-1>t)return NaN;for(var r=0;n>r;r++)o=Math.max(e[t-r][2],o);return o}function y(t,e,n){var o=Number.MAX_VALUE;if(n-1>t)return NaN;for(var r=0;n>r;r++)o=Math.min(e[t-r][3],o);return o}function _(){function t(t,o,r){var i=e(t,r),a=n(t,r),s=2*i-2*a;k.unshift({e7:t,macd:s,dif:i,dea:a}),i&&(C=Math.max(C,i),R=Math.min(R,i)),a&&(C=Math.max(C,a),C=Math.max(C,s),R=Math.min(R,a),R=Math.min(R,s)),v.v3[t]=[[w[76],i||0===i?i.toFixed(2):w[77],0],[w[78],a||0===a?a.toFixed(2):w[79],1],[w[80],s||0===s?s.toFixed(2):w[81],2]]}function o(t,e,n){var o,r,i;t+1<x.l.N&&t+1<x.l.M1&&t+1<x.l.M2?k.unshift({e7:t,K:null,D:null,J:null}):(o=m(t,n),r=d(m,t,n,x.l.M2),i=3*o-2*r,k.unshift({e7:t,K:o,D:r,J:i}),(o||0===o)&&(C=Math.max(C,o),R=Math.min(R,o)),(r||0===r)&&(C=Math.max(C,r),R=Math.min(R,r)),(i||0===i)&&(C=Math.max(C,i),R=Math.min(R,i))),v.v3[t]=[[w[82],o||0===o?o.toFixed(2):w[83],0],[w[84],r||0===r?r.toFixed(2):w[85],1],[w[86],i||0===i?i.toFixed(2):w[87],2]]}function r(t,e,n){var o,r,i;t<x.j.N1&&t<x.j.N2&&t<x.j.N3?k.unshift({e7:t,RSI1:null,RSI2:null,RSI3:null}):(o=d(p,t,n,x.j.N1)/d(f,t,n,x.j.N1)*100,r=d(p,t,n,x.j.N2)/d(f,t,n,x.j.N2)*100,i=d(p,t,n,x.j.N3)/d(f,t,n,x.j.N3)*100,k.unshift({e7:t,RSI1:o,RSI2:r,RSI3:i}),(o||0===o)&&(C=Math.max(C,o),R=Math.min(R,o)),(r||0===r)&&(C=Math.max(C,r),R=Math.min(R,r)),(i||0===i)&&(C=Math.max(C,i),R=Math.min(R,i))),v.v3[t]=[[w[88],o||0===o?o.toFixed(2):w[89],0],[w[90],r||0===r?r.toFixed(2):w[91],1],[w[92],i||0===i?i.toFixed(2):w[93],2]]}function i(t,e,n){var o,r,i,a;t+1<x.i.N&&t+1<x.i.N1?k.unshift({e7:t,WR1:null,WR2:null}):(i=g(t,n,x.i.N),a=g(t,n,x.i.N1),o=100*(i-n[t][4])/(i-y(t,n,x.i.N)),r=100*(a-n[t][4])/(a-y(t,n,x.i.N1)),k.unshift({e7:t,WR1:o,WR2:r}),(o||0===o)&&(C=Math.max(C,o),R=Math.min(R,o)),(r||0===r)&&(C=Math.max(C,r),R=Math.min(R,r))),v.v3[t]=[[w[94],o||0===o?o.toFixed(2):w[95],0],[w[96],r||0===r?r.toFixed(2):w[97],1]]}return{MACD:t,KDJ:o,RSI:r,WR:i}}var v=this,b=0,k=[],T={},S=null,C=Number.MIN_VALUE,R=Number.MAX_VALUE;return v.ac?v:(v.ac=!0,v.g1=!1,v.cd=null,v.v3=[],v.f1=function(){k.length=0,v.c1.a7=[],C=Number.MIN_VALUE,R=Number.MAX_VALUE,v.g1=!1,v.MACD=null,v.KDJ=null,v.RSI=null,v.WR=null,v.cd=null,v.v3=[]},T.fn={MACD:i,KDJ:a,RSI:s,WR:c},v.d2=function(t){T.fn[x.o.m]&&T.fn[x.o.m](t)},void(v.d7=function(t,e,n){!S&&(S=_()),S[x.o.m]&&S[x.o.m](t,e,n)}))}function f(){function t(){return o.u2=!0,o.cc.vh*x.o.n/o.u3}function e(t,e,n,i){var e=0;for(var a in x.h)x.h.hasOwnProperty(a)&&(e++,t>x.h[a]-2&&function(a){var s,c,u=0;r++,c=r++%e;for(var l=0;a>l;l++)u+=1*n[t-l][5];s=u/a,u=1*o.cc.vi-o.u2*u/a,o.c1.a2[a]&&(o[o.m]=x.f[x.o.g].sj2[c],o.a(),o.b(o.c1.a2[a][0],o.c1.a2[a][1]),o.c(i,u),o.d()),o.v2[t].push([w[98]+a,s||0===s?s.toFixed(2):w[99],c]),o.c1.a2[a]=[i,u]}(x.h[a]))}var n=x,o=this,r=0;return o.v2=[],o.u2=!1,o.cd?o:(o.cd=!0,o.d4=function(r){var i,a,s=r.data[r.i][5],c=o.cc.vol+o.cc.vh;o[o.m]=r.e11,o[o.l]=r.e11,o.a(),o.u2||(o.u2=t()),i=(o.u2*s).toFixed(),a=0>=i?c-0+.5:c-i-0+.5,r.e10[1]>1?o.s0(r.d6X,a,r.e10[1],i,r.e12,r.i):(o.b(r.e0,a),o.c(r.e0,0==i?1*a+.5:1*a+1*i),o.d()),o.v2[r.i]||(o.v2[r.i]={}),o.v2[r.i]=[[n.STR[16],1*s.toFixed(4),-1]],o.d(),e(r.i,r.str,r.data,r.e0)},void(o.f3=function(){o.c1.a2=[],o.v2=[],o.u2=!1}))}function h(){var t=this;t.o||(t.n=function(e,n){t.b(e,n),t.o.x=e,t.o.y=n}),t.o={},t.p=function(e,n,o){for(var r,i,o=void 0===o?3:o,a=t.o.x,s=t.o.y,c=e-a,u=n-s,l=Math.floor(Math.sqrt(c*c+u*u)/o),d=0;l>d;++d)r=a+c/l*d,i=s+u/l*d,0==d%2?t.n(r,i):t.c(r,i);t.n(e,n)},t.a=t.beginPath,t.b=t.moveTo,t.c=t.lineTo,t.d=t.stroke,t.e=t.fill,t.f=t.fillText,t.g=t.fillRect,t.h=t.arc,t.i=t.rect,t.j=t.clearRect,t.j2=w[101],t.j1=w[102],t.k=w[103],t.l=w[104],t.m=w[105]}function m(){function t(){function t(){var t=[].slice.apply(arguments),e=t.shift();a[e]&&a[e].apply(a,t)}function e(t,e,n){return a.d6(t,e,n,F,J)}function n(t,e){a.d7(t,e,J)}function o(t){a.d8(E,t)}function r(){a.x(),a.v(),a.u()}function i(){a.f0(E),a.f1(),a.f2(),a.f3()}var a=P[1],s=P[0];return a.c1={a:[],a2:[],a7:[]},{t:s,as:a,clear:i,c2:o,c3:r,tt:t,t1:e,ct:n}}function e(){var t=Y[1];return{t:Y[0],as:t}}function n(){function t(t,e){o.ir(t,e,E,F)}function e(t,e,n){o.iw(J[t],e,n,E,F)}function n(){o.a1(E)}var o=U[1];return{t:U[0],as:o,id:t,iw:e,ae:n}}function m(t,e){var n,o,r,i=0,a=0,s=Number.MAX_VALUE,c=x.a[x.o.j]||x.a[7];if(!window.ISPAUSE&&(t&&t.fs&&(E=t)&&e&&(F=e,O.pst=e),O.d5=[],x.o.c=0,x.o.d=x.o.d||0,(J=JSON.parse(window.localStorage.getItem(x.n[x.o.f]+x.o.k)))&&w[106]==typeof J&&J.length)){if(o=J.length,I.clear(),t&&t.fs?I.c2(!0):(I.c2(K),K=!1),!I.as.cc.w)return;if(0>(n=~~((I.as.cc.w-50)/c[0])))return;x.o.age=n,O.str=o,O.age=n,x.o.e=o-n,r=n>o?o:n,x.o.e>0&&(x.o.c=x.o.e),x.o.d>x.o.e&&x.o.e>0&&(x.o.d=x.o.e),r==o&&(x.o.d=0),x.o.c-=x.o.d;for(var u=r,l=o-1-x.o.d;u--;l--)i=Math.max(J[l][2],i),a=Math.max(J[l][5],a),s=Math.min(J[l][3],s),I.ct(l,o);I.as.m3=i,I.as.m1=s,I.as.u3=a,I.as[I.as.j1]=w[107];for(var d,u=r,l=o-1-x.o.d;u--;l--)(d=I.t1(J[l],u,o))&&(!d.data&&(d.data=J),O.d5.push(d),I.tt(w[108],d),I.tt(w[109],d),I.tt(w[110],d),I.tt(w[111],d));v(),O.d5=O.d5.reverse(),I.c3(),d&&(d.data=null)}}function y(t,e){var n=t<Math.pow(10,11)?new Date(1e3*t):new Date(t),o=n.getFullYear(),r=_(n.getMonth()+1),i=_(n.getDate()),a=_(n.getHours()),s=_(n.getMinutes()),c=_(n.getSeconds())
;return e?e.replace(w[112],o).replace(w[113],r).replace(w[114],i).replace(w[115],a).replace(w[116],s).replace(w[117],c):o+w[118]+r+w[119]+i+w[120]+a+w[121]+s+w[122]+c}function _(t){return t>9?t:w[123]+t}function v(t){if(!O.e1){var e,n=t||0===t?I.as.v1[t]:I.as.v1[I.as.v1.length-1],o=t||0===t?I.as.v2[t]:I.as.v2[I.as.v2.length-1],r=t||0===t?I.as.v3[t]:I.as.v3[I.as.v3.length-1],i=w[124],a=x.d[x.o.k]<86400?w[125]:w[126],s=w[127]+x.f[x.o.g].sj+w[128],c=x.f[x.o.g].sj2,u=x[k[x.o.m]],l=[];if(J){if(e=t||0===t?J[t]:J[J.length-1-x.o.d],O.z[0].innerHTML=w[129]+s+x.f[x.o.g].p3+x.STR[0]+y(e[0],a)+x.STR[1]+x.STR[2]+s+x.f[x.o.g].p3+x.STR[3]+e[1]+x.STR[4]+x.STR[5]+s+x.f[x.o.g].p3+x.STR[6]+e[2]+x.STR[7]+x.STR[8]+s+x.f[x.o.g].p3+x.STR[9]+e[3]+x.STR[10]+x.STR[11]+s+x.f[x.o.g].p3+x.STR[12]+e[4]+x.STR[13]+x.STR[14]+s+x.f[x.o.g].p3+x.STR[15]+1*e[5].toFixed(4)+w[146],n&&n.length){for(var d=0,p=n.length;p>d;d++)i+=w[147]+s+(~n[d][2]?c[n[d][2]]:x.f[x.o.g].p3)+w[148]+n[d][0]+w[149]+n[d][1]+w[150];O.z[0].innerHTML+=i,i=w[151]}if(o&&o.length){for(var d=0,p=o.length;p>d;d++)i+=w[152]+s+(~o[d][2]?c[o[d][2]]:x.f[x.o.g].p3)+w[153]+o[d][0]+w[154]+o[d][1]+w[155];O.z[1].innerHTML=i}if(r&&r.length){if(i=w[156]+s+x.f[x.o.g].p3+w[157]+x.o.m+w[158],w[159]===x.o.m)i+=x.k.join(w[160]);else{for(var f in u)u.hasOwnProperty(f)&&l.push(f+w[161]+u[f]);i+=l.join(w[162])}i+=w[163];for(var d=0,p=r.length;p>d;d++)i+=w[164]+s+(~r[d][2]?c[r[d][2]]:x.f[x.o.g].ir)+w[165]+r[d][0]+w[166]+r[d][1]+w[167];O.z[2].innerHTML=i}}}}function b(t){O.v4=t}function T(t,e,n){x.o.k!=t||x.o.u?(x.o.u=n,z.changePeriod(t,e)):e&&e()}function S(){var t=x.f[x.o.g].sj;O.style.background=t,x.o.sc=x.f[x.o.g].p1}function C(){return E}function R(t){x.o.l!=t&&(x.o.l=t,m())}function j(t){x.o.m!=t&&(x.o.m=t,m())}function M(t){x.o.g!=t&&(x.o.g=t,S(),m())}function A(t,e){x.o.u?e&&e():(x.o.u=!0,T(w[168],e,1))}function D(t){var t=-1*t;x.o.w||(x.o.j-=t,(x.o.j<0||x.o.j>=x.o.tt)&&(x.o.j<0&&(x.o.j=0),x.o.j>=x.o.tt&&(x.o.j=x.o.tt-1)),m())}function L(){var t=document.createElement(w[169]),e=t.getContext(w[170]);return o(h,e),t.style.cssText+=w[171],O.appendChild(t),[t,e]}function B(){var t,e,n,o=document.createElement(w[172]),r=w[173];return o.innerHTML=w[174],t=o.getElementsByTagName(w[175])[0],e=o.getElementsByTagName(w[176])[0],n=o.getElementsByTagName(w[177])[1],o.style.cssText+=w[178],t.style.cssText+=r,e.style.cssText+=r,n.style.cssText+=r,O.appendChild(o),[t,e,n]}function N(){return z=r(O)}var O,E,I,q,H,P,Y,U,F,z,J,X,G,V=document.createElement(w[179]),K=!0;return V&&V.getContext?(function(r,h){w[180],O=r&&w[181]==typeof r?document.getElementById(r):r,O&&(x.a.sort(function(t,e){return t[0]-e[0]}),o(i,O),E=O.size(),F=O.position(),P=L(),X=L(),U=L(),Y=L(),G=B(),I=t(),q=e(),H=n(),O.v5=I,O.v6=q,O.v7=H,O.v8=m,O.changeSize=D,O.sz=C,O.mi=X,O.pst=F,O.z=G,O.v9=v,O.b3=y,o(c,I.as,O,X),o(s,I.as,O,X),o(u,I.as,O,X),o(f,I.as,O),o(p,I.as,O),o(l,H.as,O),o(d,q.as,O),o(a,O,O),O.v4=h.currentTools,x.o.a=h.version||x.o.a,x.o.u=h.timeShare||x.o.u,x.o.tt=x.a.length,x.o.j=h.level||x.o.j||7,x.b.a=h.url||x.b.a,x.n=h.symlist||x.n,x.o.r=h.timeSpace||x.o.r||50,x.o.m=h.vIndicator||x.o.m||w[182],x.o.n=h.drawRange||x.o.n||1,x.o.q=h.timeline||x.o.q||20,x.o.o=h.m1RuleHeight||x.o.o||30,x.o.f=h.symbol||x.o.f||0,x.o.g=h.schemes||x.o.g||w[183],x.o.h=h.ruleWidth||x.o.h||[60,.005],x.o.i=h.viceHeight||x.o.i||[80,.2],x.o.l=h.indicator||x.o.l||w[184],x.o.p=h.timeShareMA||x.o.p||60,x.o.s=0===h.dashed?0:h.dashed||1,x.o.t=0===h.border?0:h.border||1,x.o.v=h.stopDrag||x.o.v||0,x.o.w=h.stopZoom||x.o.w||0,x.o.x=h.showHigh||x.o.x||0,x.o.y=h.showLow||x.o.y||0,x.o.z=h.moveThreshold||x.o.z||999,x.o.k=x.o.u?w[185]:h.time||x.o.k,N(),S()),g=x.o.f}.apply(window,arguments),{box:O,req:z,setTools:b,setTime:T,changeMI:R,changeVI:j,rd:m,changeSchemes:M,changeSize:D,noKMode:A}):{req:N(),lower:!0}}var g,y=(t("static/js/exchange/dist/script/module_socket_io"),t("static/js/exchange/dist/script/module_connect")),_=t("static/js/exchange/dist/script/module_socket_api"),v={symbolId:"symbolId",bids:"bids",asks:"asks",trades:"trades",priceNew:"priceNew",level:"level",volume:"volume",amount:"amount",totalAmount:"totalAmount",totalVolume:"totalVolume",amp:"amp",priceOpen:"priceOpen",priceHigh:"priceHigh",priceLow:"priceLow",priceLast:"priceLast",price:"price",priceBid:"priceBid",priceAsk:"priceAsk",topBids:"topBids",topAsks:"topAsks",tradeId:"tradeId",time:"time",timeMin:"timeMin",timeMax:"timeMax",bidId:"bidId",askId:"askId",direction:"direction",version:"version",versionOld:"versionOld",bidName:"bidName",bidPrice:"bidPrice",bidAmount:"bidAmount",bidTotal:"bidTotal",askName:"askName",askPrice:"askPrice",askAmount:"askAmount",askTotal:"askTotal",period:"period",date:"date",count:"count",symbolName:"symbolName",exchangeId:"exchangeId",exchangeName:"exchangeName",currencyId:"currencyId",currencyName:"currencyName",cryptoId:"cryptoId",cryptoName:"cryptoName",cryptoNameZh:"cryptoNameZh",total:"total",suply:"suply",introduction:"introduction",msgType:"msgType",uniqueId:"_id",idCur:"idCur",idPrev:"idPrev",payload:"payload",from:"from",to:"to",requestIndex:"requestIndex",pushType:"pushType",symbolList:"symbolList",symbolIdList:"symbolIdList",retCode:"retCode",retMsg:"retMsg",bidInsert:"bidInsert",bidDelete:"bidDelete",bidUpdate:"bidUpdate",askInsert:"askInsert",askDelete:"askDelete",askUpdate:"askUpdate",commissionRatio:"commissionRatio",poor:"poor",updownVolume:"updownVolume",updownRatio:"updownRatio",priceAverage:"priceAverage",volumeRatio:"volumeRatio",amountRatio:"amountRatio",turnVolume:"turnVolume",turnoverRate:"turnoverRate",outerDisc:"outerDisc",innerDisc:"innerDisc",percent:"percent",accuAmount:"accuAmount",index:"index",row:"row",insertList:"insertList",deleteList:"deleteList",updateList:"updateList",timeStart:"timeStart",timeEnd:"timeEnd",timeServer:"timeServer",isTemp:"isTemp",marketDetail:"marketDetail",tradeDetail:"tradeDetail",marketDepthTop:"marketDepthTop",marketDepthTopShort:"marketDepthTopShort",marketDepth:"marketDepth",reqTradeDetail:"reqTradeDetail",marketDepthTopDiff:"marketDepthTopDiff",marketDepthDiff:"marketDepthDiff",lastKLine:"lastKLine",lastTimeLine:"lastTimeLine",marketOverview:"marketOverview",marketStatic:"marketStatic",reqSymbolList:"reqSymbolList",reqSymbolDetail:"reqSymbolDetail",reqMsgSubscribe:"reqMsgSubscribe",reqMsgUnsubscribe:"reqMsgUnsubscribe",reqTimeLine:"reqTimeLine",reqKLine:"reqKLine",reqMarketDepthTop:"reqMarketDepthTop",reqMarketDepth:"reqMarketDepth",reqTradeDetailTop:"reqTradeDetailTop",reqMarketDetail:"reqMarketDetail",request:"request",message:"message",pushLong:"pushLong",pushShort:"pushShort",kline1Min:"1min",kline5Min:"5min",kline15Min:"15min",kline30Min:"30min",kline60Min:"60min",kline1Day:"1day",kline1Week:"1week",kline1Mon:"1mon",kline1Year:"1year",klineTimeline:"tl",percent10:"10",percent20:"20",percent50:"50",percent80:"80",percent100:"100",percentTop:"top",marketDepthTopShortLength:20,stringSplit:"|",klineTradeOpen:1,klineTradeLast:2,klineTradeOne:4,klineTradeNone:8,klineTradeMid:16,protocolVersion:1,maxPackageCount:500,tradePackageCount:100,maxTradeId:-1,CODE_OK:200,CODE_PARAM_ERROR:601,CODE_SERVER_ERROR:701,lineLimitSize:300,tradeDetailLimitSize:300,amountDotLength:4,volumeDotLength:2},b={add:document.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:function(t,e,n){t.attachEvent("on"+e,n)},remove:document.removeEventListener?function(t,e,n){t.removeEventListener(e,n,!1)}:function(t,e,n){t.detachEvent("on"+e,n)},target:function(t){return t.target?t.target:window.event.srcElement},delta:function(t){var e=t||window.event;return e.wheelDelta/-120||e.detail/3},stop:function(t){t&&t.stopPropagation?(t.stopPropagation(),t.preventDefault()):(window.event.cancelBubble=!0,window.event.returnValue=!1)},mouse:function(t){return{x:t.pageX||t.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft),y:t.pageY||t.clientY+(document.documentElement.scrollTop||document.body.scrollTop)}}},w=["re","re","v","v","string","lastKLine","CrossLine","GannFan","mousewheel","DOMMouseScroll","resize","mousedown","mouseover","mousemove","mouseup","mouseout","touchstart","touchmove","touchend","keydown","middle","12px arial","solid","object","12px arial","亿","万","12px arial","h:i","m月d日","y年m月","#","rgba(",",",",",",",")","1px","-999px","1px","px","px","bottom","12px arial","right","left","MA","-","noKline","MA","-","ub","lb","BOLL","-","UB","-","LB","-","亿","万","y-m-d h:i:s","y-m-d","middle","middle","12px arial","dif","dea","K","D","J","RSI1","RSI2","RSI3","WR1","WR2","DIF","-","DEA","-","MACD","-","K","-","D","-","J","-","RSI1","-","RSI2","-","RSI3","-","WR1","-","WR2","-","MA","-","%E9%87%8F","textAlign","textBaseline","font","fillStyle","strokeStyle","object","middle","d1","d2","d3","d4","y","m","d","h","i","s","-","-"," ",":",":","0","","y-m-d h:i:s","y-m-d","background:",";display:inline-block;padding-right:5px;padding-top:4px;color:",'<span style="','">日期:',"</span>",'<span style="','">开:',"</span>",'<span style="','">高:',"</span>",'<span style="','">低:',"</span>",'<span style="','">收:',"</span>",'<span style="','">量:',"</span>",'<span style="','">',":","</span>","",'<span style="','">',":","</span>",'<span style="','">',"(","MACD",",",":",",",")</span>",'<span style="','">',":","</span>","1min","canvas","2d",";position:absolute;left:0;top:0;","DL",";position:absolute;left:10px;top:-999px;width:100%;","<dt></dt><dd></dd><dd></dd>","dt","dd","dd",";position:absolute;left:0;top:0;width:100%;font-size:12px;","canvas","construct","string","MACD","chineseHabit","MA","1min","http://hq.huobi.com","huobi.com","60","300","900","1800","3600","86400","604800","2629743","31556926","kline1Min","001","kline5Min","005","kline15Min","015","kline30Min","030","kline60Min","060","kline1Day","100","kline1Week","200","kline1Mon","300","kline1Year","400","#cc1414","#49c043","solid","hollow","#ccc","#666666","#fff","rgba(255,255,255,0.2)","#ffffff","#a6cee3","#fdbf6f","#df8adf","#ffff00","#00ffff","#ff9600","#000000","#fc0404","#00a800","hollow","solid","#999","#666","#c4cdd9","rgba(0,0,0,0.1)","#a6b1c1","#29963b","#ff9600","#ff00d2","#55e100","#8b8b8b","#23d8ff","#0036ff","#ffffff","#ff3232","#54ffff","hollow","solid","#ccc","#666","#666","rgba(255,255,255,0.2)","#aaa","#ffffff","#ffff00","#ff00ff","#00ff00","#00ffff","#ff9600","#000000","btccny","ltccny","0.1","ver 1.0.1","light","1min","MA","KDJ","m","g","h","i","j","k","l"],x=FL_CONFIG,k={MA:w[272],BOLL:w[273],VOLUME:w[274],WR:w[275],RSI:w[276],MACD:w[277],KDJ:w[278]};n.exports=m}),define("static/js/exchange/dist/script/module_oauth",["jquery","static/js/exchange/dist/script/module_ajax"],function(t,e,n){function o(t){return new i({url:HRY.host+HRY.modules.oauth+"getUser"},function(t){switch(t.code){case"error":break;case"success":void 0!=t.data&&""!=t.data&&(HRYB.user=JSON.parse(t.data),r("#order").removeClass("hide").addClass("current"),r("#trade").removeClass("hide").addClass("current"),r(".head_login").html(Lang.L("Hello")+' ， <a href="'+HRY.host+HRY.modules.exstatic+'#/user/base"> '+HRYB.user.userName+' </a>  <a href="'+HRY.host+HRY.modules.oauth+"logout.do?backUrl="+HRY.host+'/market.html" id="logout" class="p_l_10 p_r_10">'+Lang.L("Logout")+"</a>"))}})}var r=t("jquery"),i=t("static/js/exchange/dist/script/module_ajax");e.GetOauth=o}),define("static/js/exchange/dist/script/module_coin",["jquery","static/js/exchange/dist/script/module_tmpl","static/js/exchange/dist/script/module_ajax"],function(t,e,n){function o(t){var e=i("#view_coin_list");return new s({url:HRY.host+HRY.modules.exmain+"product/getprodictAll/1",datatype:"json"},function(t){switch(t.code){case"error":break;case"success":if(void 0!=t.data&&""!=t.data){var t=r(t.data);e.html(a("tmp_coin_list",t))}}})}function r(t){for(var e=0;e<t.length;e++)for(var n=0;n<t.length-e-1;n++)if(t[n].sort>t[n+1].sort){var o=t[n];t[n]=t[n+1],t[n+1]=o}return t}var i=t("jquery"),a=t("static/js/exchange/dist/script/module_tmpl"),s=t("static/js/exchange/dist/script/module_ajax");e.GetCoinList=o}),define("static/js/exchange/dist/script/module_appseting",["jquery","static/js/exchange/dist/script/module_ajax"],function(t,e,n){function o(t){return new i({url:HRY.host+HRY.modules.exmain+"config/find/baseConfig",datatype:"json"},function(t){switch(t.code){case"error":break;case"success":if(void 0!=t&&""!=t){var e=JSON.parse(t.data.obj);r("#logo_img").attr("src",HRY.host+"\\"+e.siteLogo),r("#copyRight").html(e.siteCopyright),HRYB.GLOBAL.appConfigData=e}}})}var r=t("jquery"),i=t("static/js/exchange/dist/script/module_ajax");e.GetAppConfigData=o}),define("static/js/exchange/dist/script/module_balance",["jquery","static/js/exchange/dist/script/module_ajax","static/js/exchange/dist/script/module_hb_extend","static/js/exchange/dist/script/module_number","static/js/exchange/dist/script/module_oauth"],function(t,e,n){var o,r,i,a,s,c,u,l;o=t("jquery"),r=t("static/js/exchange/dist/script/module_ajax"),i=t("static/js/exchange/dist/script/module_hb_extend"),l=t("static/js/exchange/dist/script/module_number"),t("static/js/exchange/dist/script/module_oauth"),o("input[name='coin_type']").val(),a={},u={},HRYB.BALANCE=a,u.dom=o(document),u.convert_total_cny=o(".convert_total_cny"),u.convert_total_usd=o(".convert_total_usd"),u.convert_total_btc=o(".convert_total_btc"),u.convert_net_cny=o(".convert_net_cny"),u.convert_net_usd=o(".convert_net_usd"),u.convert_net_btc=o(".convert_net_btc"),u.cny_available=o(".cny_cny_available"),u.cny_btc_available=o(".cny_btc_available"),u.cny_ltc_available=o(".cny_ltc_available"),u.cny_dsc_available=o(".cny_dsc_available"),u.loan_cny_cny=o(".loan_cny_cny"),u.loan_cny_btc=o(".loan_cny_btc"),u.sellRate=o(".sellRate"),u.buyRate=o(".buyRate"),u.minimum=o(".minimum"),u.minprice=o(".minprice"),u.cny_frozen=o(".cny_cny_frozen"),u.cny_btc_frozen=o(".cny_btc_frozen"),u.cny_ltc_frozen=o(".cny_ltc_frozen"),u.cny_loan=o(".cny_cny_loan"),u.cny_btc_loan=o(".cny_btc_loan"),u.cny_ltc_loan=o(".cny_ltc_loan"),u.cny_risk_rate=o(".cny_risk_rate"),u.cny_total=o(".cny_total"),u.cny_net_asset=o(".cny_net_asset"),u.usd_available=o(".usd_usd_available"),u.usd_btc_available=o(".usd_btc_available"),u.usd_frozen=o(".usd_usd_frozen"),u.usd_btc_frozen=o(".usd_btc_frozen"),u.usd_loan=o(".usd_usd_loan"),u.usd_btc_loan=o(".usd_btc_loan"),u.usd_risk_rate=o(".usd_risk_rate"),u.usd_total=o(".usd_total"),u.usd_net_asset=o(".usd_net_asset"),u.fee_rate=o(".fee_rate"),u.head_balance=o("#head_balance"),u.cny_c_a_panel=o("cny_cny_available_panel"),s=function(t,e){function n(t){try{t=JSON.parse(JSON.parse(t)),u.buyRate.attr("data-tips","当前买入费率为"+t.buyFeeRate+"%"),u.sellRate.attr("data-tips","当前卖出费率为"+t.sellFeeRate+"%"),o(".sellrate").val(t.sellFeeRate),o(".buyRate").val(t.buyFeeRate),o(".keepDecimalForCoin").val(t.keepDecimalForCoin),o(".keepDecimalForCurrency").val(t.keepDecimalForCurrency),u.minimum.attr("data-min",t.sellMinCoin),u.minimum.attr("data-max",t.oneTimeOrderNum),u.minprice.attr("data-min",t.buyMinMoney),a.cny_available=1*t.rmb,a.cny_cny_available=1*t.rmb,a.cny_btc_available=1*t.coinHotMoney,a.cny_dsc_available=1*t.coinHotMoney,a.cny_loan=1*t.rMBAccountNetAsse,a.loan_cny_cny=1*t.rMBAccountNetAsse,a.loan_cny_btc=1*t.coinAccountNetAsse,a.cny_btc_loan=1*t.coinAccountNetAsse,a.cny_ltc_loan=1*t.coinAccountNetAsse,u.dom.trigger("__GetBalance",t.ext),s(),e&&e()}catch(t){}}function s(){o.each(u,function(t,e){var n=e.length,r=t.indexOf("btc")>0||t.indexOf("ltc")>0?l(a[t],4):l(a[t],3);1===n?"0"==e.attr("data-flaunted")?e.html("---").attr("data-flaunt",r):e.html(r).attr("data-flaunt",r):n>1&&e.each(function(){var t=o(this);"0"==t.attr("data-flaunted")?t.html("---").attr("data-flaunt",r):t.html(r).attr("data-flaunt",r)})}),a.cny_risk_rate?(o(".cny_loan_rate_yes").show(),o(".cny_loan_rate_no").hide()):(o(".cny_loan_rate_yes").hide(),o(".cny_loan_rate_no").show()),a.usd_risk_rate?(o(".usd_loan_rate_yes").show(),o(".usd_loan_rate_no").hide()):(o(".usd_loan_rate_yes").hide(),o(".usd_loan_rate_no").show()),t.resolve(),a.cny_btc_burst>0||a.cny_ltc_burst>0?a.cny_btc_burst>0?o(".cny_loan_burst_price_btc").find(".price").html(a.cny_btc_burst).end().show().siblings(".cny_loan_burst").hide():a.cny_ltc_burst>0&&o(".cny_loan_burst_price_ltc").find(".price").html(a.cny_ltc_burst).end().show().siblings(".cny_loan_burst").hide():o(".cny_loan_burst_price_no").show().siblings(".cny_loan_burst").hide(),a.usd_btc_burst>0?o(".usd_loan_burst_price_btc").find(".price").html(a.usd_btc_burst).end().show().siblings(".usd_loan_burst").hide():o(".usd_loan_burst_price_no").show().siblings(".usd_loan_burst").hide()}return c=new r({url:HRY.host+HRY.modules.exmain+"account/getAccountInfo",data:{m:"user_balance",coinCode:CURRENT_SYMBOL},refresh:2e3,damp:!0},function(t){"success"==t.code&&n(t.data)}),i({name:"AJAX",value:{GetBalance:c}}),t},n.exports=s});
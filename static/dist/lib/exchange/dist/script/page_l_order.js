define("static/js/exchange/dist/script/page_l_order",["./module_order","jquery","./module_ajax","./module_tmpl","./module_md5","./page_l_notice"],function(e,t,n){var r=e("./module_order"),o=e("./page_l_notice"),a=SYMBOL,i=UID&&r.GetOrder({temp:"tmp_us_order",wrap:"view_us_order",coin_type:a,is_history:10,damp:!0},function(){s&&s.Fire()}),s=UID&&r.GetOrder({temp:"tmp_us_order_history",wrap:"view_us_order_history",coin_type:a,is_history:20,delay:0}),c={};c.view_us_order=$("#view_us_order"),c.cancel_order_all=$("#cancel_order_all"),c.view_us_order.on("click",".cancel",function(){var e=$(this),t=e.attr("data-ids"),n=e.parents(".tr");return!(1*e.attr("data-init")||(e.attr("data-init",1),r.CancelOrder({coin_type:a,id:t},function(t){"loading"==t.code?(n.addClass("cancel"),i.Stop()):"error"==t.code?(n.hasClass("cancel")&&n.removeClass("cancel"),e.attr("data-init",0),o({message:window.Texts&&Texts.NetworkError,type:"error",long:1800}),i.Play()):(0===t.code?(n.next(".hidden_info").remove(),n.slideUp(function(){n.remove(),i.Fire()}),HRYB.AJAX.GetBalance.Fire()):(e.attr("data-init",0),n.hasClass("cancel")&&n.removeClass("cancel"),o({message:t.msg,type:"error",long:1800})),i.Play())}),1))}),c.cancel_order_all.on("click",function(){var e=$(this),t=e.attr("data-ids")?e.attr("data-ids").split("|"):0;return e.prop("disabled",!0),t&&r.CancelAllOrder({coin_type:a,id:t},function(t){"loading"==t.code?(i.Stop(),c.view_us_order.find(".tr").addClass("cancel")):"error"==t.code?(c.view_us_order.find(".tr").removeClass("cancel"),e.prop("disabled",!1),o({message:window.Texts&&Texts.NetworkError,type:"error",long:1800})):0==t.code?(i.Fire(),i.Play(),e.prop("disabled",!1),HRYB.AJAX.GetBalance.Fire(),o({message:t.msg,long:1800})):(i.Play(),c.view_us_order.find(".tr").removeClass("cancel"),e.prop("disabled",!1),o({message:t.msg,type:"error",long:1800}))}),!1}),t.GetOrder=i,t.GetHistory=s}),define("static/js/exchange/dist/script/module_order",["jquery","static/js/exchange/dist/script/module_ajax","static/js/exchange/dist/script/module_tmpl","static/js/exchange/dist/script/module_md5"],function(require,exports,module){function GetOrder(options,change){var op=options||{},temp=op.temp,wrap=$("#"+op.wrap),coin_type=op.coin_type,is_history=op.is_history,damp=op.damp,delay=0==op.delay?0:3e3,init=0,hash=[0,0],oldId=[0,0],Fn,time=4;return Fn=new A({url:HRY.host+HRY.modules.exmain+"entrust/findByCustomerId.do",refresh:delay,damp:damp,data:{coin_type:coin_type,status:is_history,page:1,pageSize:5}},function(data){var _code=data.code;switch(_code){case"loading":""==wrap.html()&&wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder"><i class="icon_loading"></i></td></tr>');break;case"error":wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder">'+data.msg+"</td></tr>"),hash=[0,0];break;case"success":if("success"===data.code&&-1==data.data.indexOf("script")){var delegation=eval("("+data.data+")"),_h=D.md5(JSON.stringify(delegation));if(20==is_history){if(_h!==hash[1]){for(var _i=0;_i<delegation.length;_i++){var _t=delegation[_i];_t.id>oldId[1]&&init?_t.new_order=1:_t.new_order=0}wrap.html(M(temp,delegation)),hash[1]=_h,init||(oldId[1]=delegation.length>0?1*delegation[0].id:0),init=1}}else time--,0==data.data.total?time<=0&&(Fn.Stop(),console.log("Order Stop"),time=4):time=4,_h!==hash[0]&&(wrap.html(M(temp,delegation)),hash[0]=_h,change&&change())}else data.code&&wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder"><i class="icon_info"></i> code:'+data.code+", "+(data.msg?data.msg:"")+"</td></tr>"),hash=[0,0]}})}function GetDetails(e){var t=e||{},n=t.temp,r=$(t.wrap),o=t.coin_type,a=t.id,i=t.type;n&&r&&A({url:"/trade/entrust_detail",data:{coin_type:o,order_id:a,delegation_type:i}},function(e){switch(e.code){case"loading":r.html('<div class="align_center p_t_30 no_barder"><i class="icon_loading"></i>'+e.msg+"</div>");break;case"error":r.html('<div class="align_center p_t_30 no_barder">'+e.msg+"</div>");break;case"success":0===e.data.code?r.html(M(n,e.data)):e.code&&r.html('<tr><td colspan="100" class="align_center p_t_30 no_barder">code:'+e.data.code+","+e.data.msg?e.data.msg:"</td></tr>")}})}function CancelOrder(e,t){var n=e||{},r=(n.coin_type,"object"==typeof n.id?n.id.join(","):n.id);ids=r,A({url:HRY.host+HRY.modules.exmain+"entrust/cancelExEntrust.do",data:{coinCode:CURRENT_SYMBOL,entrustNums:ids},type:"POST"},function(e){switch(e.code){case"loading":case"error":t&&t(e);break;case"success":t&&t(JSON.parse(e.data))}})}function CancelAllOrder(e,t){var n=e||{},r=(n.coin_type,"object"==typeof n.id?n.id.join(","):n.id);ids=r,A({url:HRY.host+HRY.modules.exmain+"entrust/cancelallcoinCodeExEntrust.do",data:{coinCode:CURRENT_SYMBOL,entrustNums:ids},type:"POST"},function(e){switch(e.code){case"loading":case"error":t&&t(e);break;case"success":t&&t(JSON.parse(e.data))}})}var $=require("jquery"),A=require("static/js/exchange/dist/script/module_ajax"),M=require("static/js/exchange/dist/script/module_tmpl"),D=require("static/js/exchange/dist/script/module_md5");exports.GetOrder=GetOrder,exports.GetDetails=GetDetails,exports.CancelOrder=CancelOrder,exports.CancelAllOrder=CancelAllOrder}),function(){var e=function(e,t){function n(){r(),k?o():clearTimeout(A)}function r(e){var t=void 0===e?O:e;m.r=Math.random().toString(36).substr(2),t||$.ajax({url:f,type:v,data:m,dataType:y,jsonp:C,jsonpCallback:b,beforeSend:a,success:i,error:s,complete:c})}function o(){A=setTimeout(n,k)}function a(){t&&t({code:"loading",msg:"loading"})}function i(e){10002==e.flag&&(window.location=N),10003==e.flag&&T.Stop(),w?R--:R=j,R<=0&&k<=x-1e3&&(k+=1e3),t&&t({code:"success",msg:"success",data:e})}function s(){t&&t({code:"error",msg:L("网络异常")})}function c(e,n){t&&t({code:"complete",xhr:e,ts:n,msg:"complete"})}function d(){O=1}function l(){O=0,R=j,k=g}function u(){r(0),R=j,k=g}function p(e){var t=e||{};f=t.url?t.url:f,m=t.data||m,g=t.refresh?1*t.refresh:g,y=t.datatype?t.datatype:y,C=t.jsonp?t.jsonp:C,b=t.jsonpcallback?t.jsonpcallback:b,k=g}var _=e||{},f=_.url?_.url:"/account/ajax.do",m=_.data||{},h=void 0==_.init||_.init,g=_.refresh?1*_.refresh:0,v=_.type||"GET",y=_.datatype?_.datatype:"",C=_.jsonp?_.jsonp:"",w=void 0!=_.damp?_.damp:CONST.AJAX_DAMP,j=CONST.AJAX_DAMP_TIME?CONST.AJAX_DAMP_TIME:6,x=CONST.AJAX_DAMP_REFRESH?CONST.AJAX_DAMP_REFRESH:5e3,b=_.jsonpcallback?_.jsonpcallback:"",A=null,O=0,T=this,S=window.location,N="/account/account.do?a=validate_all&jump_url="+S.pathname+S.search,R=j,k=g;clearTimeout(A),h&&m&&n(),T.Stop=d,T.Play=l,T.Fire=u,T.Update=p};"function"==typeof define?define("static/js/exchange/dist/script/module_ajax",[],function(){return e}):"undefined"!=typeof exports?module.exports=e:window.HbAjax=e}(),function(){function e(n,r){var o=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);},__data = obj;with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[n]=t[n]||e(document.getElementById(n).innerHTML);return r?o(r):o}var t={};"function"==typeof define?define("static/js/exchange/dist/script/module_tmpl",[],function(){return e}):"undefined"!=typeof exports?module.exports=e:window.TmpL=e}(),function(e){"use strict";function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function r(e,r,o,a,i,s){return t(n(t(t(r,e),t(a,s)),i),o)}function o(e,t,n,o,a,i,s){return r(t&n|~t&o,e,t,a,i,s)}function a(e,t,n,o,a,i,s){return r(t&o|n&~o,e,t,a,i,s)}function i(e,t,n,o,a,i,s){return r(t^n^o,e,t,a,i,s)}function s(e,t,n,o,a,i,s){return r(n^(t|~o),e,t,a,i,s)}function c(e,n){e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var r,c,d,l,u,p=1732584193,_=-271733879,f=-1732584194,m=271733878;for(r=0;r<e.length;r+=16)c=p,d=_,l=f,u=m,p=o(p,_,f,m,e[r],7,-680876936),m=o(m,p,_,f,e[r+1],12,-389564586),f=o(f,m,p,_,e[r+2],17,606105819),_=o(_,f,m,p,e[r+3],22,-1044525330),p=o(p,_,f,m,e[r+4],7,-176418897),m=o(m,p,_,f,e[r+5],12,1200080426),f=o(f,m,p,_,e[r+6],17,-1473231341),_=o(_,f,m,p,e[r+7],22,-45705983),p=o(p,_,f,m,e[r+8],7,1770035416),m=o(m,p,_,f,e[r+9],12,-1958414417),f=o(f,m,p,_,e[r+10],17,-42063),_=o(_,f,m,p,e[r+11],22,-1990404162),p=o(p,_,f,m,e[r+12],7,1804603682),m=o(m,p,_,f,e[r+13],12,-40341101),f=o(f,m,p,_,e[r+14],17,-1502002290),_=o(_,f,m,p,e[r+15],22,1236535329),p=a(p,_,f,m,e[r+1],5,-165796510),m=a(m,p,_,f,e[r+6],9,-1069501632),f=a(f,m,p,_,e[r+11],14,643717713),_=a(_,f,m,p,e[r],20,-373897302),p=a(p,_,f,m,e[r+5],5,-701558691),m=a(m,p,_,f,e[r+10],9,38016083),f=a(f,m,p,_,e[r+15],14,-660478335),_=a(_,f,m,p,e[r+4],20,-405537848),p=a(p,_,f,m,e[r+9],5,568446438),m=a(m,p,_,f,e[r+14],9,-1019803690),f=a(f,m,p,_,e[r+3],14,-187363961),_=a(_,f,m,p,e[r+8],20,1163531501),p=a(p,_,f,m,e[r+13],5,-1444681467),m=a(m,p,_,f,e[r+2],9,-51403784),f=a(f,m,p,_,e[r+7],14,1735328473),_=a(_,f,m,p,e[r+12],20,-1926607734),p=i(p,_,f,m,e[r+5],4,-378558),m=i(m,p,_,f,e[r+8],11,-2022574463),f=i(f,m,p,_,e[r+11],16,1839030562),_=i(_,f,m,p,e[r+14],23,-35309556),p=i(p,_,f,m,e[r+1],4,-1530992060),m=i(m,p,_,f,e[r+4],11,1272893353),f=i(f,m,p,_,e[r+7],16,-155497632),_=i(_,f,m,p,e[r+10],23,-1094730640),p=i(p,_,f,m,e[r+13],4,681279174),m=i(m,p,_,f,e[r],11,-358537222),f=i(f,m,p,_,e[r+3],16,-722521979),_=i(_,f,m,p,e[r+6],23,76029189),p=i(p,_,f,m,e[r+9],4,-640364487),m=i(m,p,_,f,e[r+12],11,-421815835),f=i(f,m,p,_,e[r+15],16,530742520),_=i(_,f,m,p,e[r+2],23,-995338651),p=s(p,_,f,m,e[r],6,-198630844),m=s(m,p,_,f,e[r+7],10,1126891415),f=s(f,m,p,_,e[r+14],15,-1416354905),_=s(_,f,m,p,e[r+5],21,-57434055),p=s(p,_,f,m,e[r+12],6,1700485571),m=s(m,p,_,f,e[r+3],10,-1894986606),f=s(f,m,p,_,e[r+10],15,-1051523),_=s(_,f,m,p,e[r+1],21,-2054922799),p=s(p,_,f,m,e[r+8],6,1873313359),m=s(m,p,_,f,e[r+15],10,-30611744),f=s(f,m,p,_,e[r+6],15,-1560198380),_=s(_,f,m,p,e[r+13],21,1309151649),p=s(p,_,f,m,e[r+4],6,-145523070),m=s(m,p,_,f,e[r+11],10,-1120210379),f=s(f,m,p,_,e[r+2],15,718787259),_=s(_,f,m,p,e[r+9],21,-343485551),p=t(p,c),_=t(_,d),f=t(f,l),m=t(m,u);return[p,_,f,m]}function d(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function l(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function u(e){return d(c(l(e),8*e.length))}function p(e,t){var n,r,o=l(e),a=[],i=[];for(a[15]=i[15]=void 0,o.length>16&&(o=c(o,8*e.length)),n=0;n<16;n+=1)a[n]=909522486^o[n],i[n]=1549556828^o[n];return r=c(a.concat(l(t)),512+8*t.length),d(c(i.concat(r),640))}function _(e){var t,n,r="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function f(e){return unescape(encodeURIComponent(e))}function m(e){return u(f(e))}function h(e){return _(m(e))}function g(e,t){return p(f(e),f(t))}function v(e,t){return _(g(e,t))}function y(e,t,n){return t?n?g(t,e):v(t,e):n?m(e):h(e)}function C(e,t,n){return y(e+"hello, moto",t,n)}"function"==typeof define?define("static/js/exchange/dist/script/module_md5",[],function(){return{md5:y,hbmd5:C}}):(e.md5=y,e.hbmd5=C)}(this),function(){function e(e,n){function r(e,t,n){var r=n||200;setTimeout(function(){e.removeClass(t)},r)}var o=this,a=e||{},i=a.message?a.message:"",s=a.type||"succeed",c=a.long,d=$('<div id="notice" class="notice"><a href="" class="close">×</a><div class="message">'+i+"</div></div>"),l=$("body"),u=d.find(".message"),p=d.find(".close");return o.Init=function(e){var t;return l.find("#notice").length>0?(d=l.find("#notice"),u=d.find(".message"),p=d.find(".close"),"close"!=e&&d.addClass("reappear"),t=!1):(l.append(d),t=!0),"error"==s?d.addClass("error").removeClass("succeed"):d.removeClass("error").addClass("succeed"),setTimeout(function(){d.removeClass("reappear")},1e3),t},o.Open=function(){var e=o.Init();o.CloseNow=0,e&&(d.removeClass("notice_close").addClass("notice_open"),r(d,"notice_open"))},o.Close=function(){o.Init("close"),o.CloseNow=1,d.addClass("notice_close").removeClass("notice_open"),t[1]=setTimeout(function(){d.remove()},300)},o.Write=function(e){u.html(e||i)},function(){o.Open(),o.Write(),clearTimeout(t[0]),clearTimeout(t[1]),t[0]=c&&setTimeout(function(){o.Close()},c),p.click(function(){return o.Close(),!1}),d.hover(function(){clearTimeout(t[0])},function(){l.find("#notice").length<=0||(t[0]=c&&setTimeout(function(){o.Close()},c))})}(),o}var t=[];"function"==typeof define?define("static/js/exchange/dist/script/page_l_notice",[],function(){return e}):"undefined"!=typeof exports?module.exports=e:window.Notice=e}();
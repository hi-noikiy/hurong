function connect(t){function e(t,e){var n="msgType";if(t&&t[n]){if(Array.prototype.forEach)u[t[n]]&&Array.prototype.forEach.call(u[t[n]],function(e,n){e(t)});else if(u[t[n]]){u[t[n]].length;for(var r=u[t[n]],o=0,a=r.length;o<a;o++)r[o](t)}l.LastTime=Math.round((new Date).getTime())}}function n(t){e(t,1)}function r(){if(d){for(var t in p)p[t],c.emit("request",p[t]);d=!1,s=!0}}function o(t){s=!1;try{JSON.stringify(t)}catch(t){}}function a(){if(l.LastTime){var t=Math.round((new Date).getTime()),e=t-l.LastTime;f&&f(e)}else f&&f(Number.MAX_VALUE);setTimeout(a,1e3)}function i(t){return JSON.parse(JSON.stringify(t))}var s,c,l={},u={},p={},d=!0;if((t=t||"http://hq.huobi.com")&&window.socketInstanced&&window.socketInstanced[t])return socketInstanced[t];l.reg=function(t,e){if("object"==typeof t)if(t.symbolList)for(var n in t.symbolList)t.symbolList.hasOwnProperty(n)&&(u[n+t.symbolList[n][0].symbolId]=e);else t.msgType&&(u[t.msgType+t.symbolId]?u[t.msgType+t.symbolId].push(e):u[t.msgType+t.symbolId]=[e]);else u[t]?u[t].push(e):u[t]=[e]},l.help=function(){},l.fnList=u,l.msg=function(t,e){if("unMsg"===e)if(t.symbolList)for(var n in t.symbolList)t.symbolList.hasOwnProperty(n)&&delete p[n+t.symbolList[n][0].symbolId];else delete p[t];else if(t.symbolList)for(var r in t.symbolList)t.symbolList.hasOwnProperty(r)&&(p[r+t.symbolList[r][0].symbolId]=t);else t.msgType&&(p[t.msgType+t.symbolId]=t);s&&c.emit("request",t)},l.clearmsg=function(){p={}};var f;return l.Daemon=function(t){f=t},l.UnMsg=function(t){var e=i(t);e.msgType="reqMsgUnsubscribe",l.msg(e,"unMsg")},function(){c=io.connect(t,{"force new connection":0,"sync disconnect on unload":0,"reconnection delay":1e3,"reconnection delay max":5e3,"max reconnection attempts":999999}),c.on("request",n),c.on("message",e),c.on("connect",r),c.on("error",function(){console.warn("error",arguments)}),c.on("reconnect",function(){s=!0;for(var t in p)c.emit("request",p[t])}),c.on("disconnect",o),window.socketInstanced||(window.socketInstanced={}),window.socketInstanced[t]=l,l.conn=c,a()}(),HBCONN=l,HBCONN.msgList=p,l}function SOCKET_API(t){return{reqKLine:function(e,n,r,o){return{msg:{version:t||1,msgType:"reqKLine",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolId:e,from:r||0,to:o||-1,period:n},msgType:"reqKLine"}},lastKLine:function(e,n){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{lastKLine:[{symbolId:e,pushType:"pushLong",period:[n]}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{lastKLine:[{symbolId:e,pushType:"pushLong",period:[n]}]}},msgType:"lastKLine"}},reqMarketDetail:function(e){return{msg:{version:t||1,msgType:"reqMarketDetail",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolId:e},msgType:"reqMarketDetail"}},reqMarketDepthTop:function(e){return{msg:{version:t||1,msgType:"reqMarketDepthTop",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolId:e},msgType:"reqMarketDepthTop"}},marketDepth:function(e,n){return{msg:{version:t||1,msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolList:{marketDepth:[{symbolId:e,percent:n||10,pushType:"pushLong"}]}},msgType:"marketDepth"}},unMarketDepth:function(e,n){return{msg:{version:t||1,msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolList:{marketDepth:[{symbolId:e,percent:n||10,pushType:"pushLong"}]}},msgType:"UnMarketDepth"}},marketDepthTopShort:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDepthTopShort:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDepthTopShort"}},marketDepthTop:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDepthTop:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDepthTop"}},marketDetail:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDetail"}},marketDetail0:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail0:[{symbolId:e,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail0:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDetail0"}},marketDetail1:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail1:[{symbolId:e,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail1:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDetail1"}},marketDetail2:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail2:[{symbolId:e,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail2:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDetail2"}},marketDetail3:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail3:[{symbolId:e,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail3:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDetail3"}},marketDetail4:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail4:[{symbolId:e,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail4:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDetail4"}},marketDetail5:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail5:[{symbolId:e,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDetail5:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDetail5"}},marketDepthTopDiff:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDepthTopDiff:[{symbolId:e,pushType:"pushLong"}]}},unmsg:{msgType:"reqMsgUnsubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketDepthTopDiff:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketDepthTopDiff"}},tradeDetail:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{tradeDetail:[{symbolId:e,pushType:"pushLong"}]}},msgType:"tradeDetail"}},marketOverview:function(e){return{msg:{msgType:"reqMsgSubscribe",website:HRY.ver,symbol:CURRENT_SYMBOL,version:t||1,requestIndex:Date.now(),symbolList:{marketOverview:[{symbolId:e,pushType:"pushLong"}]}},msgType:"marketOverview"}},reqTradeDetailTop:function(e,n){return{msg:{version:t||1,msgType:"reqTradeDetailTop",website:HRY.ver,symbol:CURRENT_SYMBOL,requestIndex:Date.now(),symbolId:e,count:n||150},msgType:"reqTradeDetailTop"}}}}define("static/js/exchange/dist/script/page_panel",["./module_accurate","./module_number","./module_validator","./module_range","./module_order","jquery","./module_ajax","./module_tmpl","./module_md5","./module_cookie","./module_dialog","./module_hb_extend","./module_switch","./module_this_jack","./module_time","./page_trade_market","./module_connect","./module_socket_api","./module_socket_io"],function(t,e){function n(t,e){var n=document.getElementById(t)||document.getElementById("view_"+t);(rt[t]||document.getElementById("tmp_"+t)||n.getElementsByTagName("script")[0])&&(rt[t]=rt[t]?rt[t]:document.getElementById("tmp_"+t)?document.getElementById("tmp_"+t).innerHTML:n.getElementsByTagName("script")[0].innerHTML,n.innerHTML=F(rt[t],e))}function r(t){V=t?"PlaceMarketOrder":"PlaceOrder",z.trigger("__OrderType",[t])}function o(t,e){"PlaceOrder"===t?(z["#panel_wrap"].hasClass("market_price")&&z["#panel_wrap"].removeClass("market_price"),z["#panel_wrap"].find(".trade_amount").show()):"PlaceMarketOrder"===t&&(!z["#panel_wrap"].hasClass("market_price")&&z["#panel_wrap"].addClass("market_price"),z["#panel_wrap"].find(".trade_amount").hide()),z.order_type.val(V),ot.find("a").eq(e).addClass("cur").siblings().removeClass("cur")}function a(t){if("HBForm"===t.Type)return t;var e=$(t);return e.find("[name]").each(function(t,n){var r=$(n),o=r.attr("name");e[o]=r,e[o].Value=r.val()}),e.Type="HBForm",e}function i(t,e){return/\.$/.test(e)?T(e):"price"==t?T(e,3):T(e,4)}function s(t){var e=!1;if(c()){var n=t.find(".trade_pwd_group");n.is(":hidden")&&(n.show(),e=!0),$(".trade_pwd_group").each(function(){var t=$(this);t.is(":hidden")&&t.show()})}return e}function c(){var t=O.Cookie("trade_pwd_on"),e=O.Cookie("trade_pwd_time");return"0"!=t&&("1"==t||!e||"0"==e)}function l(t){function e(t,e,n,a,i){var s=[];return"buy"===r?(s[0]=n?A.Div(o?e[0]:t[0],n):0,s[0]=s[0]<a[0]?s[0]:a[0],s[1]=o?e[0]:t[0],s[1]=s[1]<i[0]?s[1]:i[0]):(s[2]=o?e[1]:t[1],s[2]=s[2]<a[1]?s[2]:a[1],s[3]=o?e[1]<i[1]?e[1]:i[1]:t[1]<i[1]?t[1]:i[1]),s}var n=t||{},r=n.trade_type,o=n.loan_type,a=n.price,i=n.available,s=A.Add(n.loan_enable,i),c=n.un_price,l=n.un_amount,u=[];switch(J){case"cny_btc":u=e([c||i,l||i],[s,s],a,[k.BuyBtc,k.SellBtc],[k.BuyBtcMp,k.SellBtcMp]),void 0!==u[0]&&(k.buyMaxAmount=u[0]),void 0!==u[1]&&(k.buyMaxAmountMp=u[1]),void 0!==u[2]&&(k.sellMaxAmount=u[2]),void 0!==u[3]&&(k.sellMaxAmountMp=u[3]);break;case"cny_ltc":u=e([c||i,l||i],[s,s],a,[k.BuyLtc,k.SellLtc],[k.BuyLtcMp,k.SellLtcMp]),void 0!==u[0]&&(k.buyMaxAmount=u[0]),void 0!==u[1]&&(k.buyMaxAmountMp=u[1]),void 0!==u[2]&&(k.sellMaxAmount=u[2]),void 0!==u[3]&&(k.sellMaxAmountMp=u[3]);break;case"usd_btc":u=e([c||i,l||i],[s,s],a,[k.BuyBtc,k.SellBtc],[k.BuyBtcMp,k.SellBtcMp]),void 0!==u[0]&&(k.buyMaxAmount=u[0]),void 0!==u[1]&&(k.buyMaxAmountMp=u[1]),void 0!==u[2]&&(k.sellMaxAmount=u[2]),void 0!==u[3]&&(k.sellMaxAmountMp=u[3]);break;case"usd_ltc":u=e([c||i,l||i],[s,s],a,[k.BuyLtc,k.SellLtc],[k.BuyLtcMp,k.SellLtcMp]),void 0!==u[0]&&(k.buyMaxAmount=u[0]),void 0!==u[1]&&(k.buyMaxAmountMp=u[1]),void 0!==u[2]&&(k.sellMaxAmount=u[2]),void 0!==u[3]&&(k.sellMaxAmountMp=u[3])}}function u(t,e,n){var r;return"PlaceOrder"===V?e&&t?(r=A.Mul(1*e,1*t),n&&n.html(T(r,3)).attr("actual",r)):(r=0,n&&n.html("0.00")):r=void 0!==t?t:e,r}function p(t,e,n,r,o){var a=0;return a="buy"===n?A.Sub(t[0],e)>0?A.Sub(t[0],e):0:A.Sub(t[1],e)>0?A.Sub(t[1],e):0,a=a>0&&a<C[o]?C[o]:a,"buy"===n?r&&r.html(b(T(a),"currency")).attr("data-amount",b(T(a),"currency")):r&&r.html(b(T(a),"coin")).attr("data-amount",b(T(a),"coin")),a}function d(t,e){return/\.$/.test(t)?T(t):T(t,e)}function f(){var t=this;t.FormatVal=function(e){var n=t.val();return n<0&&(n=0,t.val(n)),""==n||("price"==e?/^(([0-9]{1}\d*)|([0]{1}))(\.(\d){0,2})?$/:/^(([0-9]{1}\d*)|([0]{1}))(\.(\d){0,4})?$/).test(n)||(n=d(1*n,"price"==e?2:4),t.val(n)),1*n}}function h(t,e,n,r){var o=$(e),s=o.find(".range_ratio"),c=a(o.parents("form")),l=c.amount,u=c.market_amount,p=(c.transaction_amount,c.market_transaction_amount),d=t/100;d?s.show():s.hide(),s.css({left:t+"%"}),"PlaceOrder"===V||"edit"===r?"buy"===n?l.val(i("amount",A.Mul(k.buyMaxAmount,d))).change().trigger("__Focus"):l.val(i("amount",A.Mul(k.sellMaxAmount,d))).change().trigger("__Focus"):"buy"===n?p.val(i("price",A.Mul(k.buyMaxAmountMp,d))).change().trigger("__Focus"):u.val(i("amount",A.Mul(k.sellMaxAmountMp,d))).change().trigger("__Focus")}function m(t,e,n){var r=n&&e?n/e*100:0;t.Update(r)}function y(t,e,n,r){"buy"===t?(e&&e.html(T(k.buyMaxAmount,4)),n&&n.attr("data-max",T(k.buyMaxAmount,4)),r&&r.attr("data-max",T(k.buyMaxAmountMp,4))):(e&&e.html(T(k.sellMaxAmount,4)),n&&n.attr("data-max",T(k.sellMaxAmount,4)),r&&r.attr("data-max",T(k.sellMaxAmountMp,4)))}function _(t,e){var n=a(t),r=n.price,o=n.amount,i=n.find(".transaction_amount"),s=n.market_transaction_amount,c=n.market_amount,l=n.find(".loan_amount"),u=n.find(".trade_msg"),p=n.trade_pwd,d=n.loan_type,f=n.attr("data-form-type");n.find(":submit"),"all"===e&&r.val(""),o&&o.val("").change(),i&&i.html("0.00"),l&&l.html("0.00"),s&&s.val("").change(),c&&c.val("").change(),u&&u.html(""),p&&p.val("").removeClass("input_text_red"),d&&d.prop("checked",!1).attr("data-loan-state",0).trigger("__Update"),n.trigger_price&&n.trigger_price.val(""),n.order_price&&n.order_price.val(""),n.order_amount&&n.order_amount.val(""),"entrust"!==Q&&"edit"!=f&&(at.Reset(),it.Reset()),"edit"==f&&(st.Reset(),ct.Reset())}function g(){var t=[];return $.each(this,function(e,n){var r=$(this);t.push(r);var o=r.find(".mod_bd"),a=r.find(".trigger_fold"),i=a.attr("data-text")?a.attr("data-text").split(","):"",s=a.attr("data-state");r.Close=function(){o.hide(),a.attr("data-state","close").html(i[1]).removeClass("open"),s="close",O.Cookie("mod_fold"+e,0,{path:"/",expires:36500,domain:COOKIE_DOMAIN})},r.Open=function(){o.show(),a.attr("data-state","open").html(i[0]).addClass("open"),s="open",O.Cookie("mod_fold"+e,1,{path:"/",expires:36500,domain:COOKIE_DOMAIN})},r.Toggle=function(){"open"===s?r.Close():r.Open()},a.on("click",function(){r.Toggle()})}),t}function b(t,e){var n;return"currency"==e&&(n=Math.floor(100*t+.9)/100),"coin"==e&&(n=Math.floor(1e4*t+.9)/1e4),n}var v,w,k,x,C,A=(t("./page_common"),t("./module_accurate")),T=t("./module_number"),B=t("./module_validator"),S=t("./module_range"),M=t("./module_table"),L=t("./module_order"),O=t("./module_cookie"),E=t("./module_check_all"),D=t("./module_dialog"),R=t("./module_inform"),j=t("./module_md5"),N=t("./module_hb_extend"),I=t("./module_window"),U=t("./module_ajax"),q=t("./module_switch"),P=t("./module_md5"),H=t("./module_this_jack"),F=t("./module_tmpl"),Y=t("./module_time"),V="PlaceOrder",J="cny_btc",z=$(document);window.mNum=T,window.UTT=Y,k={buyMaxAmount:0,sellMaxAmount:0,buyMaxAmountMp:0,sellMaxAmountMp:0,BuyBtc:1e3,SellBtc:1e3,BuyLtc:2e4,SellLtc:2e4,BuyUsdBtc:1e3,SellUsdBtc:1e3,BuyUsdLtc:2e4,SellUsdLtc:2e4,BuyBtcMp:1e6,SellBtcMp:1e3,BuyLtcMp:1e6,SellLtcMp:2e4,BuyUsdBtcMp:1e5,SellUsdBtcMp:1e3,BuyUsdLtcMp:1e6,SellUsdLtcMp:2e4,LoanCny:100,LoanCnyBtc:1,LoanCnyLtc:100,LoanUsd:100,LoanUsdBtc:1},x={cny_loan_enable:0,cny_btc_loan_enable:0,cny_ltc_loan_enable:0,usd_usd_loan_enable:0,usd_btc_loan_enable:0,cny_loan_total:0,cny_btc_loan_total:0,cny_ltc_loan_total:0,usd_loan_total:0,usd_btc_loan_total:0},C={cny_cny:100,cny_btc:.1,cny_ltc:1,usd_usd:50,usd_btc:.1,usd_ltc:1},window.loanLimit=x,J=document.getElementsByName("coin_type")[0].value,v=J.split("_"),w=document.getElementsByName("_csrf")[0]&&document.getElementsByName("_csrf")[0].value,z["#panel_wrap"]=$("#panel_wrap"),z["#order_list"]=$("#order_list"),z["#history_list"]=$("#history_list"),z["#mod_order"]=$("#mod_order"),z["#mod_history"]=$("#mod_history"),z["#depth_top"]=$("#depth_top"),z[".form_trade"]=$(".form_trade"),z["#cny_cny_a_panel"]=$("#cny_cny_a_panel"),z["#cny_btc_a_panel"]=$("#cny_btc_a_panel"),z["#usd_usd_a_panel"]=$("#usd_usd_a_panel"),z["#usd_btc_a_panel"]=$("#usd_btc_a_panel"),z["#cny_ltc_a_panel"]=$("#cny_ltc_a_panel"),z["#cny_cny_l_panel"]=$("#cny_cny_l_panel"),z["#cny_btc_l_panel"]=$("#cny_btc_l_panel"),z["#cny_ltc_l_panel"]=$("#cny_ltc_l_panel"),z["#usd_usd_l_panel"]=$("#usd_usd_l_panel"),z["#usd_btc_l_panel"]=$("#usd_btc_l_panel"),z["#market"]=$("#market"),z.order_type=z["#panel_wrap"].find('[name="order_type"]'),z.coin_type=$('[name="coin_type"]').eq(0);var X=window.HUOBI.AJAX.GetBalance||null,K=z["#panel_wrap"].length>0?L.GetOrder({temp:"order_list_tmp",wrap:"order_list",coin_type:J,is_history:0,damp:!0},function(){W&&W.Fire()}):null,W=z["#panel_wrap"].length>0?L.GetOrder({temp:"history_list_tmp",wrap:"history_list",coin_type:J,is_history:1,delay:0}):null,G=function(t,e){if(!(z["#panel_wrap"].length<=0))return new U({url:"/loan/index.php",data:{a:"get_loan_available_multi",loan_types:t},init:e},function(t){switch(t.code){case"loading":case"error":break;case"success":var e,n=t.data;0===n.code&&n.ext&&($.each(n.ext,function(t,n){switch(e=1*n.enable,t){case"cny_cny":x.cny_loan_enable=e,x.cny_loan_total=A.Add(e,HUOBI.BALANCE.cny_available||0);break;case"cny_btc":x.cny_btc_loan_enable=e,x.cny_btc_loan_total=A.Add(e,HUOBI.BALANCE.cny_btc_available||0);break;case"cny_ltc":x.cny_ltc_loan_enable=e,x.cny_ltc_loan_total=A.Add(e,HUOBI.BALANCE.cny_ltc_available||0);break;case"usd_usd":x.usd_loan_enable=e,x.usd_loan_total=A.Add(e,HUOBI.BALANCE.usd_available||0);break;case"usd_btc":x.usd_btc_loan_enable=e,x.usd_btc_loan_total=A.Add(e,HUOBI.BALANCE.usd_btc_available||0)}}),z.trigger("__LoanUpdate"))}})},Z=function(t,e){var n=t||{},r=n.amount||0,o=n.loan_type;if(!(r<=0))return new U({url:"/loan/index.php",data:{a:"do_loan",loan_type:o,currency:r,_csrf:w,check:"on"},type:"POST",random:!1},function(t){e&&e(t)})};N({name:"AJAX",value:{GetOrder:K}}),N({name:"AJAX",value:{GetHistory:W}}),N({name:"DOM",value:z});var Q=z.coin_type.attr("data-page"),tt=G("cny_cny,cny_btc","cny_btc"==J),et=G("cny_cny,cny_ltc","cny_ltc"==J),nt=G("usd_usd,usd_btc","usd_btc"==J);z["#market"].length>0&&t("./page_trade_market"),z["#market"].on("click","li",function(){function t(){a.val(o).addClass("focus"),setTimeout(function(){a.removeClass("focus")},300)}var e=$(this),n=e.attr("data-price")?e.attr("data-price").split(","):[],o=n[0],a=$(".panel_wrap").find(".form_trade").find('[name="price"]');"PlaceOrder"===V?t():(r(0),t())});var rt={};q({Switch:".switch"});var ot=z["#panel_wrap"].find(".wrap_tabs");ot.on("click","a",function(){return r($(this).index()),!1}),B({forms:z[".form_trade"],tip:".trade_msg",beforeSend:function(t){z.trigger("__TradeFormBeforeSend",[t])},beforeValidation:function(t){z.trigger("__TradeFormValidation",[t])},beforeSubmit:function(t){var e=a(t),n=e.loan_type,r=n&&n.data("loan-type"),o=n&&1*n.attr("data-loan-state"),i=1*e.find(".loan_amount").attr("data-amount");if(i>0&&n.prop("checked"))switch(o){case 0:return z.trigger("__GetLoan",[e,r,i]),!1;case 1:return!1;case 2:break;case 3:default:return!1}z.trigger("__TradeFormBeforeSubmit",[e])},postData:function(t){var e=[];return console.log(t),$.each(t,function(t,n){var r="";""!=$.trim(n.value)&&(r=P.hbmd5($.trim(n.value))),"trade_pwd"!=n.name?e.push(n):e.push({name:"trade_pwd",value:r})}),e},callback:function(t,e){z.trigger("__TradeFormCallback",[e,t])},ajaxError:function(t){z.trigger("__TradeFormError",[t])}});var at=new S({range:".range_buy",step:1,point:4,slide:function(t,e){h(t,e,"buy")}}),it=new S({range:".range_sell",step:1,point:4,slide:function(t,e){h(t,e,"sell")}}),st=new S({range:".range_edit_buy",step:1,point:4,slide:function(t,e){h(t,e,"buy","edit")}}),ct=new S({range:".range_edit_sell",step:1,point:4,slide:function(t,e){h(t,e,"sell","edit")}});z["#order_list"].on("click",".cancel",function(){var t=$(this),e=t.attr("data-ids"),n=t.parents("tr"),r=$(".check_all");return!(1*t.attr("data-init")||(t.attr("data-init",1),L.CancelOrder({coin_type:J,id:e},function(e){"loading"==e.code?(n.addClass("cancel"),K&&K.Stop()):"error"==e.code?(n.hasClass("cancel")&&n.removeClass("cancel"),t.attr("data-init",0),R({msg:window.Texts&&Texts.NetworkError,type:"error",delay:1800}),K&&K.Play()):(0===e.code?(n.next(".hidden_info").remove(),n.remove(),r.prop("checked",!1),"entrust"==Q&&I.reload(1),z.trigger("__OrderCancel")):(R({msg:e.msg,type:"error"}),t.attr("data-init",0),n.hasClass("cancel")&&n.removeClass("cancel")),K&&K.Play())}),1))});var lt=[],ut=$(".check_info"),pt=$("#orderCancel");E({box:".order_wrap"},function(t){var e=t||[];ut.html(e.length),lt=e}),pt.click(function(){var t,e=$(this),n=$(".check_all"),r=e.attr("data-msg-null"),o=z["#order_list"].find("tr");return!(1*e.attr("data-init")||(lt.length<=0?R({msg:r,type:"error"}):L.CancelOrder({coin_type:J,id:lt},function(r){"loading"==r.code?(e.attr("data-init",1),$.each(lt,function(e,n){t=$('[value="'+n+'"]').parents("tr"),t.addClass("cancel")})):"error"==r.code?(e.attr("data-init",0),o.hasClass("cancel")&&o.removeClass("cancel"),R({msg:window.Texts&&Texts.NetworkError,type:"error",delay:1800})):(e.attr("data-init",0),0==r.code?(n.prop("checked",!1),t=$("tr.cancel"),t.next(".hidden_info").remove(),t.remove(),lt=[],"entrust"==Q&&I.reload(1),z.trigger("__OrderCancel")):(R({msg:r.msg,type:"error"}),o.hasClass("cancel")&&o.removeClass("cancel")))}),1))});var dt=H(g,$(".mod_fold"));M({table:".multi_table"},function(t,e,n){var r=e.attr("data-ids"),o=e.attr("data-type");"show"===n&&L.GetDetails({coin_type:J,id:r,type:o,temp:"details_tmp",wrap:t[0]})});var ft=new D({dialog:".edit_dialog"});z["#order_list"].on("click",".edit",function(){var t=$(this),e=t.parents("tr"),n=t.attr("data-ids"),r=1*$.trim(e.find(".order_price").html()),o=1*$.trim(e.find(".order_amount").html()),i=1*$.trim(e.find(".order_unsettled").html()),s=t.attr("data-type"),c=A.Mul(r,i);return ft.Show(function(t){var e,l,u,p,d,f,h,m,y=t.find(".trade_msg"),_=t.find(".input_text_red"),g=t.find("form");e=a("buy"===s?t.find(".form_buy_edit"):t.find(".form_sell_edit")),l=e.id,u=e.price,p=e.amount,d=e.find(".un_price"),f=e.find(".un_amount"),h=1*e.find(".available").attr("data-flaunt"),m=e.find(".transaction_amount"),e._DTA=m,g.hide(),e.show(),l.val(n),u.val(T(r,3)),p.val(T(i,4)),d&&d.html(A.Add(c,h)).attr("data-unsettled",c),f&&f.html(A.Add(i,h)).attr("data-unsettled",i),y.html(""),_.removeClass("input_text_red"),z.trigger("__FormChange",[e,r,o,"edit"+s]),z.trigger("__FormMax",[e,{trade_type:s,available:h,price:r,un_price:"buy"===s&&A.Add(c,h),un_amount:"sell"===s&&A.Add(i,h)},"edit"+s]),st.Reset(),ct.Reset()}),!1});var ht,mt="plan_order_list",yt=$(".plan_panel").length,_t=yt&&new U({url:"/trade/get_trade_plan_list",datatype:"json",refresh:3e3,data:{symbol:v[1]+v[0],status:0}},function(t){switch(t.code){case"loading":break;case"error":n(mt,{network:!1});break;case"success":if(t.data.network=!0,!t.data.data||!t.data.data.list||t.data.data.list.length<1)_t.Stop(),console.log("PlanList Stop");else{var e=j.md5(JSON.stringify(t.data.data.list));e!==ht&&(K&&K.Fire(),ht=e)}n(mt,t.data)}}),gt=function(t,e){var n=t,r=n.id;U({url:"/trade/trade_plan_cancel",data:{id:r}},function(t){switch(t.code){case"loading":case"error":e&&e(t);break;case"success":e&&e(t.data)}})},bt=$("#plan_dialog"),vt=yt&&new D({dialog:bt},function(t,e){"close"===e&&_(t.find("form"))});!function(){function t(t){var e,r,a,c;return s=1*n.trigger_price.val(),i=1*n.trade_type.val(),o=1*n.order_amount.val(),a=t.attr("data-msg").split(","),o&&o<.1?(r=.01*s,c=["101%","99%"]):(r=.1*s,c=["110%","90%"]),1===i&&(e=T(s+r,3),t.attr({"data-max":e,"data-min":.01,"data-msg-error":a[0]+","+a[1]+a[3]+","+a[2]+a[4].replace("**",c[0])})),2===i&&(e=T(s-r),t.attr({"data-min":e,"data-max":1e5,"data-msg-error":a[0]+","+a[1]+a[4].replace("**",c[1])+","+a[2]+a[3]})),e}function e(){1==i?c.addClass("btn_buy").removeClass("btn_sell").text(l[0]):2==i&&c.addClass("btn_sell").removeClass("btn_buy").text(l[1])}if(yt){var n=a(bt.find(".form_trade")),r=n.order_price.Value,o=n.order_amount.Value,i=1*n.trade_type.Value,s=1*n.trigger_price.Value,c=n.find(":submit"),l=c.data("msg-submit").split(","),u=$("#"+mt);n._DTA=n.find(".transaction_amount"),H(f,n.order_price),H(f,n.order_amount),H(f,n.trigger_price),$("#plan_panel").click(function(){vt.Show()}),n.trigger_price.on("keyup",function(){n.trigger_price.FormatVal("price")}).on("change",function(){t(n.order_price)}).blur(function(){0==n.trigger_price.val()&&n.trigger_price.val("")}),n.order_price.on("keyup",function(){r=n.order_price.FormatVal("price"),z.trigger("__FormChange",[n,r,o])}).on("change",function(){t(n.order_price)}).blur(function(){0==n.order_price.val()&&n.order_price.val("")}),n.order_amount.on("keyup",function(){o=n.order_amount.FormatVal("amount"),z.trigger("__FormChange",[n,r,o])}).on("change",function(){t(n.order_price)}).blur(function(){0==n.order_amount.val()&&n.order_amount.val("")}),n.trade_type.on("change",function(){i=$(this).val(),e(),t(n.order_price)}),e(),u.on("click",".cancel",function(){var t=$(this),e=$(this).attr("data-ids"),n=t.parents("tr");return gt({id:e},function(t){"loading"==t.code?n.addClass("cancel"):"error"==t.code?(n.hasClass("cancel")&&n.removeClass("cancel"),R({msg:window.Texts&&Texts.NetworkError,type:"error",delay:1800})):0===t.code?(n.remove(),_t.Fire()):(R({msg:t.msg,type:"error"}),n.hasClass("cancel")&&n.removeClass("cancel"))}),!1})}}(),function(t){t.each(function(){var t,e,n,r,o,i,s,c,l=a($(this)),u=l.attr("data-form-type"),p=l.attr("data-trade-type"),d=l.price,h=l.amount,y=l.find(".transaction_amount"),_=l.market_amount,g=l.market_transaction_amount,b=l.find(".max_amount"),v=b.parent(),w=b.find("b"),x=l.loan_type,C=l.find(".loan_amount_wrap"),A=l.find(".trade_amount"),T=l.find(".loan_amount"),B=(l.find("[data-ratio]"),l.find(".available")),S=l.find(".un_price"),M=l.find(".un_amount"),L=l.find(".loan_available"),O=l.find(".range_wrap"),E=l.find(".credit_bar"),D=x&&x.attr("data-loan-type");l._DMax=b,l._DMaxB=w,l._type=p,l._DLA=T,l._DTA=y,l._VLT=D,H(f,d),H(f,h),H(f,g),H(f,_),d&&d.on("keyup",function(){e=1*d.val(),n=1*h.val(),c=1*L.attr("data-enable"),d.FormatVal("price"),"buy"===p&&(i=1*S.html(),s=1*M.html(),z.trigger("__FormMax",[l,{trade_type:p,loan_type:x&&x.prop("checked"),price:1*e,available:1*B.attr("data-flaunt"),un_price:i,un_amount:s,loan_enable:c},"price keyup"])),h.trigger("change")}).blur(function(){0==e&&d.val("")}),h&&h.on("keyup",function(){e=1*d.val(),n=1*h.val(),l._VAV=1*B.attr("data-flaunt"),h.FormatVal("amount"),"buy"===p?"edit"==u?m(st,k.buyMaxAmount,n):m(at,k.buyMaxAmount,n):"edit"==u?m(ct,k.sellMaxAmount,n):m(it,k.sellMaxAmount,n),e=1*d.val(),n=1*h.val(),z.trigger("__FormChange",[l,e,n,"amount keyup"])}).on("focus",function(){i=1*S.html(),s=1*M.html(),e=d.val(),c=1*L.attr("data-enable"),!l._AM&&z.trigger("__FormMax",[l,{trade_type:p,loan_type:x&&x.prop("checked"),price:1*e,available:1*B.attr("data-flaunt"),un_price:i,un_amount:s,loan_enable:c},"amount focus"]),v.addClass("focus")}).blur(function(){v.removeClass("focus"),0==n&&h.val("")}).change(function(){e=d.val(),n=h.val(),l._VAV=1*B.attr("data-flaunt"),z.trigger("__FormChange",[l,e,n,"amount change"])}),g&&g.on("keyup",function(){o=g.val(),g.FormatVal("price"),l._VAV=1*B.attr("data-flaunt"),"edit"!==u&&m(at,k.buyMaxAmountMp,o),z.trigger("__FormChange",[l,o,n,"market_transaction_amount keyup"])}).change(function(){o=1*g.val(),l._VAV=1*B.attr("data-flaunt"),z.trigger("__FormChange",[l,o,n,"market_transaction_amount change"])}),_&&_.on("keyup",function(){r=_.val(),_.FormatVal("amount"),l._VAV=1*B.attr("data-flaunt"),"edit"!==u&&m(it,k.sellMaxAmountMp,r),z.trigger("__FormChange",[l,e,r,"market_amount keyup"])}).change(function(){r=_.val(),l._VAV=1*B.attr("data-flaunt"),z.trigger("__FormChange",[l,e,r,"market_amount change"])}),x&&x.change(function(){i=1*S.html(),s=1*M.html(),t=x.prop("checked"),c=1*L.attr("data-enable"),t&&z.trigger("__UpLoan",[J,"loan_type change"]),z.trigger("__FormMax",[l,{trade_type:p,loan_type:t,price:1*e,available:1*B.attr("data-flaunt"),un_price:i,un_amount:s,loan_enable:c},"loan change"]),l._VAV=1*B.attr("data-flaunt"),"buy"===p?"PlaceOrder"===V?"edit"!==u&&m(at,k.buyMaxAmount,n):"edit"!==u&&m(at,k.buyMaxAmountMp,n):"PlaceOrder"===V?"edit"!==u&&m(it,k.sellMaxAmount,n):"edit"!==u&&m(at,k.sellMaxAmountMp,n),t?(C.show(),A.show(),E.removeClass("disabled")):(C.hide(),"PlaceMarketOrder"===V&&A.hide(),E.addClass("disabled"))}),O.focus(function(){v.addClass("focus")}).blur(function(){v.removeClass("focus")}).on("focus ",function(){i=1*S.html(),s=1*M.html(),e=d.val(),c=1*L.attr("data-enable"),z.trigger("__FormMax",[l,{trade_type:p,loan_type:x&&x.prop("checked"),price:1*e,available:1*B.attr("data-flaunt"),un_price:i,un_amount:s,loan_enable:c}," range slide"])}),l.on("__FormActive",function(t){d&&(i=1*S.html(),s=1*M.html(),e=d.val(),c=1*L.attr("data-enable"),z.trigger("__FormMax",[l,{trade_type:p,loan_type:x&&x.prop("checked"),price:1*e,available:1*B.attr("data-flaunt"),un_price:i,un_amount:s,loan_enable:c},"Form Active"]))})})}(z[".form_trade"]),z.on("DoDocHidden",function(){HUOBI.GLOBAL.docHidden?K&&K.Stop():K&&K.Play()}).on("__GetBalance",function(t){var e=T(HUOBI.BALANCE.cny_available,2).split("."),n=T(HUOBI.BALANCE.cny_btc_available,3).split("."),r=T(HUOBI.BALANCE.cny_ltc_available,4).split("."),o=T(HUOBI.BALANCE.usd_available,2).split("."),a=T(HUOBI.BALANCE.usd_btc_available,4).split(".");z["#cny_cny_a_panel"].attr("data-flaunt",HUOBI.BALANCE.cny_available).html("<b>"+e[0]+"</b>."+e[1]),z["#cny_btc_a_panel"].attr("data-flaunt",HUOBI.BALANCE.cny_btc_available).html("<b>"+n[0]+"</b>."+n[1]),z["#cny_ltc_a_panel"].attr("data-flaunt",HUOBI.BALANCE.cny_ltc_available).html("<b>"+r[0]+"</b>."+r[1]),z["#usd_usd_a_panel"].attr("data-flaunt",HUOBI.BALANCE.usd_available).html("<b>"+o[0]+"</b>."+o[1]),z["#usd_btc_a_panel"].attr("data-flaunt",HUOBI.BALANCE.usd_btc_available).html("<b>"+a[0]+"</b>."+a[1])}).on("__LoanUpdate",function(t){z["#cny_cny_l_panel"].html(T(x.cny_loan_enable,2)).attr({"data-enable":x.cny_loan_enable,"data-total":x.cny_loan_total}),z["#cny_btc_l_panel"].html(T(x.cny_btc_loan_enable,4)).attr({"data-enable":x.cny_btc_loan_enable,"data-total":x.cny_btc_loan_total}),z["#cny_ltc_l_panel"].html(T(x.cny_ltc_loan_enable,4)).attr({"data-enable":x.cny_ltc_loan_enable,"data-total":x.cny_ltc_loan_total}),z["#usd_usd_l_panel"].html(T(x.usd_loan_enable,2)).attr({"data-enable":x.usd_loan_enable,"data-total":x.usd_loan_total}),z["#usd_btc_l_panel"].html(T(x.usd_btc_loan_enable,4)).attr({"data-enable":x.usd_btc_loan_enable,"data-total":x.usd_btc_loan_total}),$.each(x,function(t,e){if(t.indexOf("_loan_enable")>0){var n=t.replace("_loan_enable",""),r=$("#"+n+"_loan_switch");e?r.prop("disabled",!1).trigger("__Update"):r.prop("disabled",!0).trigger("__Update")}})}).on("__OrderType",function(t,e){o(V,e),_(z[".form_trade"].eq(0)),_(z[".form_trade"].eq(1))}).on("__FormChange",function(t,e,n,r,o){var a=u(n,r,e._DTA),i=e.find('[name="loan_type"]');p([a,r],e._VAV,e._type,e._DLA,e._VLT),i.attr("data-loan-state",0)}).on("__FormMax",function(t,e,n,r){l(n),y(e._type,e._DMaxB,e.amount,e.market_transaction_amount||e.market_amount)}),z.on("__TradeFormValidation",function(t,e){e.trigger("__FormActive")}).on("__TradeFormBeforeSubmit",function(t,e){var n=e.attr("data-form-type"),r=e.find(":submit"),o=r.data("msg-submit").split(","),a=(r.text(),e.find('[name="trade_type"]').val());if("plan"===n?a&&(1==a?r.text(o[0]+o[2]):r.text(o[1]+o[2])):r.text(o[1]+o[o.length-1]),s(e))return!1}).on("__TradeFormCallback",function(t,e,n){var r=e.attr("data-form-type"),o=e.find(":submit"),a=o.data("msg-submit").split(","),i=(o.text(),e.find('[name="trade_type"]').val());0==n.code?(c()||$(".trade_pwd_group").hide(),"edit"===r&&(ft.Close(),"entrust"==Q&&I.reload(1)),"plan"===r?(_t.Fire(),_t.Play(),vt.Close(),dt[0].Close(),dt[1].Close(),i&&(1==i?o.text(a[0]):o.text(a[1]))):(o.text(a[0]),W&&("PlaceMarketOrder"===V?setTimeout(function(){W.Fire()},1e3):setTimeout(function(){W.Fire()},500))),K&&K.Play(),_(e),R({msg:n.msg,delay:3e3})):("plan"===r?i&&(1==i?o.text(a[0]):o.text(a[1])):o.text(a[0]),R({msg:n.msg,type:"error"})),X.Fire()}).on("__TradeFormError",function(t,e){var n=(e.attr("data-form-type"),e.find(":submit")),r=n.data("msg-submit").split(",");R({msg:window.Texts&&Texts.NetworkError,type:"error"}),n.text(r[0])}).on("__GetLoan",function(t,e,n,r){
var o,a=e,i=a.loan_type,s=i.data("loan-type"),c=e.find(":submit"),l=c.data("msg-submit").split(",");Z({loan_type:s,amount:r},function(t){switch(t.code){case"loading":i.attr("data-loan-state",1),c.text(l[2]+l[3]);break;case"error":i.attr("data-loan-state",0);break;case"success":if(o=t.data,0===o.code){i.attr("data-loan-state",2),X.Fire(),z.trigger("__UpLoan",[J,"loan success"]),e.submit();break}R({msg:o.msg,type:"error"}),i.attr("data-loan-state",0),c.text(l[0])}})}).on("__UpLoan",function(t,e,n){switch(e){case"cny_btc":tt.Fire();break;case"cny_ltc":et.Fire();break;case"usd_btc":nt.Fire()}}).on("__OrderCancel",function(t){_(z[".form_trade"].eq(0)),_(z[".form_trade"].eq(1)),setTimeout(function(){z.trigger("__UpLoan",[J,"Order Cancel"])},500)})}),function(){var t={Add:function(t,e){if(void 0!=t&&void 0!=e){var n,r,o,a=this.Mul;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{r=e.toString().split(".")[1].length}catch(t){r=0}return o=Math.pow(10,Math.max(n,r)),(a(t,o)+a(e,o))/o}},Sub:function(t,e){if(void 0!=t&&void 0!=e){var n,r,o,a,i=this.Mul;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{r=e.toString().split(".")[1].length}catch(t){r=0}return o=Math.pow(10,Math.max(n,r)),a=n>=r?n:r,((i(t,o)-i(e,o))/o).toFixed(a)}},format_number:function(t){return(t.toFixed(0)+"").replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")},BtcRound:function(t,e){for(var n,r=1,o=0;o<e;o++)r*=10;return n=t*r,(n=Math.round(n))/r},Mul:function(t,e){if(void 0!=t&&void 0!=e){var n=0,r=t.toString(),o=e.toString();try{n+=r.split(".")[1].length}catch(t){}try{n+=o.split(".")[1].length}catch(t){}return Number(r.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,n)}},Div:function(t,e){if(void 0!=t&&void 0!=e){var n=0,r=0;try{n=t.toString().split(".")[1].length}catch(t){}try{r=e.toString().split(".")[1].length}catch(t){}return Number(t.toString().replace(".",""))/Number(e.toString().replace(".",""))*Math.pow(10,r-n)}}};"function"==typeof define?define("static/js/exchange/dist/script/module_accurate",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.BitAcc=t}(),function(){function t(t,e){if(void 0!=t){var n=function(t){var e,n,r,o,a,i,s="string"==typeof t?t.toLowerCase().replace(/\s/g,""):t.toString().toLowerCase().replace(/\s/g,""),c="000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";return/e[+-]/.test(s)?(n=/\+/.test(s),r=s.split("e"),e=/\-/.test(r[0].toString())?"-0.":"0.",r[0]=r[0].replace("-",""),o=r[0].split(".")[1]?r[0].split(".")[1].length:0,a=r[1],i=a.split(n?"+":"-")[1],r=r[0].replace(".",""),n?r+c.substring(0,i-o):e+c.substring(0,i-1)+r):s}(t),r=n.indexOf("."),o=0,a=0;if(isNaN(parseFloat(n)))a=0;else if(isNaN(n))a=parseFloat(n);else if(void 0!==e)if(r>=0){if((o=n.substring(r+1,n.length).length)<e){for(var i=0;i<e-o;i++)n+="0";a=0==r?"0"+n:n}else{var s=n.substring(0,e+1+r);a=0==r?"0"+s:s}e<=0&&(a=parseInt(t))}else if(e>0){n+=".";for(var c=0;c<e;c++)n+="0";a=n}else e<=0&&(a=n);else a=Number(n);return a}}"function"==typeof define?define("static/js/exchange/dist/script/module_number",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.BitNumber=t}(),function(window){var BitValidator=function(options){var _language={error:L("错误"),success:L("校验通过"),undefined:L("未定义"),error_min:L("数值小于"),error_max:L("数值大于"),error_submit:L("表单提交出错"),error_input:L("输入错误"),error_null:L("请输入信息")},_dataType={"*":/[\w\W]+/,n:/^\d+\.?\d*$/,s:/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]+$/,m:/^1[0-9]{10}$/,p:/^[0-9]{5,11}$/,e:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/,ZEN:/^(?!_)(?!.*?_$)([a-zA-Z0-9_.\u4e00-\u9fa5\s])*$/,NAME:/^(?!_)(?!.*?_$)([·a-zA-Z_.\u4e00-\u9fa5\s])*$/,EN:/^(?!_)(?!.*?_$)([a-zA-Z_\s.])*$/,NEN:/^(?!_\-)(?!.*?_$)([a-zA-Z0-9\s\,\'.])*$/,SPE:/^([^\/\\/:<>!\*\|"\?\$\=])*$/,pwd:/(?!\d+$)[\dA-Za-z\W]/,num_range:function(t){var e=Number($(t).attr("data-min")),n=Number($(t).attr("data-max")),r=$(t).attr("data-msg-error")?$(t).attr("data-msg-error").split(","):[],o=$(t).val();return!!/^\d+\.?\d*$/.test(o)&&(o<e?r[1]?r[1].indexOf("@@")>0?r[1].replace("@@",e):r[1]:_language.error_min+e:!(o>n)||(r[2]?r[2].indexOf("@@")>0?r[2].replace("@@",n):r[2]:_language.error_max+n))},compare:function(t){var e=$(t),n=e.parents("form"),r=e.val(),o=e.data("compare");return r==(/^\./.test(o)?n.find(o).val():n.find('[name="'+o+'"]').val())}},_default={forms:null,beforeSend:null,process:null,beforeValidation:null,beforeSubmit:null,formSubmit:null,callback:null,single:null,changes:null,ignoreHidden:!0,ajaxPost:!0,ajaxError:null,instant:!1,postData:null,tip:"",is_focus:!0,dataType:{}},_class={class_name:{input:{default:"input_text",success:"",error:"input_text_red"},msg:{default:"v_info",success:"v_success",error:"v_error"}}},_option=$.extend(_default,_class,options),_data_type=$.extend(_dataType,_option.dataType,$.ValidatorDataType),_form=$(options.forms),_record=!1,_init={fn_init:function(t){t.attr("validator","true");var e=t.find(":submit");e.prop("disabled")&&!e.data("disabled")&&e.prop("disabled",!1),_option.beforeSend&&_option.beforeSend(t),_option.instant?t.on("change",function(e){_init.fn_find(t)}):t.on("change",function(e){_init.fn_msg(e.target,3),_option.changes&&_option.changes(e.target,t)}),t.submit(function(){return _option.beforeValidation&&_option.beforeValidation($(this)),_init.fn_find($(this))?!1!==(_option.beforeSubmit&&_option.beforeSubmit($(this)))&&(_option.ajaxPost?(_init.fn_ajax($(this)),!1):void 0):(_option.process&&_option.process(),!1)})},fn_find:function(t){var e=[],n=null,r=null,o=null;return t.find("[data-type]").length>0?t.find("[data-type]").each(function(a,i){var s=$(i),c=s.data("must");return e=_init.fn_check(s,_init.fn_value(s,t),s.data("type")),n=s,r=s.data("ignore"),o=s.data("handle"),!!($(n).is(":hidden")&&_option.ignoreHidden&&void 0===o||$(n).attr("disabled")&&!c||$(n).attr("readonly")&&!c)||"empty"===r&&1==e[0]||"ignore"===r||(_option.single&&_option.single([n,e[0]]),1==e[0]&&_init.fn_msg(i,1),2==e[0]&&_init.fn_msg(i,2,e[1]),3==e[0]&&_init.fn_msg(i,3),0!=e[0]?(_record=!1,!1):(e[1]?_init.fn_msg(i,0,e[1]):_init.fn_msg(i,0),void(_record=!0)))}):_record=!0,_record},fn_value:function(t,e){var n;return t.is(":radio")?(n=e.find(":radio[name='"+t.attr("name")+"']:checked").val(),n=void 0===n?"":n):t.is(":checkbox")?(e.find(":checkbox[name='"+t.attr("name")+"']:checked").each(function(){n+=$(this).val()+","}),n=void 0===n?"":n):n=t.val(),$.trim(n)},fn_data_type:function(type){var _type=type,_reg=/\/.+\//g,_match=/^(.+?)(\d+)-(\d+)$/,_multi_reg=/^(.+?)(,|$|\||\s)(.+?)$/,_multi=/\/.+?\/[mgi]*(?=(,|$|\||\s))|[\w\*-]+/g,_rule=null;if(_reg.test(_type))_rule=[0,eval(_type)];else if(_data_type[_type]||!_type.match(_match)||_multi_reg.test(_type)){if(_data_type[_type])_rule="function"==typeof _data_type[_type]?[1,_data_type[_type]]:[2,_data_type[_type]];else if(_multi_reg.test(_type)){var _arr=[[]],_mark=_type.replace(_multi,"").replace(/\s*/g,"").split(""),_item=_type.match(_multi),_m=0;_arr[0].push(_item[0]);for(var _n=0;_n<_mark.length;_n++)"|"==_mark[_n]&&(_m++,_arr[_m]=[]),_arr[_m].push(_item[_n+1]);_rule=[4,_arr]}}else{var _temp=_type.match(_match);_rule=[3,_data_type[_temp[1]],_temp[2],_temp[3]]}if(!_rule)return alert(_type+_language.undefined),!1;if("4"==_rule[0]){var _it,_its,_rules=_rule[1];if(_rules.length>1)for(_it in _rules)for(_its in _rules[_it]){var _items=_rules[_it][_its];_data_type[_items]||_data_type[_items.match(_match)[1]]||(alert("l276 "+_items+_language.undefined),_rule=!1)}}return _rule},fn_check:function(t,e,n){function r(n){var r=[];if(""==$.trim(e))r[0]=1;else{if("0"!=n[0]&&"2"!=n[0]||(n[1].test(e)?r[0]=0:($(t).change(function(){n[1].test($(this).val())&&_init.fn_msg(t,0)}),r[0]=2)),"1"==n[0]){"string"==typeof n[1](t)?($(t).change(function(){n[1](t)&&_init.fn_msg(t,0)}),r=[2,n[1](t)]):n[1](t)?r[0]=0:r[0]=2}"3"==n[0]&&(n[1].test(e)?e.length<Number(n[2])||e.length>Number(n[3])?r[0]=2:r[0]=0:r[0]=2)}return r}var o=t,a=[],i=_init.fn_data_type(o.data("type")),s=null;if(i){if("4"==i[0])for(var c=0;c<i[1].length;c++){for(var l=0;l<i[1][c].length&&(s=_init.fn_data_type(i[1][c][l]),a=r(s),"0"==a[0]);l++);if("0"==a[0])break}else a=r(i);return a}return!1},fn_ajax:function(t){var e,n,r;e=t.attr("action"),r=t.attr("method")||"post",n=_option.postData?_option.postData(t.serializeArray()):t.serializeArray();var o=!0;1==t.attr("data-async")&&(o=!1),$.ajax({url:e,type:r,async:o,data:n,beforeSend:function(){},success:function(e){_option.callback&&_option.callback(e,t)},error:function(){_option.ajaxError&&_option.ajaxError(t),console.log(_language.error_submit)}})},fn_msg:function(t,e,n){var r,o,a,i=$(t).parents("form"),s=_option.tip?i.find(_option.tip):$(t).closest(".group").find("."+_option.class_name.msg.default),c=_option.class_name.msg.success,l=_option.class_name.msg.error,u=_option.class_name.input.success,p=_option.class_name.input.error;switch(r=$(t).data("msg-null")||_language.error_null,o=$(t).data("msg-error")||_language.error_input,a=$(t).data("msg-success")||"",o=/(.),(.)/.test(o)?o.split(",")[0]:o,n&&(o=n),e){case 0:$(t).removeClass(p).addClass(u),s.removeClass(l).addClass(c).html(a);break;case 1:_option.is_focus&&$(t).removeClass(u).addClass(p).focus(),s.removeClass(c).addClass(l).html(r);break;case 2:_option.is_focus&&$(t).removeClass(u).addClass(p).focus(),s.removeClass(c).addClass(l).html(o);break;case 3:$(t).removeClass(p),s.removeClass(l).html("")}}};_form&&_form.length>0&&_form.each(function(){var t=$(this);!t.attr("validator")&&_init.fn_init(t)})};"function"==typeof define?define("static/js/exchange/dist/script/module_validator",[],function(){return BitValidator}):"undefined"!=typeof exports?module.exports=BitValidator:window.BitValidator=BitValidator}(window),function(t){BitRange=function(e){function n(t,e){for(var n=t,r=0;r<e-1;r++)n+=t;return $(n)}function r(){A=n(A,x),C.paths.append(A)}function o(){var t=100/b,e=0;T=n(T,b+1),T.each(function(n,r){$(r).css("left",e+"%").attr("data-point-ratio",e),e+=t}),C.points.append(T)}function a(t,e){C.ratio=t.pageX?i(t.pageX):t,(C.is(":focus")||C.hasClass("click"))&&k.rangeMouseup&&C.trigger("__rangeSlide",[e])}function i(t){return s(c((t-y._left)/y._width*100))}function s(t){return t<=0?t=0:t>=100&&(t=100),t}function c(t){var e=(t-0)%g,n=t-e;return parseFloat(g?n.toFixed(5):t.toFixed(5))}function l(t){k._delayMet||(t&&t(),k._Delay=setTimeout(function(){k._delayMet=!1},w),k._delayMet=!0)}function u(){C.handle.css({left:C.ratio+"%"}),C.track.css({width:C.ratio+"%"}),C.attr("data-ratio",C.ratio),T.each(function(t,e){var n=$(e),r=$(e).data("point-ratio");C.ratio>=r?n.addClass("active"):n.removeClass("active")})}function p(t,e){void 0!==t&&(C.ratio=s(c(t))),e&&C.trigger("__rangeSlide"),u()}function d(){C.ratio=0,u()}var f,h,m=e||{},y=$(m.range),_=m.value||{min:0,max:100},g=1*m.step||0,b=1*m.point||0,v=m.slide,w=m.delay||10,k=$(this),x="object"==typeof _.max?_.max.length:1,C=$('<div class="range_wrap" data-ratio="0" tabindex="0"><div class="range_paths_wrap"></div><div class="range_track_wrap"><div class="range_track"></div><div class="range_handle"></div></div><div class="range_points_wrap"></div></div>'),A='<div class="range_path"></div>',T='<div class="range_point"></div>',B=$(document);C.trackWrap=C.find(".range_track_wrap"),C.track=C.find(".range_track"),C.handle=C.find(".range_handle"),C.paths=C.find(".range_paths_wrap"),C.points=C.find(".range_points_wrap"),C.ratio=0,y.length<=0||(function(){y.append(C),y._width=y.width()||y.parent().width()||y.parent().parent().width(),y._left=y.offset().left,h=y._width-C.handle.width()/2,C.trackWrap.width(h),C.points.width(h),b&&o(),r()}(),B.mousemove(function(t){l(function(){k.rangeMouseup&&a(t)})}),C.mousedown(function(t){C.trigger("focus"),k.rangeMouseup=!0;var e=t.target.getAttribute("data-point-ratio"),n=t.target==C.handle[0];e?(k.pointDown=!0,n?a(1*e,0):a(1*e)):(k.pointDown=!1,n?a(t,0):a(t)),C.addClass("click"),void 0!==document.onselectstart&&(document.onselectstart=new Function("return false"))}),C.hover(function(){C.addClass("hover"),y._left=y.offset().left},function(){C.removeClass("hover")}),B.mouseup(function(){k.rangeMouseup=!1,C.removeClass("click"),void 0!==document.onselectstart&&(document.onselectstart=new Function("return true"))}),C.on("__rangeSlide",function(t){u(),f=C.ratio,t&&v&&v(f,y)}).on("focus",function(){C.addClass("focus")}).on("blur",function(){C.removeClass("focus")}).on("keydown",function(t){switch(t.which){case 37:t.shiftKey?C.ratio-=10:C.ratio--;break;case 39:t.shiftKey?C.ratio+=10:C.ratio++;break;default:return}a(s(C.ratio)),u(),f=C.ratio,v&&v(f,y)}),$(t).on("resize",function(){y._width=y.width(),y._left=y.offset().left,h=y._width-C.handle.width()/2,C.trackWrap.width(h),C.points.width(h)}),this.Range=C,this.Update=p,this.Reset=d)},"function"==typeof define?define("static/js/exchange/dist/script/module_range",[],function(){return BitRange}):"undefined"!=typeof exports?module.exports=BitRange:t.BitRange=BitRange}(window),define("static/js/exchange/dist/script/module_order",["jquery","static/js/exchange/dist/script/module_ajax","static/js/exchange/dist/script/module_tmpl","static/js/exchange/dist/script/module_md5"],function(require,exports,module){function GetOrder(options,change){var op=options||{},temp=op.temp,wrap=$("#"+op.wrap),coin_type=op.coin_type,is_history=op.is_history,damp=op.damp,delay=0==op.delay?0:3e3,init=0,hash=[0,0],oldId=[0,0],Fn,time=4;return Fn=new A({url:HRY.host+HRY.modules.exmain+"entrust/findByCustomerId.do",refresh:delay,damp:damp,data:{coin_type:coin_type,status:is_history,page:1,pageSize:5}},function(data){var _code=data.code;switch(_code){case"loading":""==wrap.html()&&wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder"><i class="icon_loading"></i></td></tr>');break;case"error":wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder">'+data.msg+"</td></tr>"),hash=[0,0];break;case"success":if("success"===data.code&&-1==data.data.indexOf("script")){var delegation=eval("("+data.data+")"),_h=D.md5(JSON.stringify(delegation));if(20==is_history){if(_h!==hash[1]){for(var _i=0;_i<delegation.length;_i++){var _t=delegation[_i];_t.id>oldId[1]&&init?_t.new_order=1:_t.new_order=0}wrap.html(M(temp,delegation)),hash[1]=_h,init||(oldId[1]=delegation.length>0?1*delegation[0].id:0),init=1}}else time--,0==data.data.total?time<=0&&(Fn.Stop(),console.log("Order Stop"),time=4):time=4,_h!==hash[0]&&(wrap.html(M(temp,delegation)),hash[0]=_h,change&&change())}else data.code&&wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder"><i class="icon_info"></i> code:'+data.code+", "+(data.msg?data.msg:"")+"</td></tr>"),hash=[0,0]}})}function GetDetails(t){var e=t||{},n=e.temp,r=$(e.wrap),o=e.coin_type,a=e.id,i=e.type;n&&r&&A({url:"/trade/entrust_detail",data:{coin_type:o,order_id:a,delegation_type:i}},function(t){switch(t.code){case"loading":r.html('<div class="align_center p_t_30 no_barder"><i class="icon_loading"></i>'+t.msg+"</div>");break;case"error":r.html('<div class="align_center p_t_30 no_barder">'+t.msg+"</div>");break;case"success":0===t.data.code?r.html(M(n,t.data)):t.code&&r.html('<tr><td colspan="100" class="align_center p_t_30 no_barder">code:'+t.data.code+","+t.data.msg?t.data.msg:"</td></tr>")}})}function CancelOrder(t,e){var n=t||{},r=(n.coin_type,"object"==typeof n.id?n.id.join(","):n.id);ids=r,A({url:HRY.host+HRY.modules.exmain+"entrust/cancelExEntrust.do",data:{coinCode:CURRENT_SYMBOL,entrustNums:ids},type:"POST"},function(t){switch(t.code){case"loading":case"error":e&&e(t);break;case"success":e&&e(JSON.parse(t.data))}})}function CancelAllOrder(t,e){var n=t||{},r=(n.coin_type,"object"==typeof n.id?n.id.join(","):n.id);ids=r,A({url:HRY.host+HRY.modules.exmain+"entrust/cancelallcoinCodeExEntrust.do",data:{coinCode:CURRENT_SYMBOL,entrustNums:ids},type:"POST"},function(t){switch(t.code){case"loading":case"error":e&&e(t);break;case"success":e&&e(JSON.parse(t.data))}})}var $=require("jquery"),A=require("static/js/exchange/dist/script/module_ajax"),M=require("static/js/exchange/dist/script/module_tmpl"),D=require("static/js/exchange/dist/script/module_md5");exports.GetOrder=GetOrder,exports.GetDetails=GetDetails,exports.CancelOrder=CancelOrder,exports.CancelAllOrder=CancelAllOrder}),function(){var t=function(t,e){function n(){r(),E?o():clearTimeout(A)}function r(t){var e=void 0===t?T:t;m.r=Math.random().toString(36).substr(2),e||$.ajax({url:h,type:g,data:m,dataType:b,jsonp:v,jsonpCallback:C,beforeSend:a,success:i,error:s,complete:c})}function o(){A=setTimeout(n,E)}function a(){e&&e({code:"loading",msg:"loading"})}function i(t){10002==t.flag&&(window.location=M),10003==t.flag&&B.Stop(),w?O--:O=k,O<=0&&E<=x-1e3&&(E+=1e3),e&&e({code:"success",msg:"success",data:t})}function s(){e&&e({code:"error",msg:L("网络异常")})}function c(t,n){e&&e({code:"complete",xhr:t,ts:n,msg:"complete"})}function l(){T=1}function u(){T=0,O=k,E=_}function p(){r(0),O=k,E=_}function d(t){var e=t||{};h=e.url?e.url:h,m=e.data||m,_=e.refresh?1*e.refresh:_,b=e.datatype?e.datatype:b,v=e.jsonp?e.jsonp:v,C=e.jsonpcallback?e.jsonpcallback:C,E=_}var f=t||{},h=f.url?f.url:"/account/ajax.do",m=f.data||{},y=void 0==f.init||f.init,_=f.refresh?1*f.refresh:0,g=f.type||"GET",b=f.datatype?f.datatype:"",v=f.jsonp?f.jsonp:"",w=void 0!=f.damp?f.damp:CONST.AJAX_DAMP,k=CONST.AJAX_DAMP_TIME?CONST.AJAX_DAMP_TIME:6,x=CONST.AJAX_DAMP_REFRESH?CONST.AJAX_DAMP_REFRESH:5e3,C=f.jsonpcallback?f.jsonpcallback:"",A=null,T=0,B=this,S=window.location,M="/account/account.do?a=validate_all&jump_url="+S.pathname+S.search,O=k,E=_;clearTimeout(A),y&&m&&n(),B.Stop=l,B.Play=u,B.Fire=p,B.Update=d};"function"==typeof define?define("static/js/exchange/dist/script/module_ajax",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.HbAjax=t}(),function(){function t(n,r){var o=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);},__data = obj;with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[n]=e[n]||t(document.getElementById(n).innerHTML);return r?o(r):o}var e={};"function"==typeof define?define("static/js/exchange/dist/script/module_tmpl",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.TmpL=t}(),function(t){"use strict";function e(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function n(t,e){return t<<e|t>>>32-e}function r(t,r,o,a,i,s){return e(n(e(e(r,t),e(a,s)),i),o)}function o(t,e,n,o,a,i,s){return r(e&n|~e&o,t,e,a,i,s)}function a(t,e,n,o,a,i,s){return r(e&o|n&~o,t,e,a,i,s)}function i(t,e,n,o,a,i,s){return r(e^n^o,t,e,a,i,s)}function s(t,e,n,o,a,i,s){return r(n^(e|~o),t,e,a,i,s)}function c(t,n){t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;var r,c,l,u,p,d=1732584193,f=-271733879,h=-1732584194,m=271733878;for(r=0;r<t.length;r+=16)c=d,l=f,u=h,p=m,d=o(d,f,h,m,t[r],7,-680876936),m=o(m,d,f,h,t[r+1],12,-389564586),h=o(h,m,d,f,t[r+2],17,606105819),f=o(f,h,m,d,t[r+3],22,-1044525330),d=o(d,f,h,m,t[r+4],7,-176418897),m=o(m,d,f,h,t[r+5],12,1200080426),h=o(h,m,d,f,t[r+6],17,-1473231341),f=o(f,h,m,d,t[r+7],22,-45705983),d=o(d,f,h,m,t[r+8],7,1770035416),m=o(m,d,f,h,t[r+9],12,-1958414417),h=o(h,m,d,f,t[r+10],17,-42063),f=o(f,h,m,d,t[r+11],22,-1990404162),d=o(d,f,h,m,t[r+12],7,1804603682),m=o(m,d,f,h,t[r+13],12,-40341101),h=o(h,m,d,f,t[r+14],17,-1502002290),f=o(f,h,m,d,t[r+15],22,1236535329),d=a(d,f,h,m,t[r+1],5,-165796510),m=a(m,d,f,h,t[r+6],9,-1069501632),h=a(h,m,d,f,t[r+11],14,643717713),f=a(f,h,m,d,t[r],20,-373897302),d=a(d,f,h,m,t[r+5],5,-701558691),m=a(m,d,f,h,t[r+10],9,38016083),h=a(h,m,d,f,t[r+15],14,-660478335),f=a(f,h,m,d,t[r+4],20,-405537848),d=a(d,f,h,m,t[r+9],5,568446438),m=a(m,d,f,h,t[r+14],9,-1019803690),h=a(h,m,d,f,t[r+3],14,-187363961),f=a(f,h,m,d,t[r+8],20,1163531501),d=a(d,f,h,m,t[r+13],5,-1444681467),m=a(m,d,f,h,t[r+2],9,-51403784),h=a(h,m,d,f,t[r+7],14,1735328473),f=a(f,h,m,d,t[r+12],20,-1926607734),d=i(d,f,h,m,t[r+5],4,-378558),m=i(m,d,f,h,t[r+8],11,-2022574463),h=i(h,m,d,f,t[r+11],16,1839030562),f=i(f,h,m,d,t[r+14],23,-35309556),d=i(d,f,h,m,t[r+1],4,-1530992060),m=i(m,d,f,h,t[r+4],11,1272893353),h=i(h,m,d,f,t[r+7],16,-155497632),f=i(f,h,m,d,t[r+10],23,-1094730640),d=i(d,f,h,m,t[r+13],4,681279174),m=i(m,d,f,h,t[r],11,-358537222),h=i(h,m,d,f,t[r+3],16,-722521979),f=i(f,h,m,d,t[r+6],23,76029189),d=i(d,f,h,m,t[r+9],4,-640364487),m=i(m,d,f,h,t[r+12],11,-421815835),h=i(h,m,d,f,t[r+15],16,530742520),f=i(f,h,m,d,t[r+2],23,-995338651),d=s(d,f,h,m,t[r],6,-198630844),m=s(m,d,f,h,t[r+7],10,1126891415),h=s(h,m,d,f,t[r+14],15,-1416354905),f=s(f,h,m,d,t[r+5],21,-57434055),d=s(d,f,h,m,t[r+12],6,1700485571),m=s(m,d,f,h,t[r+3],10,-1894986606),h=s(h,m,d,f,t[r+10],15,-1051523),f=s(f,h,m,d,t[r+1],21,-2054922799),d=s(d,f,h,m,t[r+8],6,1873313359),m=s(m,d,f,h,t[r+15],10,-30611744),h=s(h,m,d,f,t[r+6],15,-1560198380),f=s(f,h,m,d,t[r+13],21,1309151649),d=s(d,f,h,m,t[r+4],6,-145523070),m=s(m,d,f,h,t[r+11],10,-1120210379),h=s(h,m,d,f,t[r+2],15,718787259),f=s(f,h,m,d,t[r+9],21,-343485551),d=e(d,c),f=e(f,l),h=e(h,u),m=e(m,p);return[d,f,h,m]}function l(t){var e,n="";for(e=0;e<32*t.length;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function u(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;for(e=0;e<8*t.length;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function p(t){return l(c(u(t),8*t.length))}function d(t,e){var n,r,o=u(t),a=[],i=[];for(a[15]=i[15]=void 0,o.length>16&&(o=c(o,8*t.length)),n=0;n<16;n+=1)a[n]=909522486^o[n],i[n]=1549556828^o[n];return r=c(a.concat(u(e)),512+8*e.length),l(c(i.concat(r),640))}function f(t){var e,n,r="0123456789abcdef",o="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),o+=r.charAt(e>>>4&15)+r.charAt(15&e);return o}function h(t){return unescape(encodeURIComponent(t))}function m(t){return p(h(t))}function y(t){return f(m(t))}function _(t,e){return d(h(t),h(e))}function g(t,e){return f(_(t,e))}function b(t,e,n){return e?n?_(e,t):g(e,t):n?m(t):y(t)}function v(t,e,n){return b(t+"hello, moto",e,n)}"function"==typeof define?define("static/js/exchange/dist/script/module_md5",[],function(){return{md5:b,hbmd5:v}}):(t.md5=b,t.hbmd5=v)}(this),function(){var t={Cookie:function(t,e,n){return t=(COOKIE_PRE||"")+t,this._Cookie(t,e,n)},_Cookie:function(t,e,n){var r=t,o=e;if(void 0!==o){var a=new Date;return n&&Math.round(a.setDate(a.getDate()+n.expires)),document.cookie=[encodeURI(r),"=",encodeURIComponent(o),n&&n.expires?"; expires="+a.toUTCString():"",n&&n.path?"; path="+n.path:"",n&&n.domain?"; domain="+n.domain:"",n&&n.secure?"; secure":""].join("")}var i=document.cookie.match("(?:^|;)\\s*"+r+"=([^;]*)");return i?decodeURIComponent(i[1]):null},RemoveCookie:function(t){return void 0!==this.Cookie(t)&&(this.Cookie(t,"",{expires:-1}),!0)}};"function"==typeof define?define("static/js/exchange/dist/script/module_cookie",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.BitCookie=t}(),function(t){var e=function(t,e){function n(t){t.title&&l._title.html(t.title),t.content&&l._body.html(t.content),t.foot&&l._foot.html(t.foot)}function r(t){l.show(),p.show().addClass("in"),t?t(l,"show"):d&&d(l,"show")}function o(t,e){l.hide(),p.hide().removeClass("in"),t?t(l,"close"):d&&d(l,"close",e)}var a=t||{},i=$('<div class="doc_dialog" style="display: none"><div class="mod_dialog"><div class="mod_hd"><span class="icon_wrap"><i class="icon"></i></span><span class="mod_title"></span><div class="mod_option"><a href="#" class="close">×</a></div></div><div class="mod_bd"></div><div class="mod_ft"></div></div></div>'),s=$('<div class="dialog_backdrop" style="display: none"></div>'),c=a.wrap?$(a.wrap):$("body"),l=a.dialog?$(a.dialog):$(".doc_dialog"),u=$(a.trigger)||"",p=a.backdrop?$(a.backdrop):$(".dialog_backdrop"),d=e||null;(function(){if(l.length<=0){var t=l.selector;/^\./.test(t)?i.addClass(t.replace(".","")):/^\#/.test(t)&&i.attr("id",t.replace("#","")),c.append(i),l=i}$(p).length<=0&&(s.addClass(p.selector.replace(".","")),$("body").append(s),p=s),l._title=l.find(".mod_title"),l._body=l.find(".mod_bd"),l._foot=l.find(".mod_ft"),l._close=l.find(".close")})(),u&&u.on("click",function(){r()}),l._close.on("click",function(){o("",$(this))}),this.Close=o,this.Show=r,this.Write=n};"function"==typeof define?define("static/js/exchange/dist/script/module_dialog",[],function(){return e}):"undefined"!=typeof exports?module.exports=e:t.BitDialog=e}(window),function(){window.HRYB||(window.HRYB={});var t=function(t){var e=t||{},n=e.name,r=e.value;HRYB[n]?$.extend(HRYB[n],r):(HRYB[n]={},$.extend(HRYB[n],r))};"function"==typeof define?define("static/js/exchange/dist/script/module_hb_extend",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.HurongbiExtend=t}(),function(t){BitSwitch=function(t){function e(t,e){var n=e.parent(),a=(n.find("b"),n.find("i")),i=n.find("span"),s=e.data("text")&&e.data("text").split(","),c=e.prop("disabled")?1:0,l=1*n.width(),u=l-2*o-r;switch(t){case 0:n.removeClass("focus"),s&&i.text(s[1]);break;case 1:n.addClass("focus");break;case 2:a.animate({left:0,right:u},100,"swing"),n.addClass("switch_off").removeClass("switch_on "),s&&i.text(s[1]);break;case 3:a.animate({left:u,right:0},100,"swing"),n.addClass("switch_on").removeClass("switch_off "),s&&i.text(s[0]);break;case 4:n.addClass("disabled"),s&&i.text(s[1]);break;case 5:n.removeClass("focus")}c?n.addClass("disabled"):n.removeClass("disabled")}var n=t||{},r=n.width||13,o=n.gap||1,a=$(n.Switch),i=$('<label class="input_switch"></label>');(function(){a.length>0&&a.wrap(i).after("<b></b><i></i><span></span>")})(),a.each(function(){var t=$(this),n=t.prop("checked")?3:0;e(n,t),t.on("change",function(){n=t.prop("checked")?3:2,e(n,t)}).on("focus",function(){e(1,t)}).on("blur",function(){e(5,t)}).on("__Update",function(){n=t.prop("checked")?3:2,e(n,t)})})},"function"==typeof define?define("static/js/exchange/dist/script/module_switch",[],function(){return BitSwitch}):"undefined"!=typeof exports?module.exports=BitSwitch:t.BitSwitch=BitSwitch}(window),function(){function t(){var t=[].slice.apply(arguments);if(!(t.length<2))return t.shift().apply(t.shift(),t)}"function"==typeof define?define("static/js/exchange/dist/script/module_this_jack",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.Jack=t}(),function(){function t(t,e){var n=new Date(1e3*t),r=e||"YYYY-MM-DD";return Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"D+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(Y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t},n.Format(r)}"function"==typeof define?define("static/js/exchange/dist/script/module_time",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.unixToTime=t}(),define("static/js/exchange/dist/script/page_trade_market",["static/js/exchange/dist/script/module_number","static/js/exchange/dist/script/module_tmpl","static/js/exchange/dist/script/module_connect","static/js/exchange/dist/script/module_socket_api","static/js/exchange/dist/script/module_socket_io","static/js/exchange/dist/script/module_ajax"],function(t,e){function n(t){var e={},n={};n.priceNew=t.p_new,n.priceOpen=t.p_open,n.priceHigh=t.p_high,n.priceLow=t.p_low,n.priceLast=t.p_last,n.level=t.level,n.totalAmount=t.amount,e.data_price=n;var r=[],o=[],a=[],i=0,s=0,c=0,l=0,p=t.buys.length;for(sell_len=t.buys.length;c<p;c++)s+=1e10*t.buys[c].amount,t.buys[c]&&r.push([u(t.buys[c].price,3),u(t.buys[c].amount,4),u(s/1e10,4)]);for(;l<sell_len;l++)i+=1e10*t.sells[l].amount,t.sells[l]&&o.push([u(t.sells[l].price,3),u(t.sells[l].amount,4),u(i/1e10,4)]);for(var c=0;c<10;c++){var d;d="bid"==t.trades[c].en_type?1:4,t.trades[c].price&&a.push([d,t.trades[c].time,u(t.trades[c].amount,4),u(t.trades[c].price,3)])}return e.buy=r,e.sel=o,e.tra=a,e}function r(t,e){var n=x["marketDetail"+e](k);C.msg(n.msg),C.reg(n.msgType,function(t){if(A<2&&(A+=1),t.payload.symbolId==k){var t=s(t.payload);i(t.buy,t.sel)}})}function o(t,e){function n(){var t=o.pop(),n=e?~~t[0]:Math.ceil(t[0]),a=o.length;for(r[n]={amt:t[1],price:n};a--;)r[n].amt+=1*o[a][1]}if(!t.length)return[];for(var r={},o=[],a=[],i=0,s=t.length,c=e?~~t[0][0]:Math.ceil(t[0][0]),l=e?-1*T:1*T,u=0;u<s;u++)_this=t[u][0],e&&t[u][0]-c<l+1&&(n(),o=[],c=~~t[u][0]),!e&&t[u][0]-c>l-1&&(n(),o=[],c=Math.ceil(t[u][0])),o.push(t[u]);o.length&&n();for(var p in r)a.push([r[p].price,r[p].amt]);a=a.sort(function(t,n){return e?n[0]-t[0]:t[0]-n[0]});for(var u=0,s=a.length;u<s;u++)i+=a[u][1],a[u][2]=i;return a}function a(t,e){marketdata={buy:t,sel:e}}function i(t,e){var n=t,r=e;a(n,r),n=T?o(n,1):n,r=T?o(r,0):r,1*(n[0]?n[0][0]:0),1*(r[0]?r[0][0]:0),N.buy5=n.slice(0,5),N.sell5=r.slice(0,5),0==N.newprice&&(N.newprice=t[0][0]),D.innerHTML=p(j,{buy:n.slice(0,5),sel:r.slice(0,5),price:N.newprice,font_color:N.font_color,money_symbol:l})}function s(t){for(var e=[],n=[],r=0,o=0,a=0,i=t.bids.amount.length;a<i;a++)o+=1e10*t.bids.amount[a],t.bids.price[a]&&e.push([u(t.bids.price[a],3),u(t.bids.amount[a],4),u(o/1e10,4)]);for(a=0,i=t.asks.amount.length;a<i;a++)r+=1e10*t.asks.amount[a],t.asks.price[a]&&n.push([u(t.asks.price[a],3),u(t.asks.amount[a],4),u(r/1e10,4)]);return c(t),{buy:e,sel:n}}function c(t){var e=u(t.priceNew,3),n=N.font_color;e>N.newprice?n="font_up":e<N.newprice&&(n="font_down"),N.newprice=e,N.font_color=n;var r="";r="cny"==b?"￥":"$";var o;o=r+e+" | "+m,$(document).attr("title",o)}var l,u=t("static/js/exchange/dist/script/module_number"),p=t("static/js/exchange/dist/script/module_tmpl"),d=t("static/js/exchange/dist/script/module_connect"),f=t("static/js/exchange/dist/script/module_socket_api"),h=(t("static/js/exchange/dist/script/module_socket_io"),t("static/js/exchange/dist/script/module_ajax")),m=$(document).attr("title"),y=0,_=$("input[name='coin_type']").val();switch(_){case"cny_btc":var g="btc",b="cny",v="staticmarket";l="￥";break;case"cny_ltc":var g="ltc",b="cny",v="staticmarket";l="￥";break;case"usd_btc":var g="btc",b="usd",v="usdmarket";l="$";break;case"usd_ltc":var g="ltc",b="usd",v="usdmarket";l="$";break;default:var g="btc",b="cny",v="staticmarket";l="￥"}140!=window.RUN_MODE||"usd_btc"!=_&&"usd_ltc"!=_||($_ws_hq_url=$_ws_hq_url_usd);var w,k=g+b,x=f(),C=d($_ws_hq_url),A=0,T="",B="https:"==document.location.protocol?"https":"http",S=B+"://"+AJAX_API_DOMAIN+"/"+v+"/detail_"+g+".js";w=new h({data:{},url:S,refresh:1e3,datatype:"jsonp",jsonp:"callback",jsonpcallback:"view_detail_"+g},function(t){if(t.code,"success"==t.code){var e=t.data,r=n(e);c(r.data_price),i(r.buy,r.sel)}}),C.conn.on("message",function(){w.Stop()}),C.conn.on("disconnect",function(){w.Play()});var M=$("#change_depth"),L=M.find("dt b"),O=M.find("dd p");M.hover(function(){M.addClass("hover")},function(){M.removeClass("hover")}),O.on("click",function(){var t=$(this),e=1*t.text();L.text(e);var n=x["marketDetail"+y](k);C.msg(n.unmsg),C.clearmsg(),y=e,r("market",y),M.removeClass("hover")});var E=document.getElementById("market"),D=(E.getElementsByTagName("div"),document.getElementById("market_depth")),R=E.getElementsByTagName("script"),j=R[0].innerHTML,N=N||{acc:{},buy5:[],sell5:[],autoRelease:1,order:[],orderList:0,enable_coin:0,limit:[0,0],newprice:0,font_color:"font_up",holdStatus:0};r("market",y)}),"function"==typeof define?define("static/js/exchange/dist/script/module_connect",[],function(){return connect}):"undefined"!=typeof exports?module.connect=connect:window.connect=connect,"function"==typeof define?define("static/js/exchange/dist/script/module_socket_api",[],function(){return SOCKET_API
}):"undefined"!=typeof exports?module.SOCKET_API=SOCKET_API:window.SOCKET_API=SOCKET_API,function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("static/js/exchange/dist/script/module_socket_io",[],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.io=t()}}(function(){var t;return function t(e,n,r){function o(i,s){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[i]={exports:{}};e[i][0].call(u.exports,function(t){var n=e[i][1][t];return o(n||t)},u,u.exports,t,e,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(t,e,n){e.exports=t("./lib/")},{"./lib/":2}],2:[function(t,e,n){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(t,e,n){(function(n){function r(t,e){if(!(this instanceof r))return new r(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=u(t),e.hostname=t.host,e.secure="https"==t.protocol||"wss"==t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=u(e.host).host),this.secure=null!=e.secure?e.secure:n.location&&"https:"==location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||(n.location?location.hostname:"localhost"),this.port=e.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized;var o="object"==typeof n&&n;o.global===o&&e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),this.open()}function o(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var a=t("./transports"),i=t("component-emitter"),s=t("debug")("engine.io-client:socket"),c=t("indexof"),l=t("engine.io-parser"),u=t("parseuri"),p=t("parsejson"),d=t("parseqs");e.exports=r,r.priorWebsocketSuccess=!1,i(r.prototype),r.protocol=l.protocol,r.Socket=r,r.Transport=t("./transport"),r.transports=t("./transports"),r.parser=t("engine.io-parser"),r.prototype.createTransport=function(t){s('creating transport "%s"',t);var e=o(this.query);return e.EIO=l.protocol,e.transport=t,this.id&&(e.sid=this.id),new a[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})},r.prototype.open=function(){var t;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},r.prototype.setTransport=function(t){s("setting transport %s",t.name);var e=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},r.prototype.probe=function(t){function e(){if(d.onlyBinaryUpgrades){var e=!this.supportsBinary&&d.transport.supportsBinary;p=p||e}p||(s('probe transport "%s" opened',t),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(e){if(!p)if("pong"==e.type&&"probe"==e.data){if(s('probe transport "%s" pong',t),d.upgrading=!0,d.emit("upgrading",u),!u)return;r.priorWebsocketSuccess="websocket"==u.name,s('pausing current transport "%s"',d.transport.name),d.transport.pause(function(){p||"closed"!=d.readyState&&(s("changing transport and sending upgrade packet"),l(),d.setTransport(u),u.send([{type:"upgrade"}]),d.emit("upgrade",u),u=null,d.upgrading=!1,d.flush())})}else{s('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=u.name,d.emit("upgradeError",n)}}))}function n(){p||(p=!0,l(),u.close(),u=null)}function o(e){var r=new Error("probe error: "+e);r.transport=u.name,n(),s('probe transport "%s" failed because of error: %s',t,e),d.emit("upgradeError",r)}function a(){o("transport closed")}function i(){o("socket closed")}function c(t){u&&t.name!=u.name&&(s('"%s" works - aborting "%s"',t.name,u.name),n())}function l(){u.removeListener("open",e),u.removeListener("error",o),u.removeListener("close",a),d.removeListener("close",i),d.removeListener("upgrading",c)}s('probing transport "%s"',t);var u=this.createTransport(t,{probe:1}),p=!1,d=this;r.priorWebsocketSuccess=!1,u.once("open",e),u.once("error",o),u.once("close",a),this.once("close",i),this.once("upgrading",c),u.open()},r.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},r.prototype.onPacket=function(t){if("opening"==this.readyState||"open"==this.readyState)switch(s('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(p(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else s('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!=e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},r.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},r.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},r.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!=this.readyState&&"closed"!=this.readyState){n=n||{},n.compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function t(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function e(){r.removeListener("upgrade",e),r.removeListener("upgradeError",e),t()}function n(){r.once("upgrade",e),r.once("upgradeError",e)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},r.prototype.onError=function(t){s("socket error %j",t),r.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},r.prototype.onClose=function(t,e){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){s('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~c(this.transports,t[n])&&e.push(t[n]);return e}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(t,e,n){function r(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders}var o=t("engine.io-parser"),a=t("component-emitter");e.exports=r,a(r.prototype),r.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},r.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(t){if("open"!=this.readyState)throw new Error("Transport not open");this.write(t)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},r.prototype.onPacket=function(t){this.emit("packet",t)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(t,e,n){(function(e){function r(t){var n=!1,r=!1,s=!1!==t.jsonp;if(e.location){var c="https:"==location.protocol,l=location.port;l||(l=c?443:80),n=t.hostname!=location.hostname||l!=t.port,r=t.secure!=c}if(t.xdomain=n,t.xscheme=r,"open"in new o(t)&&!t.forceJSONP)return new a(t);if(!s)throw new Error("JSONP disabled");return new i(t)}var o=t("xmlhttprequest-ssl"),a=t("./polling-xhr"),i=t("./polling-jsonp"),s=t("./websocket");n.polling=r,n.websocket=s}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(t,e,n){(function(n){function r(){}function o(t){a.call(this,t),this.query=this.query||{},s||(n.___eio||(n.___eio=[]),s=n.___eio),this.index=s.length;var e=this;s.push(function(t){e.onData(t)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=r)},!1)}var a=t("./polling"),i=t("component-inherit");e.exports=o;var s;i(o,a),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),a.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function n(){r(),e()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';a=document.createElement(t)}catch(t){a=document.createElement("iframe"),a.name=o.iframeId,a.src="javascript:0"}a.id=o.iframeId,o.form.appendChild(a),o.iframe=a}var o=this;if(!this.form){var a,i=document.createElement("form"),s=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=c,i.method="POST",i.setAttribute("accept-charset","utf-8"),s.name="d",i.appendChild(s),document.body.appendChild(i),this.form=i,this.area=s}this.form.action=this.uri(),r(),t=t.replace(/\\n/g,"\\\n"),this.area.value=t.replace(/\n/g,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-inherit":16}],7:[function(t,e,n){(function(n){function r(){}function o(t){if(c.call(this,t),n.location){var e="https:"==location.protocol,r=location.port;r||(r=e?443:80),this.xd=t.hostname!=n.location.hostname||r!=t.port,this.xs=t.secure!=e}else this.extraHeaders=t.extraHeaders}function a(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!=t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function i(){for(var t in a.requests)a.requests.hasOwnProperty(t)&&a.requests[t].abort()}var s=t("xmlhttprequest-ssl"),c=t("./polling"),l=t("component-emitter"),u=t("component-inherit"),p=t("debug")("engine.io-client:polling-xhr");e.exports=o,e.exports.Request=a,u(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.extraHeaders=this.extraHeaders,new a(t)},o.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),o=this;r.on("success",e),r.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=r},o.prototype.doPoll=function(){p("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},l(a.prototype),a.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new s(t),r=this;try{p("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders){e.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&e.setRequestHeader(o,this.extraHeaders[o])}}catch(t){}if(this.supportsBinary&&(e.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}"withCredentials"in e&&(e.withCredentials=!0),this.hasXDR()?(e.onload=function(){r.onLoad()},e.onerror=function(){r.onError(e.responseText)}):e.onreadystatechange=function(){4==e.readyState&&(200==e.status||1223==e.status?r.onLoad():setTimeout(function(){r.onError(e.status)},0))},p("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout(function(){r.onError(t)},0)}n.document&&(this.index=a.requestsCount++,a.requests[this.index]=this)},a.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},a.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},a.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},a.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,t)try{this.xhr.abort()}catch(t){}n.document&&delete a.requests[this.index],this.xhr=null}},a.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(t){}if("application/octet-stream"===e)t=this.xhr.response;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){for(var n=new Uint8Array(this.xhr.response),r=[],o=0,a=n.length;o<a;o++)r.push(n[o]);t=String.fromCharCode.apply(null,r)}else t=this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},a.prototype.hasXDR=function(){return void 0!==n.XDomainRequest&&!this.xs&&this.enablesXDR},a.prototype.abort=function(){this.cleanup()},n.document&&(a.requestsCount=0,a.requests={},n.attachEvent?n.attachEvent("onunload",i):n.addEventListener&&n.addEventListener("beforeunload",i,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(t,e,n){function r(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),o.call(this,t)}var o=t("../transport"),a=t("parseqs"),i=t("engine.io-parser"),s=t("component-inherit"),c=t("yeast"),l=t("debug")("engine.io-client:polling");e.exports=r;var u=function(){return null!=new(t("xmlhttprequest-ssl"))({xdomain:!1}).responseType}();s(r,o),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(t){function e(){l("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(l("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){l("pre-pause polling complete"),--r||e()})),this.writable||(l("we are currently writing - waiting to pause"),r++,this.once("drain",function(){l("pre-pause writing complete"),--r||e()}))}else e()},r.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(t){var e=this;l("polling got data %s",t);var n=function(t,n,r){return"opening"==e.readyState&&e.onOpen(),"close"==t.type?(e.onClose(),!1):void e.onPacket(t)};i.decodePayload(t,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function t(){l("writing close packet"),e.write([{type:"close"}])}var e=this;"open"==this.readyState?(l("transport open - closing"),t()):(l("transport not open - deferring close"),this.once("open",t))},r.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")},e=this;i.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=a.encode(t),this.port&&("https"==e&&443!=this.port||"http"==e&&80!=this.port)&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(t,e,n){(function(n){function r(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,o.call(this,t)}var o=t("../transport"),a=t("engine.io-parser"),i=t("parseqs"),s=t("component-inherit"),c=t("yeast"),l=t("debug")("engine.io-client:websocket"),u=n.WebSocket||n.MozWebSocket,p=u;if(!p&&"undefined"==typeof window)try{p=t("ws")}catch(t){}e.exports=r,s(r,o),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e={agent:this.agent,perMessageDeflate:this.perMessageDeflate};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(e.headers=this.extraHeaders),this.ws=u?new p(t):new p(t,void 0,e),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(r.prototype.onData=function(t){var e=this;setTimeout(function(){o.prototype.onData.call(e,t)},0)}),r.prototype.write=function(t){function e(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var o=t.length,i=0,s=o;i<s;i++)!function(t){a.encodePacket(t,r.supportsBinary,function(a){if(!u){var i={};if(t.options&&(i.compress=t.options.compress),r.perMessageDeflate){("string"==typeof a?n.Buffer.byteLength(a):a.length)<r.perMessageDeflate.threshold&&(i.compress=!1)}}try{u?r.ws.send(a):r.ws.send(a,i)}catch(t){l("websocket closed before onclose event")}--o||e()})}(t[i])},r.prototype.onClose=function(){o.prototype.onClose.call(this)},r.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"==e&&443!=this.port||"ws"==e&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),t=i.encode(t),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},r.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===r.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(t,e,n){var r=t("has-cors");e.exports=function(t){var e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(t){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}},{"has-cors":22}],11:[function(t,e,n){function r(t,e,n){function r(t,o){if(r.count<=0)throw new Error("after called too many times");--r.count,t?(a=!0,e(t),e=n):0!==r.count||a||e(null,o)}var a=!1;return n=n||o,r.count=t,0===t?e():r}function o(){}e.exports=r},{}],12:[function(t,e,n){e.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(t),a=new Uint8Array(n-e),i=e,s=0;i<n;i++,s++)a[s]=o[i];return a.buffer}},{}],13:[function(t,e,n){!function(t){"use strict";n.encode=function(e){var n,r=new Uint8Array(e),o=r.length,a="";for(n=0;n<o;n+=3)a+=t[r[n]>>2],a+=t[(3&r[n])<<4|r[n+1]>>4],a+=t[(15&r[n+1])<<2|r[n+2]>>6],a+=t[63&r[n+2]];return o%3==2?a=a.substring(0,a.length-1)+"=":o%3==1&&(a=a.substring(0,a.length-2)+"=="),a},n.decode=function(e){var n,r,o,a,i,s=.75*e.length,c=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new ArrayBuffer(s),p=new Uint8Array(u);for(n=0;n<c;n+=4)r=t.indexOf(e[n]),o=t.indexOf(e[n+1]),a=t.indexOf(e[n+2]),i=t.indexOf(e[n+3]),p[l++]=r<<2|o>>4,p[l++]=(15&o)<<4|a>>2,p[l++]=(3&a)<<6|63&i;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(t,e,n){(function(t){function n(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}t[e]=r}}}function r(t,e){e=e||{};var r=new a;n(t);for(var o=0;o<t.length;o++)r.append(t[o]);return e.type?r.getBlob(e.type):r.getBlob()}function o(t,e){return n(t),new Blob(t,e||{})}var a=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),s=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),c=a&&a.prototype.append&&a.prototype.getBlob;e.exports=function(){return i?s?t.Blob:o:c?r:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],15:[function(t,e,n){function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],16:[function(t,e,n){e.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],17:[function(t,e,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var r="color: "+this.color;t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0,a=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(a=o))}),t.splice(a,0,r),t}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(t){}}function s(){var t;try{t=n.storage.debug}catch(t){}return t}n=e.exports=t("./debug"),n.log=a,n.formatArgs=o,n.save=i,n.load=s,n.useColors=r,n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(s())},{"./debug":18}],18:[function(t,e,n){function r(){return n.colors[u++%n.colors.length]}function o(t){function e(){}function o(){var t=o,e=+new Date,a=e-(l||e);t.diff=a,t.prev=l,t.curr=e,l=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=r());var i=Array.prototype.slice.call(arguments);i[0]=n.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var s=0;i[0]=i[0].replace(/%([a-z%])/g,function(e,r){if("%%"===e)return e;s++;var o=n.formatters[r];if("function"==typeof o){var a=i[s];e=o.call(t,a),i.splice(s,1),s--}return e}),"function"==typeof n.formatArgs&&(i=n.formatArgs.apply(t,i)),(o.log||n.log||console.log.bind(console)).apply(t,i)}e.enabled=!1,o.enabled=!0;var a=n.enabled(t)?o:e;return a.namespace=t,a}function a(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),r=e.length,o=0;o<r;o++)e[o]&&(t=e[o].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function i(){n.enable("")}function s(t){var e,r;for(e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=o,n.coerce=c,n.disable=i,n.enable=a,n.enabled=s,n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={};var l,u=0},{ms:25}],19:[function(t,e,n){(function(e){function r(t,e){return e("b"+n.packets[t.type]+t.data.data)}function o(t,e,r){if(!e)return n.encodeBase64Packet(t,r);var o=t.data,a=new Uint8Array(o),i=new Uint8Array(1+o.byteLength);i[0]=_[t.type];for(var s=0;s<a.length;s++)i[s+1]=a[s];return r(i.buffer)}function a(t,e,r){if(!e)return n.encodeBase64Packet(t,r);var o=new FileReader;return o.onload=function(){t.data=o.result,n.encodePacket(t,e,!0,r)},o.readAsArrayBuffer(t.data)}function i(t,e,r){if(!e)return n.encodeBase64Packet(t,r);if(y)return a(t,e,r);var o=new Uint8Array(1);return o[0]=_[t.type],r(new v([o.buffer,t.data]))}function s(t,e,n){for(var r=new Array(t.length),o=d(t.length,n),a=0;a<t.length;a++)!function(t,n,o){e(n,function(e,n){r[t]=n,o(e,r)})}(a,t[a],o)}var c=t("./keys"),l=t("has-binary"),u=t("arraybuffer.slice"),p=t("base64-arraybuffer"),d=t("after"),f=t("utf8"),h=navigator.userAgent.match(/Android/i),m=/PhantomJS/i.test(navigator.userAgent),y=h||m;n.protocol=3;var _=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,
noop:6},g=c(_),b={type:"error",data:"parser error"},v=t("blob");n.encodePacket=function(t,n,a,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof a&&(s=a,a=null);var c=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&c instanceof ArrayBuffer)return o(t,n,s);if(v&&c instanceof e.Blob)return i(t,n,s);if(c&&c.base64)return r(t,s);var l=_[t.type];return void 0!==t.data&&(l+=a?f.encode(String(t.data)):String(t.data)),s(""+l)},n.encodeBase64Packet=function(t,r){var o="b"+n.packets[t.type];if(v&&t.data instanceof e.Blob){var a=new FileReader;return a.onload=function(){var t=a.result.split(",")[1];r(o+t)},a.readAsDataURL(t.data)}var i;try{i=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var s=new Uint8Array(t.data),c=new Array(s.length),l=0;l<s.length;l++)c[l]=s[l];i=String.fromCharCode.apply(null,c)}return o+=e.btoa(i),r(o)},n.decodePacket=function(t,e,r){if("string"==typeof t||void 0===t){if("b"==t.charAt(0))return n.decodeBase64Packet(t.substr(1),e);if(r)try{t=f.decode(t)}catch(t){return b}var o=t.charAt(0);return Number(o)==o&&g[o]?t.length>1?{type:g[o],data:t.substring(1)}:{type:g[o]}:b}var a=new Uint8Array(t),o=a[0],i=u(t,1);return v&&"blob"===e&&(i=new v([i])),{type:g[o],data:i}},n.decodeBase64Packet=function(t,n){var r=g[t.charAt(0)];if(!e.ArrayBuffer)return{type:r,data:{base64:!0,data:t.substr(1)}};var o=p.decode(t.substr(1));return"blob"===n&&v&&(o=new v([o])),{type:r,data:o}},n.encodePayload=function(t,e,r){function o(t){return t.length+":"+t}function a(t,r){n.encodePacket(t,!!i&&e,!0,function(t){r(null,o(t))})}"function"==typeof e&&(r=e,e=null);var i=l(t);return e&&i?v&&!y?n.encodePayloadAsBlob(t,r):n.encodePayloadAsArrayBuffer(t,r):t.length?void s(t,a,function(t,e){return r(e.join(""))}):r("0:")},n.decodePayload=function(t,e,r){if("string"!=typeof t)return n.decodePayloadAsBinary(t,e,r);"function"==typeof e&&(r=e,e=null);var o;if(""==t)return r(b,0,1);for(var a,i,s="",c=0,l=t.length;c<l;c++){var u=t.charAt(c);if(":"!=u)s+=u;else{if(""==s||s!=(a=Number(s)))return r(b,0,1);if(i=t.substr(c+1,a),s!=i.length)return r(b,0,1);if(i.length){if(o=n.decodePacket(i,e,!0),b.type==o.type&&b.data==o.data)return r(b,0,1);if(!1===r(o,c+a,l))return}c+=a,s=""}}return""!=s?r(b,0,1):void 0},n.encodePayloadAsArrayBuffer=function(t,e){function r(t,e){n.encodePacket(t,!0,!0,function(t){return e(null,t)})}return t.length?void s(t,r,function(t,n){var r=n.reduce(function(t,e){var n;return n="string"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),o=new Uint8Array(r),a=0;return n.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);n=r.buffer}o[a++]=e?0:1;for(var s=n.byteLength.toString(),i=0;i<s.length;i++)o[a++]=parseInt(s[i]);o[a++]=255;for(var r=new Uint8Array(n),i=0;i<r.length;i++)o[a++]=r[i]}),e(o.buffer)}):e(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(t,e){function r(t,e){n.encodePacket(t,!0,!0,function(t){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);t=r.buffer,n[0]=0}for(var a=t instanceof ArrayBuffer?t.byteLength:t.size,i=a.toString(),s=new Uint8Array(i.length+1),o=0;o<i.length;o++)s[o]=parseInt(i[o]);if(s[i.length]=255,v){var c=new v([n.buffer,s.buffer,t]);e(null,c)}})}s(t,r,function(t,n){return e(new v(n))})},n.decodePayloadAsBinary=function(t,e,r){"function"==typeof e&&(r=e,e=null);for(var o=t,a=[],i=!1;o.byteLength>0;){for(var s=new Uint8Array(o),c=0===s[0],l="",p=1;255!=s[p];p++){if(l.length>310){i=!0;break}l+=s[p]}if(i)return r(b,0,1);o=u(o,2+l.length),l=parseInt(l);var d=u(o,0,l);if(c)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(t){var f=new Uint8Array(d);d="";for(var p=0;p<f.length;p++)d+=String.fromCharCode(f[p])}a.push(d),o=u(o,l)}var h=a.length;a.forEach(function(t,o){r(n.decodePacket(t,e,!0),o,h)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(t,e,n){e.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},{}],21:[function(t,e,n){(function(n){function r(t){function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(o(t)){for(var r=0;r<t.length;r++)if(e(t[r]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&e(t[a]))return!0}return!1}return e(t)}var o=t("isarray");e.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:24}],22:[function(t,e,n){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},{}],23:[function(t,e,n){var r=[].indexOf;e.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}],24:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],25:[function(t,e,n){function r(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*p;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*l;case"minutes":case"minute":case"mins":case"min":case"m":return n*c;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function o(t){return t>=u?Math.round(t/u)+"d":t>=l?Math.round(t/l)+"h":t>=c?Math.round(t/c)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function a(t){return i(t,u,"day")||i(t,l,"hour")||i(t,c,"minute")||i(t,s,"second")||t+" ms"}function i(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var s=1e3,c=60*s,l=60*c,u=24*l,p=365.25*u;e.exports=function(t,e){return e=e||{},"string"==typeof t?r(t):e.long?a(t):o(t)}},{}],26:[function(t,e,n){(function(t){var n=/^[\],:{}\s]*$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(/^\s+/,"").replace(/\s+$/,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?new Function("return "+e)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],27:[function(t,e,n){n.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},n.decode=function(t){for(var e={},n=t.split("&"),r=0,o=n.length;r<o;r++){var a=n[r].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}},{}],28:[function(t,e,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){var e=t,n=t.indexOf("["),a=t.indexOf("]");-1!=n&&-1!=a&&(t=t.substring(0,n)+t.substring(n,a).replace(/:/g,";")+t.substring(a,t.length));for(var i=r.exec(t||""),s={},c=14;c--;)s[o[c]]=i[c]||"";return-1!=n&&-1!=a&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},{}],29:[function(e,n,r){(function(e){!function(o){function a(t){for(var e,n,r=[],o=0,a=t.length;o<a;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<a?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function i(t){for(var e,n=t.length,r=-1,o="";++r<n;)e=t[r],e>65535&&(e-=65536,o+=v(e>>>10&1023|55296),e=56320|1023&e),o+=v(e);return o}function s(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function c(t,e){return v(t>>e&63|128)}function l(t){if(0==(4294967168&t))return v(t);var e="";return 0==(4294965248&t)?e=v(t>>6&31|192):0==(4294901760&t)?(s(t),e=v(t>>12&15|224),e+=c(t,6)):0==(4292870144&t)&&(e=v(t>>18&7|240),e+=c(t,12),e+=c(t,6)),e+=v(63&t|128)}function u(t){for(var e,n=a(t),r=n.length,o=-1,i="";++o<r;)e=n[o],i+=l(e);return i}function p(){if(b>=g)throw Error("Invalid byte index");var t=255&_[b];if(b++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function d(){var t,e,n,r,o;if(b>g)throw Error("Invalid byte index");if(b==g)return!1;if(t=255&_[b],b++,0==(128&t))return t;if(192==(224&t)){var e=p();if((o=(31&t)<<6|e)>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=p(),n=p(),(o=(15&t)<<12|e<<6|n)>=2048)return s(o),o;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=p(),n=p(),r=p(),(o=(15&t)<<18|e<<12|n<<6|r)>=65536&&o<=1114111))return o;throw Error("Invalid UTF-8 detected")}function f(t){_=a(t),g=_.length,b=0;for(var e,n=[];!1!==(e=d());)n.push(e);return i(n)}var h="object"==typeof r&&r,m="object"==typeof n&&n&&n.exports==h&&n,y="object"==typeof e&&e;y.global!==y&&y.window!==y||(o=y);var _,g,b,v=String.fromCharCode,w={version:"2.0.0",encode:u,decode:f};if("function"==typeof t&&"object"==typeof t.amd&&t.amd)t("static/js/exchange/dist/script/module_socket_io",[],function(){return w});else if(h&&!h.nodeType)if(m)m.exports=w;else{var k={},x=k.hasOwnProperty;for(var C in w)x.call(w,C)&&(h[C]=w[C])}else o.utf8=w}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],30:[function(t,e,n){"use strict";function r(t){var e="";do{e=s[t%c]+e,t=Math.floor(t/c)}while(t>0);return e}function o(t){var e=0;for(p=0;p<t.length;p++)e=e*c+l[t.charAt(p)];return e}function a(){var t=r(+new Date);return t!==i?(u=0,i=t):t+"."+r(u++)}for(var i,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),c=64,l={},u=0,p=0;p<c;p++)l[s[p]]=p;a.encode=r,a.decode=o,e.exports=a},{}],31:[function(t,e,n){function r(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r=o(t),a=r.source,l=r.id,u=r.path,p=c[l]&&u in c[l].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||p?(s("ignoring socket cache for %s",a),n=i(a,e)):(c[l]||(s("new io instance for %s",a),c[l]=i(a,e)),n=c[l]),n.socket(r.path)}var o=t("./url"),a=t("socket.io-parser"),i=t("./manager"),s=t("debug")("socket.io-client");e.exports=n=r;var c=n.managers={};n.protocol=a.protocol,n.connect=r,n.Manager=t("./manager"),n.Socket=t("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(t,e,n){function r(t,e){return this instanceof r?(t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=!1!==e.autoConnect,void(this.autoConnect&&this.open())):new r(t,e)}var o=t("engine.io-client"),a=t("./socket"),i=t("component-emitter"),s=t("socket.io-parser"),c=t("./on"),l=t("component-bind"),u=t("debug")("socket.io-client:manager"),p=t("indexof"),d=t("backo2"),f=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)f.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},r.prototype.updateSocketIds=function(){for(var t in this.nsps)f.call(this.nsps,t)&&(this.nsps[t].id=this.engine.id)},i(r.prototype),r.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},r.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},r.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=o(this.uri,this.opts);var e=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=c(e,"open",function(){n.onopen(),t&&t()}),a=c(e,"error",function(e){if(u("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var r=new Error("Connection error");r.data=e,t(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var i=this._timeout;u("connect attempt will timeout after %d",i);var s=setTimeout(function(){u("connect attempt timed out after %d",i),r.destroy(),e.close(),e.emit("error","timeout"),n.emitAll("connect_timeout",i)},i);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(r),this.subs.push(a),this},r.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(c(t,"data",l(this,"ondata"))),this.subs.push(c(t,"ping",l(this,"onping"))),this.subs.push(c(t,"pong",l(this,"onpong"))),this.subs.push(c(t,"error",l(this,"onerror"))),this.subs.push(c(t,"close",l(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",l(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(t){this.decoder.add(t)},r.prototype.ondecoded=function(t){this.emit("packet",t)},r.prototype.onerror=function(t){u("error",t),this.emitAll("error",t)},r.prototype.socket=function(t){function e(){~p(r.connecting,n)||r.connecting.push(n)}var n=this.nsps[t];if(!n){n=new a(this,t),this.nsps[t]=n;var r=this;n.on("connecting",e),n.on("connect",function(){n.id=r.engine.id}),this.autoConnect&&e()}return n},r.prototype.destroy=function(t){var e=p(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},r.prototype.packet=function(t){u("writing packet %j",t);var e=this;e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},r.prototype.cleanup=function(){u("cleanup");for(var t;t=this.subs.shift();)t.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(t){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();u("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(u("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(u("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(u("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(t,e,n){function r(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}e.exports=r},{}],34:[function(t,e,n){function r(t,e){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var o=t("socket.io-parser"),a=t("component-emitter"),i=t("to-array"),s=t("./on"),c=t("component-bind"),l=t("debug")("socket.io-client:socket"),u=t("has-binary");e.exports=r;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=a.prototype.emit;a(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",c(this,"onopen")),s(t,"packet",c(this,"onpacket")),s(t,"close",c(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var t=i(arguments);return t.unshift("message"),this.emit.apply(this,t),this},r.prototype.emit=function(t){if(p.hasOwnProperty(t))return d.apply(this,arguments),this;var e=i(arguments),n=o.EVENT;u(e)&&(n=o.BINARY_EVENT);var r={type:n,data:e};return r.options={},r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},r.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},r.prototype.onopen=function(){l("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:o.CONNECT})},r.prototype.onclose=function(t){l("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},r.prototype.onpacket=function(t){if(t.nsp==this.nsp)switch(t.type){case o.CONNECT:this.onconnect();break;case o.EVENT:case o.BINARY_EVENT:this.onevent(t);break;case o.ACK:case o.BINARY_ACK:this.onack(t);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",t.data)}},r.prototype.onevent=function(t){var e=t.data||[];l("emitting event %j",e),null!=t.id&&(l("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?d.apply(this,e):this.receiveBuffer.push(e)},r.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=i(arguments);l("sending ack %j",r);var a=u(r)?o.BINARY_ACK:o.ACK;e.packet({type:a,id:t,data:r})}}},r.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(l("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):l("bad ack %s",t.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)d.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(t,e,n){(function(n){function r(t,e){var r=t,e=e||n.location;null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"==t.charAt(0)&&(t="/"==t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(a("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),a("parse %s",t),r=o(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var i=-1!==r.host.indexOf(":"),s=i?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port,r.href=r.protocol+"://"+s+(e&&e.port==r.port?"":":"+r.port),r}var o=t("parseuri"),a=t("debug")("socket.io-client:url");e.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{debug:39,parseuri:45}],36:[function(t,e,n){function r(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}e.exports=r,r.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}},{}],37:[function(t,e,n){var r=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},{}],38:[function(t,e,n){function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],39:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{"./debug":40,dup:17}],40:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18,ms:44}],41:[function(t,e,n){(function(n){function r(t){function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(o(t)){for(var r=0;r<t.length;r++)if(e(t[r]))return!0}else if(t&&"object"==typeof t){t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON());for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&e(t[a]))return!0}return!1}return e(t)}var o=t("isarray");e.exports=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:43}],42:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],43:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],44:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],45:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],46:[function(t,e,n){(function(e){var r=t("isarray"),o=t("./is-buffer");n.deconstructPacket=function(t){function e(t){if(!t)return t;if(o(t)){var a={_placeholder:!0,num:n.length};return n.push(t),a}if(r(t)){for(var i=new Array(t.length),s=0;s<t.length;s++)i[s]=e(t[s]);return i}if("object"==typeof t&&!(t instanceof Date)){var i={};for(var c in t)i[c]=e(t[c]);return i}return t}var n=[],a=t.data,i=t;return i.data=e(a),i.attachments=n.length,{packet:i,buffers:n}},n.reconstructPacket=function(t,e){function n(t){if(t&&t._placeholder){return e[t.num]}if(r(t)){for(var o=0;o<t.length;o++)t[o]=n(t[o]);return t}if(t&&"object"==typeof t){for(var a in t)t[a]=n(t[a]);return t}return t}return t.data=n(t.data),t.attachments=void 0,t},n.removeBlobs=function(t,n){function a(t,c,l){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){i++;var u=new FileReader;u.onload=function(){l?l[c]=this.result:s=this.result,--i||n(s)},u.readAsArrayBuffer(t)}else if(r(t))for(var p=0;p<t.length;p++)a(t[p],p,t);else if(t&&"object"==typeof t&&!o(t))for(var d in t)a(t[d],d,t)}var i=0,s=t;a(s),i||n(s)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./is-buffer":48,isarray:43}],47:[function(t,e,n){function r(){}function o(t){var e="",r=!1;return e+=t.type,n.BINARY_EVENT!=t.type&&n.BINARY_ACK!=t.type||(e+=t.attachments,e+="-"),t.nsp&&"/"!=t.nsp&&(r=!0,e+=t.nsp),null!=t.id&&(r&&(e+=",",r=!1),e+=t.id),null!=t.data&&(r&&(e+=","),e+=p.stringify(t.data)),u("encoded %j as %s",t,e),e}function a(t,e){function n(t){var n=f.deconstructPacket(t),r=o(n.packet),a=n.buffers;a.unshift(r),e(a)}f.removeBlobs(t,n)}function i(){this.reconstructor=null}function s(t){var e={},r=0;if(e.type=Number(t.charAt(0)),null==n.types[e.type])return l();if(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type){for(var o="";"-"!=t.charAt(++r)&&(o+=t.charAt(r),r!=t.length););if(o!=Number(o)||"-"!=t.charAt(r))throw new Error("Illegal attachments");e.attachments=Number(o)}if("/"==t.charAt(r+1))for(e.nsp="";++r;){var a=t.charAt(r);if(","==a)break;if(e.nsp+=a,r==t.length)break}else e.nsp="/";var i=t.charAt(r+1);if(""!==i&&Number(i)==i){for(e.id="";++r;){var a=t.charAt(r);if(null==a||Number(a)!=a){--r;break}if(e.id+=t.charAt(r),r==t.length)break}e.id=Number(e.id)}if(t.charAt(++r))try{e.data=p.parse(t.substr(r))}catch(t){return l()}return u("decoded %s as %j",t,e),e}function c(t){this.reconPack=t,this.buffers=[]}function l(t){return{type:n.ERROR,data:"parser error"}}var u=t("debug")("socket.io-parser"),p=t("json3"),d=(t("isarray"),t("component-emitter")),f=t("./binary"),h=t("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=r,n.Decoder=i,r.prototype.encode=function(t,e){if(u("encoding packet %j",t),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type)a(t,e);else{e([o(t)])}},d(i.prototype),i.prototype.add=function(t){var e;if("string"==typeof t)e=s(t),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type?(this.reconstructor=new c(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!h(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",e))}},i.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(t,e,n){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],49:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],50:[function(e,n,r){(function(e){(function(){function o(t,e){function n(t){if(n[t]!==y)return n[t];var o;if("bug-string-char-index"==t)o="a"!="a"[0];else if("json"==t)o=n("json-stringify")&&n("json-parse");else{var i,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c=e.stringify,u="function"==typeof c&&b;if(u){(i=function(){return 1}).toJSON=i;try{u="0"===c(0)&&"0"===c(new r)&&'""'==c(new a)&&c(g)===y&&c(y)===y&&c()===y&&"1"===c(i)&&"[1]"==c([i])&&"[null]"==c([y])&&"null"==c(null)&&"[null,null,null]"==c([y,g,null])&&c({a:[i,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===c(null,i)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new l(-1))}catch(t){u=!1}}o=u}if("json-parse"==t){var p=e.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){i=p(s);var d=5==i.a.length&&1===i.a[0];if(d){try{d=!p('"\t"')}catch(t){}if(d)try{d=1!==p("01")}catch(t){}if(d)try{d=1!==p("1.")}catch(t){}}}}catch(t){d=!1}o=d}}return n[t]=!!o}t||(t=c.Object()),e||(e=c.Object());var r=t.Number||c.Number,a=t.String||c.String,s=t.Object||c.Object,l=t.Date||c.Date,u=t.SyntaxError||c.SyntaxError,p=t.TypeError||c.TypeError,d=t.Math||c.Math,f=t.JSON||c.JSON;"object"==typeof f&&f&&(e.stringify=f.stringify,e.parse=f.parse);var h,m,y,_=s.prototype,g=_.toString,b=new l(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(t){}if(!n("json")){var v="[object Function]",w="[object Number]",k="[object String]",x="[object Array]",C=n("bug-string-char-index");if(!b)var A=d.floor,T=[0,31,59,90,120,151,181,212,243,273,304,334],B=function(t,e){return T[e]+365*(t-1970)+A((t-1969+(e=+(e>1)))/4)-A((t-1901+e)/100)+A((t-1601+e)/400)};if((h=_.hasOwnProperty)||(h=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=g?h=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,h=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,h.call(this,t)}),m=function(t,e){var n,r,o,a=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(o in r)h.call(r,o)&&a++;return n=r=null,a?m=2==a?function(t,e){var n,r={},o=g.call(t)==v
;for(n in t)o&&"prototype"==n||h.call(r,n)||!(r[n]=1)||!h.call(t,n)||e(n)}:function(t,e){var n,r,o=g.call(t)==v;for(n in t)o&&"prototype"==n||!h.call(t,n)||(r="constructor"===n)||e(n);(r||h.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(t,e){var n,o,a=g.call(t)==v,s=!a&&"function"!=typeof t.constructor&&i[typeof t.hasOwnProperty]&&t.hasOwnProperty||h;for(n in t)a&&"prototype"==n||!s.call(t,n)||e(n);for(o=r.length;n=r[--o];s.call(t,n)&&e(n));}),m(t,e)},!n("json-stringify")){var S={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},M=function(t,e){return("000000"+(e||0)).slice(-t)},L=function(t){for(var e='"',n=0,r=t.length,o=!C||r>10,a=o&&(C?t.split(""):t);n<r;n++){var i=t.charCodeAt(n);switch(i){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=S[i];break;default:if(i<32){e+="\\u00"+M(2,i.toString(16));break}e+=o?a[n]:t.charAt(n)}}return e+'"'},O=function(t,e,n,r,o,a,i){var s,c,l,u,d,f,_,b,v,C,T,S,E,D,R,j;try{s=e[t]}catch(t){}if("object"==typeof s&&s)if("[object Date]"!=(c=g.call(s))||h.call(s,"toJSON"))"function"==typeof s.toJSON&&(c!=w&&c!=k&&c!=x||h.call(s,"toJSON"))&&(s=s.toJSON(t));else if(s>-1/0&&s<1/0){if(B){for(d=A(s/864e5),l=A(d/365.2425)+1970-1;B(l+1,0)<=d;l++);for(u=A((d-B(l,0))/30.42);B(l,u+1)<=d;u++);d=1+d-B(l,u),f=(s%864e5+864e5)%864e5,_=A(f/36e5)%24,b=A(f/6e4)%60,v=A(f/1e3)%60,C=f%1e3}else l=s.getUTCFullYear(),u=s.getUTCMonth(),d=s.getUTCDate(),_=s.getUTCHours(),b=s.getUTCMinutes(),v=s.getUTCSeconds(),C=s.getUTCMilliseconds();s=(l<=0||l>=1e4?(l<0?"-":"+")+M(6,l<0?-l:l):M(4,l))+"-"+M(2,u+1)+"-"+M(2,d)+"T"+M(2,_)+":"+M(2,b)+":"+M(2,v)+"."+M(3,C)+"Z"}else s=null;if(n&&(s=n.call(e,t,s)),null===s)return"null";if("[object Boolean]"==(c=g.call(s)))return""+s;if(c==w)return s>-1/0&&s<1/0?""+s:"null";if(c==k)return L(""+s);if("object"==typeof s){for(D=i.length;D--;)if(i[D]===s)throw p();if(i.push(s),T=[],R=a,a+=o,c==x){for(E=0,D=s.length;E<D;E++)S=O(E,s,n,r,o,a,i),T.push(S===y?"null":S);j=T.length?o?"[\n"+a+T.join(",\n"+a)+"\n"+R+"]":"["+T.join(",")+"]":"[]"}else m(r||s,function(t){var e=O(t,s,n,r,o,a,i);e!==y&&T.push(L(t)+":"+(o?" ":"")+e)}),j=T.length?o?"{\n"+a+T.join(",\n"+a)+"\n"+R+"}":"{"+T.join(",")+"}":"{}";return i.pop(),j}};e.stringify=function(t,e,n){var r,o,a,s;if(i[typeof e]&&e)if((s=g.call(e))==v)o=e;else if(s==x){a={};for(var c,l=0,u=e.length;l<u;c=e[l++],((s=g.call(c))==k||s==w)&&(a[c]=1));}if(n)if((s=g.call(n))==w){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else s==k&&(r=n.length<=10?n:n.slice(0,10));return O("",(c={},c[""]=t,c),o,a,r,"",[])}}if(!n("json-parse")){var E,D,R=a.fromCharCode,j={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},N=function(){throw E=D=null,u()},I=function(){for(var t,e,n,r,o,a=D,i=a.length;E<i;)switch(o=a.charCodeAt(E)){case 9:case 10:case 13:case 32:E++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=C?a.charAt(E):a[E],E++,t;case 34:for(t="@",E++;E<i;)if((o=a.charCodeAt(E))<32)N();else if(92==o)switch(o=a.charCodeAt(++E)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=j[o],E++;break;case 117:for(e=++E,n=E+4;E<n;E++)(o=a.charCodeAt(E))>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||N();t+=R("0x"+a.slice(e,E));break;default:N()}else{if(34==o)break;for(o=a.charCodeAt(E),e=E;o>=32&&92!=o&&34!=o;)o=a.charCodeAt(++E);t+=a.slice(e,E)}if(34==a.charCodeAt(E))return E++,t;N();default:if(e=E,45==o&&(r=!0,o=a.charCodeAt(++E)),o>=48&&o<=57){for(48==o&&(o=a.charCodeAt(E+1))>=48&&o<=57&&N(),r=!1;E<i&&(o=a.charCodeAt(E))>=48&&o<=57;E++);if(46==a.charCodeAt(E)){for(n=++E;n<i&&(o=a.charCodeAt(n))>=48&&o<=57;n++);n==E&&N(),E=n}if(101==(o=a.charCodeAt(E))||69==o){for(o=a.charCodeAt(++E),43!=o&&45!=o||E++,n=E;n<i&&(o=a.charCodeAt(n))>=48&&o<=57;n++);n==E&&N(),E=n}return+a.slice(e,E)}if(r&&N(),"true"==a.slice(E,E+4))return E+=4,!0;if("false"==a.slice(E,E+5))return E+=5,!1;if("null"==a.slice(E,E+4))return E+=4,null;N()}return"$"},U=function(t){var e,n;if("$"==t&&N(),"string"==typeof t){if("@"==(C?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=I());n||(n=!0))n&&(","==t?"]"==(t=I())&&N():N()),","==t&&N(),e.push(U(t));return e}if("{"==t){for(e={};"}"!=(t=I());n||(n=!0))n&&(","==t?"}"==(t=I())&&N():N()),","!=t&&"string"==typeof t&&"@"==(C?t.charAt(0):t[0])&&":"==I()||N(),e[t.slice(1)]=U(I());return e}N()}return t},q=function(t,e,n){var r=P(t,e,n);r===y?delete t[e]:t[e]=r},P=function(t,e,n){var r,o=t[e];if("object"==typeof o&&o)if(g.call(o)==x)for(r=o.length;r--;)q(o,r,n);else m(o,function(t){q(o,t,n)});return n.call(t,e,o)};e.parse=function(t,e){var n,r;return E=0,D=""+t,n=U(I()),"$"!=I()&&N(),E=D=null,e&&g.call(e)==v?P((r={},r[""]=n,r),"",e):n}}}return e.runInContext=o,e}var a="function"==typeof t&&t.amd,i={function:!0,object:!0},s=i[typeof r]&&r&&!r.nodeType&&r,c=i[typeof window]&&window||this,l=s&&i[typeof n]&&n&&!n.nodeType&&"object"==typeof e&&e;if(!l||l.global!==l&&l.window!==l&&l.self!==l||(c=l),s&&!a)o(c,s);else{var u=c.JSON,p=c.JSON3,d=!1,f=o(c,c.JSON3={noConflict:function(){return d||(d=!0,c.JSON=u,c.JSON3=p,u=p=null),f}});c.JSON={parse:f.parse,stringify:f.stringify}}a&&t("static/js/exchange/dist/script/module_socket_io",[],function(){return f})}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],51:[function(t,e,n){function r(t,e){var n=[];e=e||0;for(var r=e||0;r<t.length;r++)n[r-e]=t[r];return n}e.exports=r},{}]},{},[31])(31)});
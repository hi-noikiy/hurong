define("static/js/exchange/dist/script/page_l_trade",["./module_accurate","./module_number","./module_validator","./module_range","./module_ajax","./module_switch","./module_cookie","./module_dialog","./module_md5","./module_this_jack","./page_l_notice","./page_l_order","./module_order","jquery","./module_tmpl","./module_hb_extend"],function(e){function t(e){_orderType=e.data("order-type")||"PlaceOrder",_panelType=e.data("panel-type")||"Limited"}function a(e){if("HBForm"===e.Type)return e;var t=T(e);return t.find("[name]").each(function(e,a){var n=T(a),r=n.attr("name");t[r]=n,t[r].Value=n.val()}),t.Type="HBForm",t}function n(e,t){return/\.$/.test(e)?p(e):p(e,t)}function r(){var e=this;e.FormatVal=function(t){var a=e.val();a<0&&(a=0,e.val(a)),""==a||("price"==t?/^(([0-9]{1}\d*)|([0]{1}))(\.(\d){0,2})?$/:/^(([0-9]{1}\d*)|([0]{1}))(\.(\d){0,4})?$/).test(a)||(T(".keepDecimalForCoin").val(),T(".keepDecimalForCurrency").val(),a=n(1*a,"price"==t?Number(3):Number(4)),e.val(a));var r=T(".buyrate").val(),o=T(".sellrate").val(),i=T("#buy_price").val(),s=T("#buy_amount").val(),c=T("#sell_price").val(),d=T("#sell_amount").val(),l=Number(r)/100*Number(i)*Number(s),u=Number(o)/100*Number(c)*Number(d),_=e.attr("id");return void 0!=_&&("buy"==_.substring(0,_.indexOf("_"))?T(".buyCharge").html(n(l,3)):T(".sellCharge").html(n(u,3))),1*a}}function o(e,t,a){var n;return"PlaceOrder"===_orderType?t&&e?(n=m.Mul(1*t,1*e),a&&a.html(p(n,3)).attr("actual",n)):(n=0,a&&a.html("0.00")):"PlaceMarketOrder"===_orderType&&(n=void 0!==e?e:t),n}function i(e){var t=e||{},a=t.trade_type,n=t.loan_type,r=t.price,o=t.available,i=m.Add(t.loan_enable,o),s=[];s=function(e,t,r,o,i){var s=[];return"buy"===a?(s[0]=r?m.Div(n?t:e,r):0,s[0]=s[0]<o[0]?s[0]:o[0],s[1]=n?t:e,s[1]=s[1]<i[0]?s[1]:i[0]):(s[2]=n?t:e,s[2]=s[2]<o[1]?s[2]:o[1],s[3]=n?t<i[1]?t:i[1]:e<i[1]?e:i[1]),s}(o,i,r,[_limits.trade["max_buy_"+_coinType],_limits.trade["max_sell_"+_coinType]],[_limits.trade["max_buy_"+_coinType+"_mp"],_limits.trade["max_sell_"+_coinType+"_mp"]]),void 0!==s[0]&&(_caches.trade.buy_max=s[0]),void 0!==s[1]&&(_caches.trade.buy_max_mp=s[1]),void 0!==s[2]&&(_caches.trade.sell_max=s[2]),void 0!==s[3]&&(_caches.trade.sell_max_mp=s[3])}function s(e,t){"buy"===e?"PlaceOrder"==_orderType?t&&t.attr("data-max",p(_caches.trade.buy_max,4)).parent().find(".max_amount_num").html(p(_caches.trade.buy_max,4)):"PlaceMarketOrder"===_orderType&&t&&t.attr("data-max",p(_caches.trade.buy_max_mp,4)).parent().find(".max_amount_num").html(p(_caches.trade.buy_max_mp,4)):"PlaceOrder"==_orderType?t&&t.attr("data-max",p(_caches.trade.sell_max,4)).parent().find(".max_amount_num").html(p(_caches.trade.sell_max,4)):"PlaceMarketOrder"===_orderType&&t&&t.attr("data-max",p(_caches.trade.sell_max_mp,4)).parent().find(".max_amount_num").html(p(_caches.trade.sell_max_mp,4))}function c(e,t,a,n,r,o){var i=0;return i="buy"===a?1*m.Sub(e[0],t)>0?1*m.Sub(e[0],t):0:1*m.Sub(e[1],t)>0?1*m.Sub(e[1],t):0,i=i>0&&i<_limits.loan["min_"+r]?_limits.loan["min_"+r]:i,"buy"===a?n&&n.html(o?p(d(i,"currency"),4):"0.00").attr("data-amount",d(p(i),"currency")):n&&n.html(o?p(d(i,"coin"),4):"0.0000").attr("data-amount",d(p(i),"coin")),i}function d(e,t){var a;return"currency"==t&&(a=Math.floor(100*e+.9)/100),"coin"==t&&(a=Math.floor(1e4*e+.9)/1e4),a}function l(e,t,a){var n=a&&t?a/t*100:0;e.Update(n)}function u(e,t,r){var o=T(t),i=o.find(".range_ratio"),s=a(o.parents("form")),c=s.data("trade-type"),d=e/100;d?i.show():i.hide(),i.css({left:e+"%"}),"PlaceOrder"===_orderType?"buy"===c?s.amount.val(n(m.Mul(_caches.trade.buy_max,d),4)).trigger("keyup",["slide"]):s.amount.val(n(m.Mul(_caches.trade.sell_max,d),4)).trigger("keyup",["slide"]):"PlaceMarketOrder"===_orderType&&("buy"===c?s.market_transaction_amount.val(n(m.Mul(_caches.trade.buy_max_mp,d),4)).trigger("keyup",["slide"]):s.market_amount.val(n(m.Mul(_caches.trade.sell_max_mp,d),4)).trigger("keyup",["slide"]))}function _(e,t){var a=e||{};h({url:"/trade/do_"+a.type+"?st=trade_trade&order_source=8",data:a.data,type:"POST",init:a.init},function(e){var a=e.code;if(console.log("trade ajax",a),"success"==a||"error"==a){var n=e.data;t&&t(n,a)}})}var m=e("./module_accurate"),p=e("./module_number"),f=e("./module_validator"),g=e("./module_range"),h=e("./module_ajax"),y=e("./module_switch"),v=e("./module_cookie"),b=e("./module_dialog"),x=e("./module_md5"),w=e("./module_this_jack"),k=e("./page_l_notice"),C=e("./page_l_order"),T=e("jquery"),j=(e("./module_hb_extend"),T(document)),S={};DOC={},HRYB.BALANCE=S,DOC.doc=T(document),_limits={trade:{max_buy_cny_btc:2e8,max_buy_cny_ltc:2e8,max_sell_cny_btc:2e8,max_sell_cny_ltc:2e8,max_buy_usd_btc:2e8,max_buy_usd_ltc:2e8,max_sell_usd_btc:2e8,max_sell_usd_ltc:2e8,max_buy_cny_btc_mp:2e8,max_buy_cny_ltc_mp:2e8,max_sell_cny_btc_mp:2e8,max_sell_cny_ltc_mp:2e8,max_buy_usd_btc_mp:2e8,max_buy_usd_ltc_mp:2e8,max_sell_usd_btc_mp:2e8,max_sell_usd_ltc_mp:2e8},loan:{min_cny_cny:100,min_cny_btc:.1,min_cny_ltc:1,min_usd_usd:50,min_usd_btc:.1,min_usd_ltc:1}},_caches={trade:{buy_max:0,sell_max:0,buy_max_mp:0,sell_max_mp:0},loan:{cny_cny:{enable:0,total:0},cny_btc:{enable:0,total:0},cny_ltc:{enable:0,total:0},usd_usd:{enable:0,total:0},usd_btc:{enable:0,total:0}}},_orderType="PlaceOrder",_panelType="Limited",_coinType=document.getElementsByName("coin_type")[0].value,_dom={".form_trade":T(".form_trade")},buyRange=new g({range:"#range_buy",step:1,point:4,delay:10,slide:function(e,t){u(e,t)}}),sellRange=new g({range:"#range_sell",step:1,point:4,delay:10,slide:function(e,t){u(e,t)}}),buyRangeMp=new g({range:"#range_buy_mp",step:1,point:4,delay:15,slide:function(e,t){u(e,t)}}),sellRangeMp=new g({range:"#range_sell_mp",step:1,point:4,delay:15,slide:function(e,t){u(e,t)}}),_CSRF=document.getElementsByName("_csrf")[0]&&document.getElementsByName("_csrf")[0].value,GetLoanInfo=function(e,t){if(UID)return new h({url:"/loan/index.do",data:{a:"get_loan_available_multi",loan_types:e},init:t},function(e){if("success"==e.code){var t,a=e.data;0===a.code&&a.ext&&(T.each(a.ext,function(e,a){t=1*a.enable,_caches.loan[e].enable=t,_caches.loan[e].total=m.Add(t,HRYB.BALANCE[e+"available"]||0)}),j.trigger("__LoanWrite"))}})},GetLoanNow=function(e,t){var a=e||{},n=a.amount||0,r=a.loan_type;if(!(n<=0))return new h({url:"/loan/index.do",data:{a:"do_loan",loan_type:r,currency:n,_csrf:_CSRF,check:"on"},type:"POST",random:!1},function(e){t&&t(e)})},window.buyRange=buyRange;var O=GetLoanInfo("cny_cny,cny_btc","cny_btc"==_coinType),F=GetLoanInfo("cny_cny,cny_ltc","cny_ltc"==_coinType),M=GetLoanInfo("usd_usd,usd_btc","usd_btc"==_coinType);!function(){function e(){var e=v.Cookie("trade_pwd_on"),t=v.Cookie("trade_pwd_time");return"0"!=e&&("1"==e||!t||"0"==t)}function n(e){function t(){e&&e(),A.Close()}R.val("");var a=R.data("msg-null");B.removeClass("v_error").text(""),S.is(":hidden")&&(A.Show(),R.focus(),S.attr("data-init","1"),R.off("keydown"),N.off("click"),R.keydown(function(e){13==e.keyCode&&(h=R.val(),t())}),N.on("click",function(){h=R.val(),h&&""!=h?t():B.addClass("v_error").text(a)}))}function d(e,t){function a(e){return e.addClass("focus"),setTimeout(function(){e.removeClass("focus")},300),e}var n,r,o,i=this,s=null,c=i,d=e,l=d.find(".info"),u=[T("#buy_price"),T("#buy_amount"),T("#sell_price"),T("#sell_amount")];c.on("mouseover",".tr",function(){n=T(this),i.Show(n)}),c.on("mouseout",".tr",function(){i.Hide()}),d.hover(function(){i.Clear()},function(){i.Hide()}).on("click","span",function(){var e=T(this),t=e.attr("data-info")&&e.attr("data-info").split("|"),n=t&&isNaN(1*t[0]),o=1*d.find(".col_2").attr("data-info"),i=d.attr("data-type");t&&UID&&("Lightning"==_panelType?n&&j.trigger("__LightTrade",[o,t[0],i]):("Limited"!==_panelType&&(j.trigger("__OrderType",[1]),j.trigger("__TradeTab",[1])),"sell"==r?(a(u[0]).val(t[0]).keyup(),t[1]&&a(u[1]).val(t[1]).keyup()):(a(u[2]).val(t[0]).keyup(),t[1]&&a(u[3]).val(t[1]).keyup())))}),i.Show=function(e){i.Clear();var t=e.offset();o="Lightning"==_panelType&&UID?"light":"",r=e.data("type"),d.css({display:"block",top:t.top,left:t.left+5}).attr("data-type","buy"==r?"buy":"sell")[0].className="buy"==r?"font_buy "+o:"font_sell "+o,l.html(e.html())},i.Hide=function(){s=setTimeout(function(){d.hide()},50)},i.Clear=function(){clearTimeout(s)}}function u(e,t){var n=a(e),r=(n.find(".transaction_amount"),n.find(".loan_amount"),n.find(".trade_msg"));"all"===t&&n.price.val(""),n.amount&&n.amount.val("").keyup(),n.market_transaction_amount&&n.market_transaction_amount.val("").keyup(),n.market_amount&&n.market_amount.val("").keyup(),r&&r.html(""),n.loan_switch&&n.loan_switch.prop("checked",!1).attr("data-loan-state",0).change()}function g(){G.total=p(m.Mul(G.amount,G.times),4),D.html(G.total)}var h,S=T("#trade_pwd_dialog"),A=new b({dialog:S},function(e,t,a){"close"==t&&a&&S.attr("data-init","")}),B=S.find(".tip"),N=T("#trade_pwd_submit"),R=T("#trade_pwd");f({forms:_dom[".form_trade"],tip:".trade_msg",beforeValidation:function(e){e.attr("action",HRY.host+HRY.modules.exmain+"entrust/add.do"),j.trigger("__TradeFormValidation",[e])},beforeSubmit:function(e){var t=a(e),n=t.data("trade-type"),r=t.coin_type.val().split("_"),o="buy"==n?r[0]+"_"+r[0]:r[0]+"_"+r[1],i=t.loan_switch,s=i&&1*i.attr("data-loan-state"),c=1*t.find(".loan_amount").attr("data-amount");if(t._coin=o,c>0&&i.prop("checked"))switch(s){case 0:return j.trigger("__GetLoanNow",[t,o,c]),!1;case 1:return!1;case 2:break;case 3:default:return!1}j.trigger("__TradeFormBeforeSubmit",[t])},callback:function(e,t){S.attr("data-init",""),j.trigger("__TradeFormCallback",[t,JSON.parse(e)])},postData:function(e){for(var t=[{name:"coinCode",value:CURRENT_SYMBOL}],a=0;a<e.length;a++)"price"==e[a].name?t.push({name:"entrustPrice",value:e[a].value}):"amount"==e[a].name||"market_amount"==e[a].name?t.push({name:"entrustCount",value:e[a].value}):"order_type"==e[a].name||"coin_type"==e[a].name||("market_transaction_price"==e[a].name?t.push({name:"entrustSum",value:e[a].value}):t.push(e[a]));return""!=T.trim(h)&&x.hbmd5(h),t},ajaxError:function(e){S.attr("data-init",""),j.trigger("__TradeFormError",[e])}}),_dom[".form_trade"].each(function(){var e=a(T(this)),t=e.data("trade-type"),n=e.coin_type.val().split("_"),o="buy"==t?n[0]+"_"+n[0]:n[0]+"_"+n[1],i=e.loan_switch,s=(e.find(".loan_available"),e.find(".range_wrap")),c=e.find(".max_amount"),d=e.find(":submit"),l=(c.parent(),c.find("b")),u=e.find(".trade_amount"),_={price:e.price&&e.price.Value||0,amount:e.amount&&e.amount.Value||0,market_t:e.market_transaction_amount&&e.market_transaction_amount.Value||0,market_a:e.market_amount&&e.market_amount.Value||0};w(r,e.price),w(r,e.amount),w(r,e.market_transaction_amount),w(r,e.market_amount),e._DMax=c,e._DMaxB=l,e._type=t,e._coin=o,e.transaction_amount=e.find(".transaction_amount"),e.loan_amount=e.find(".loan_amount"),e.max_amount=e.find(".max_amount"),function(t){for(var a=t.length,n=0;n<a;n++)t[n]&&t[n].on("focus",function(){e.trigger("__FormMax"),T(this).parent().addClass("focus")}).on("blur",function(){T(this).parent().removeClass("focus"),1*T(this).val()<=0&&T(this).val("")}).on("__Focus",function(){T(this).parent().addClass("focus")})}([e.price,e.amount,e.market_transaction_amount,e.market_amount]),e.price&&e.price.on("keyup change",function(t,a){_.price=e.price.FormatVal("price"),e.trigger("__FormMax"),j.trigger("__TradeFormChange",[e,_,a,"price change"]),d.prop("disabled",!1)}).on("keypress",function(){d.prop("disabled",!0)}).on("change",function(){}),e.amount&&e.amount.on("keyup change",function(t,a){_.amount=e.amount.FormatVal("amount"),j.trigger("__TradeFormChange",[e,_,a,"amount change"]),d.prop("disabled",!1)}).on("keypress",function(){d.prop("disabled",!0)}),e.market_transaction_amount&&e.market_transaction_amount.on("keyup change",function(t,a){_.market_t=e.market_transaction_amount.FormatVal("price"),j.trigger("__TradeFormChange",[e,_,a,"market_t change"])}),e.market_amount&&e.market_amount.on("keyup change",function(t,a){_.market_a=e.market_amount.FormatVal("amount"),j.trigger("__TradeFormChange",[e,_,a,"market_a change"])}),i.on("change",function(){var t=T(this);e.trigger("__FormMax"),j.trigger("__TradeFormChange",[e,_,"","loan change"]),t.prop("checked")?(j.trigger("__GetLoanInfo",[_coinType,"loan success"]),u.addClass("show_loan")):u.removeClass("show_loan")}),s.on("focus",function(){e.trigger("__FormMax"),e.amount&&e.amount.trigger("__Focus"),e.transaction_amount&&e.transaction_amount.trigger("__Focus"),e.market_transaction_amount&&e.market_transaction_amount.trigger("__Focus"),e.market_amount&&e.market_amount.trigger("__Focus")}).on("blur",function(){T(this).parent().siblings().removeClass("focus")}),e.on("__FormMax",function(){HRYB.BALANCE&&j.trigger("__TradeMax",[e,{trade_type:t,available:HRYB.BALANCE[o+"_available"]||0,price:_.price,loan_type:i&&i.prop("checked"),loan_enable:_caches.loan[o].enable,coin:o},"__FormMax"])})}),w(d,T("#market_depth"),T("#quick_bar"));var L=T("#light_switch"),E=T("#light_times"),H=T("#light_amount"),P=T("#light_price"),D=T("#light_total"),G={},Y=H.data("min");w(r,H),G={times:1,amount:H.FormatVal("amount"),total:p(m.Mul(G.amount,G.times),4),state:L.prop("checked")},g(),H.on("keyup",function(){T(this),G.amount=H.FormatVal("amount"),g()}).on("change blur",function(){var e=T(this);1*e.val()<Y&&(e.val(Y),G.amount=Y),g()}),E.on("click","span",function(){var e=T(this),t=1*e.data("info");e.addClass("cur").siblings().removeClass("cur"),G.times=t,g()}),L.on("change",function(){G.state=L.prop("checked")}),j.on("__LightTrade",function(t,a,r,o){function i(){k({message:window.Texts&&Texts.ordering});var e="";""!=T.trim(h)&&(e=x.hbmd5(h)),_({type:s,init:!0,data:{price:a,amount:G.total,coin_type:_coinType,order_type:_orderType,trade_pwd:e&&e}},function(e,t){console.log(t),"success"==t&&j.trigger("__TradeFormCallback",["",e]),"error"==t&&j.trigger("__TradeFormError")})}if(!G.state)return k({message:window.Texts&&Texts.please_open_loan,type:"error",long:5e3}),!1;var s="buy"==o?"eat"==r?"sell":"buy":"eat"==r?"buy":"sell";return P.html(a)[0].className="buy"==s?"font_buy":"font_sell",console.log("__LightTrade"),S.is(":hidden")&&e()?(n(function(){i()}),!1):void i()}),HRYB.NUM=p,y({Switch:".switch"}),j.on("DoDocHidden",function(){HRYB.GLOBAL.docHidden?C.GetOrder&&C.GetOrder.Stop():C.GetOrder&&C.GetOrder.Play()}),j.on("__TradeFormChange",function(e,t,a,n,r){if(HRYB.BALANCE){c([o("PlaceOrder"==_orderType?a.price:a.market_t,a.amount,t.transaction_amount),"PlaceOrder"==_orderType?a.amount:a.market_a],HRYB.BALANCE[t._coin+"_available"]||0,t._type,t.loan_amount,t._coin,t.loan_switch.prop("checked")),"slide"!==n&&("buy"===t._type?(""!==a.amount&&"PlaceOrder"==_orderType&&l(buyRange,_caches.trade.buy_max,a.amount),""!==a.market_t&&"PlaceMarketOrder"==_orderType&&l(buyRangeMp,_caches.trade.buy_max_mp,a.market_t)):(""!==a.amount&&"PlaceOrder"==_orderType&&l(sellRange,_caches.trade.sell_max,a.amount),""!==a.market_a&&"PlaceMarketOrder"==_orderType&&l(sellRangeMp,_caches.trade.sell_max_mp,a.market_a)))}}).on("__TradeMax",function(e,t,a,n){HRYB.BALANCE&&(i(a),s(t._type,"PlaceOrder"==_orderType?t.amount:"buy"==t._type?t.market_transaction_amount:t.market_amount))}).on("__TradeFormBeforeSubmit",function(e,t){var a=t.find(":submit"),n=a.data("msg-submit").split(",");a.text(n[1]+n[3]),k({message:n[1]+n[3]})}).on("__TradeFormCallback",function(e,t,a){var n=(t&&t.attr("data-form-type"),t&&t.find(":submit")),r=t&&n.data("msg-submit").split(",");1==a.success?(C.GetOrder.Play(),"PlaceMarketOrder"===_orderType?setTimeout(function(){C.GetHistory.Fire()},1e3):setTimeout(function(){C.GetHistory.Fire()},500),k({message:a.msg,long:1800}),n&&n.text(r[0])):(k({message:a.msg,type:"error",long:5e3}),n&&n.text(r[0])),u(t),S.attr("data-init",""),HRYB.AJAX.GetBalance.Fire()}).on("__TradeFormError",function(e,t){var a=(t&&t.attr("data-form-type"),t&&t.find(":submit")),n=t&&a.data("msg-submit").split(",");S.attr("data-init",""),k({message:window.Texts&&Texts.tradeError,type:"error",long:5e3}),a&&a.text(n[0])}).on("__LoanWrite",function(){for(var e in _caches.loan){var t=_caches.loan[e];T(".loan_"+e).html((/btc|ltc/.test(e),p(t.enable,4))).attr("data-enable",t.enable),t.enable?T(".loan_switch_"+e).prop("disabled",!1).trigger("__Update"):T(".loan_switch_"+e).prop("disabled",!0).trigger("__Update")}}).on("__GetLoanNow",function(e,t,a,n){var r,o=t.find(":submit"),i=o.data("msg-submit").split(",");GetLoanNow({loan_type:t._coin,amount:n},function(e){switch(e.code){case"loading":t.loan_switch.attr("data-loan-state",1),o.text(i[2]+i[3]),k({message:i[2]+i[3]});break;case"error":t.loan_switch.attr("data-loan-state",0);break;case"success":if(r=e.data,0===r.code){t.loan_switch.attr("data-loan-state",2),HRYB.AJAX.GetBalance.Fire(),j.trigger("__GetLoanInfo",[_coinType,"loan success"]),t.submit();break}k({message:r.msg,type:"error",long:5e3}),t.loan_switch.attr("data-loan-state",0),o.text(i[0])}})}).on("__GetLoanInfo",function(e,t,a){switch(t){case"cny_btc":O.Fire();break;case"cny_ltc":F.Fire();break;case"usd_btc":M.Fire()}}).on("__OrderType",function(e,a){var n=T(".panel").eq(a);t(n),n.find("form").each(function(){u(T(this))})})}()}),function(){var e={Add:function(e,t){if(void 0!=e&&void 0!=t){var a,n,r,o=this.Mul;try{a=e.toString().split(".")[1].length}catch(e){a=0}try{n=t.toString().split(".")[1].length}catch(e){n=0}return r=Math.pow(10,Math.max(a,n)),(o(e,r)+o(t,r))/r}},Sub:function(e,t){if(void 0!=e&&void 0!=t){var a,n,r,o,i=this.Mul;try{a=e.toString().split(".")[1].length}catch(e){a=0}try{n=t.toString().split(".")[1].length}catch(e){n=0}return r=Math.pow(10,Math.max(a,n)),o=a>=n?a:n,((i(e,r)-i(t,r))/r).toFixed(o)}},format_number:function(e){return(e.toFixed(0)+"").replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")},BtcRound:function(e,t){for(var a,n=1,r=0;r<t;r++)n*=10;return a=e*n,(a=Math.round(a))/n},Mul:function(e,t){if(void 0!=e&&void 0!=t){var a=0,n=e.toString(),r=t.toString();try{a+=n.split(".")[1].length}catch(e){}try{a+=r.split(".")[1].length}catch(e){}return Number(n.replace(".",""))*Number(r.replace(".",""))/Math.pow(10,a)}},Div:function(e,t){if(void 0!=e&&void 0!=t){var a=0,n=0;try{a=e.toString().split(".")[1].length}catch(e){}try{n=t.toString().split(".")[1].length}catch(e){}return Number(e.toString().replace(".",""))/Number(t.toString().replace(".",""))*Math.pow(10,n-a)}}};"function"==typeof define?define("static/js/exchange/dist/script/module_accurate",[],function(){return e}):"undefined"!=typeof exports?module.exports=e:window.BitAcc=e}(),function(){function e(e,t){if(void 0!=e){var a=function(e){var t,a,n,r,o,i,s="string"==typeof e?e.toLowerCase().replace(/\s/g,""):e.toString().toLowerCase().replace(/\s/g,""),c="000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";return/e[+-]/.test(s)?(a=/\+/.test(s),n=s.split("e"),t=/\-/.test(n[0].toString())?"-0.":"0.",n[0]=n[0].replace("-",""),r=n[0].split(".")[1]?n[0].split(".")[1].length:0,o=n[1],i=o.split(a?"+":"-")[1],n=n[0].replace(".",""),a?n+c.substring(0,i-r):t+c.substring(0,i-1)+n):s}(e),n=a.indexOf("."),r=0,o=0;if(isNaN(parseFloat(a)))o=0;else if(isNaN(a))o=parseFloat(a);else if(void 0!==t)if(n>=0){if((r=a.substring(n+1,a.length).length)<t){for(var i=0;i<t-r;i++)a+="0";o=0==n?"0"+a:a}else{var s=a.substring(0,t+1+n);o=0==n?"0"+s:s}t<=0&&(o=parseInt(e))}else if(t>0){a+=".";for(var c=0;c<t;c++)a+="0";o=a}else t<=0&&(o=a);else o=Number(a);return o}}"function"==typeof define?define("static/js/exchange/dist/script/module_number",[],function(){return e}):"undefined"!=typeof exports?module.exports=e:window.BitNumber=e}(),function(window){var BitValidator=function(options){var _language={error:L("错误"),success:L("校验通过"),undefined:L("未定义"),error_min:L("数值小于"),error_max:L("数值大于"),error_submit:L("表单提交出错"),error_input:L("输入错误"),error_null:L("请输入信息")},_dataType={"*":/[\w\W]+/,n:/^\d+\.?\d*$/,s:/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]+$/,m:/^1[0-9]{10}$/,p:/^[0-9]{5,11}$/,e:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/,ZEN:/^(?!_)(?!.*?_$)([a-zA-Z0-9_.\u4e00-\u9fa5\s])*$/,NAME:/^(?!_)(?!.*?_$)([·a-zA-Z_.\u4e00-\u9fa5\s])*$/,EN:/^(?!_)(?!.*?_$)([a-zA-Z_\s.])*$/,NEN:/^(?!_\-)(?!.*?_$)([a-zA-Z0-9\s\,\'.])*$/,SPE:/^([^\/\\/:<>!\*\|"\?\$\=])*$/,pwd:/(?!\d+$)[\dA-Za-z\W]/,num_range:function(e){var t=Number($(e).attr("data-min")),a=Number($(e).attr("data-max")),n=$(e).attr("data-msg-error")?$(e).attr("data-msg-error").split(","):[],r=$(e).val();return!!/^\d+\.?\d*$/.test(r)&&(r<t?n[1]?n[1].indexOf("@@")>0?n[1].replace("@@",t):n[1]:_language.error_min+t:!(r>a)||(n[2]?n[2].indexOf("@@")>0?n[2].replace("@@",a):n[2]:_language.error_max+a))},compare:function(e){var t=$(e),a=t.parents("form"),n=t.val(),r=t.data("compare");return n==(/^\./.test(r)?a.find(r).val():a.find('[name="'+r+'"]').val())}},_default={forms:null,beforeSend:null,process:null,beforeValidation:null,beforeSubmit:null,formSubmit:null,callback:null,single:null,changes:null,ignoreHidden:!0,ajaxPost:!0,ajaxError:null,instant:!1,postData:null,tip:"",is_focus:!0,dataType:{}},_class={class_name:{input:{default:"input_text",success:"",error:"input_text_red"},msg:{default:"v_info",success:"v_success",error:"v_error"}}},_option=$.extend(_default,_class,options),_data_type=$.extend(_dataType,_option.dataType,$.ValidatorDataType),_form=$(options.forms),_record=!1,_init={fn_init:function(e){e.attr("validator","true");var t=e.find(":submit");t.prop("disabled")&&!t.data("disabled")&&t.prop("disabled",!1),_option.beforeSend&&_option.beforeSend(e),_option.instant?e.on("change",function(t){_init.fn_find(e)}):e.on("change",function(t){_init.fn_msg(t.target,3),_option.changes&&_option.changes(t.target,e)}),e.submit(function(){return _option.beforeValidation&&_option.beforeValidation($(this)),_init.fn_find($(this))?!1!==(_option.beforeSubmit&&_option.beforeSubmit($(this)))&&(_option.ajaxPost?(_init.fn_ajax($(this)),!1):void 0):(_option.process&&_option.process(),!1)})},fn_find:function(e){var t=[],a=null,n=null,r=null;return e.find("[data-type]").length>0?e.find("[data-type]").each(function(o,i){var s=$(i),c=s.data("must");return t=_init.fn_check(s,_init.fn_value(s,e),s.data("type")),a=s,n=s.data("ignore"),r=s.data("handle"),!!($(a).is(":hidden")&&_option.ignoreHidden&&void 0===r||$(a).attr("disabled")&&!c||$(a).attr("readonly")&&!c)||"empty"===n&&1==t[0]||"ignore"===n||(_option.single&&_option.single([a,t[0]]),1==t[0]&&_init.fn_msg(i,1),2==t[0]&&_init.fn_msg(i,2,t[1]),3==t[0]&&_init.fn_msg(i,3),0!=t[0]?(_record=!1,!1):(t[1]?_init.fn_msg(i,0,t[1]):_init.fn_msg(i,0),void(_record=!0)))}):_record=!0,_record},fn_value:function(e,t){var a;return e.is(":radio")?(a=t.find(":radio[name='"+e.attr("name")+"']:checked").val(),a=void 0===a?"":a):e.is(":checkbox")?(t.find(":checkbox[name='"+e.attr("name")+"']:checked").each(function(){a+=$(this).val()+","}),a=void 0===a?"":a):a=e.val(),$.trim(a)},fn_data_type:function(type){var _type=type,_reg=/\/.+\//g,_match=/^(.+?)(\d+)-(\d+)$/,_multi_reg=/^(.+?)(,|$|\||\s)(.+?)$/,_multi=/\/.+?\/[mgi]*(?=(,|$|\||\s))|[\w\*-]+/g,_rule=null;if(_reg.test(_type))_rule=[0,eval(_type)];else if(_data_type[_type]||!_type.match(_match)||_multi_reg.test(_type)){if(_data_type[_type])_rule="function"==typeof _data_type[_type]?[1,_data_type[_type]]:[2,_data_type[_type]];else if(_multi_reg.test(_type)){var _arr=[[]],_mark=_type.replace(_multi,"").replace(/\s*/g,"").split(""),_item=_type.match(_multi),_m=0;_arr[0].push(_item[0]);for(var _n=0;_n<_mark.length;_n++)"|"==_mark[_n]&&(_m++,_arr[_m]=[]),_arr[_m].push(_item[_n+1]);_rule=[4,_arr]}}else{var _temp=_type.match(_match);_rule=[3,_data_type[_temp[1]],_temp[2],_temp[3]]}if(!_rule)return alert(_type+_language.undefined),!1;if("4"==_rule[0]){var _it,_its,_rules=_rule[1];if(_rules.length>1)for(_it in _rules)for(_its in _rules[_it]){var _items=_rules[_it][_its];_data_type[_items]||_data_type[_items.match(_match)[1]]||(alert("l276 "+_items+_language.undefined),_rule=!1)}}return _rule},fn_check:function(e,t,a){function n(a){var n=[];if(""==$.trim(t))n[0]=1;else{if("0"!=a[0]&&"2"!=a[0]||(a[1].test(t)?n[0]=0:($(e).change(function(){a[1].test($(this).val())&&_init.fn_msg(e,0)}),n[0]=2)),"1"==a[0]){"string"==typeof a[1](e)?($(e).change(function(){a[1](e)&&_init.fn_msg(e,0)}),n=[2,a[1](e)]):a[1](e)?n[0]=0:n[0]=2}"3"==a[0]&&(a[1].test(t)?t.length<Number(a[2])||t.length>Number(a[3])?n[0]=2:n[0]=0:n[0]=2)}return n}var r=e,o=[],i=_init.fn_data_type(r.data("type")),s=null;if(i){if("4"==i[0])for(var c=0;c<i[1].length;c++){for(var d=0;d<i[1][c].length&&(s=_init.fn_data_type(i[1][c][d]),o=n(s),"0"==o[0]);d++);if("0"==o[0])break}else o=n(i);return o}return!1},fn_ajax:function(e){var t,a,n;t=e.attr("action"),n=e.attr("method")||"post",a=_option.postData?_option.postData(e.serializeArray()):e.serializeArray();var r=!0;1==e.attr("data-async")&&(r=!1),$.ajax({url:t,type:n,async:r,data:a,beforeSend:function(){},success:function(t){_option.callback&&_option.callback(t,e)},error:function(){_option.ajaxError&&_option.ajaxError(e),console.log(_language.error_submit)}})},fn_msg:function(e,t,a){var n,r,o,i=$(e).parents("form"),s=_option.tip?i.find(_option.tip):$(e).closest(".group").find("."+_option.class_name.msg.default),c=_option.class_name.msg.success,d=_option.class_name.msg.error,l=_option.class_name.input.success,u=_option.class_name.input.error;switch(n=$(e).data("msg-null")||_language.error_null,r=$(e).data("msg-error")||_language.error_input,o=$(e).data("msg-success")||"",r=/(.),(.)/.test(r)?r.split(",")[0]:r,a&&(r=a),t){case 0:$(e).removeClass(u).addClass(l),s.removeClass(d).addClass(c).html(o);break;case 1:_option.is_focus&&$(e).removeClass(l).addClass(u).focus(),s.removeClass(c).addClass(d).html(n);break;case 2:_option.is_focus&&$(e).removeClass(l).addClass(u).focus(),s.removeClass(c).addClass(d).html(r);break;case 3:$(e).removeClass(u),s.removeClass(d).html("")}}};_form&&_form.length>0&&_form.each(function(){var e=$(this);!e.attr("validator")&&_init.fn_init(e)})};"function"==typeof define?define("static/js/exchange/dist/script/module_validator",[],function(){return BitValidator}):"undefined"!=typeof exports?module.exports=BitValidator:window.BitValidator=BitValidator}(window),function(e){BitRange=function(t){function a(e,t){for(var a=e,n=0;n<t-1;n++)a+=e;return $(a)}function n(){T=a(T,k),C.paths.append(T)}function r(){var e=100/v,t=0;j=a(j,v+1),j.each(function(a,n){$(n).css("left",t+"%").attr("data-point-ratio",t),t+=e}),C.points.append(j)}function o(e,t){C.ratio=e.pageX?i(e.pageX):e,(C.is(":focus")||C.hasClass("click"))&&w.rangeMouseup&&C.trigger("__rangeSlide",[t])}function i(e){return s(c((e-g._left)/g._width*100))}function s(e){return e<=0?e=0:e>=100&&(e=100),e}function c(e){var t=(e-0)%y,a=e-t;return parseFloat(y?a.toFixed(5):e.toFixed(5))}function d(e){w._delayMet||(e&&e(),w._Delay=setTimeout(function(){w._delayMet=!1},x),w._delayMet=!0)}function l(){C.handle.css({left:C.ratio+"%"}),C.track.css({width:C.ratio+"%"}),C.attr("data-ratio",C.ratio),j.each(function(e,t){var a=$(t),n=$(t).data("point-ratio");C.ratio>=n?a.addClass("active"):a.removeClass("active")})}function u(e,t){void 0!==e&&(C.ratio=s(c(e))),t&&C.trigger("__rangeSlide"),l()}function _(){C.ratio=0,l()}var m,p,f=t||{},g=$(f.range),h=f.value||{min:0,max:100},y=1*f.step||0,v=1*f.point||0,b=f.slide,x=f.delay||10,w=$(this),k="object"==typeof h.max?h.max.length:1,C=$('<div class="range_wrap" data-ratio="0" tabindex="0"><div class="range_paths_wrap"></div><div class="range_track_wrap"><div class="range_track"></div><div class="range_handle"></div></div><div class="range_points_wrap"></div></div>'),T='<div class="range_path"></div>',j='<div class="range_point"></div>',S=$(document);C.trackWrap=C.find(".range_track_wrap"),C.track=C.find(".range_track"),C.handle=C.find(".range_handle"),C.paths=C.find(".range_paths_wrap"),C.points=C.find(".range_points_wrap"),C.ratio=0,g.length<=0||(function(){g.append(C),g._width=g.width()||g.parent().width()||g.parent().parent().width(),g._left=g.offset().left,p=g._width-C.handle.width()/2,C.trackWrap.width(p),C.points.width(p),v&&r(),n()}(),S.mousemove(function(e){d(function(){w.rangeMouseup&&o(e)})}),C.mousedown(function(e){C.trigger("focus"),w.rangeMouseup=!0;var t=e.target.getAttribute("data-point-ratio"),a=e.target==C.handle[0];t?(w.pointDown=!0,a?o(1*t,0):o(1*t)):(w.pointDown=!1,a?o(e,0):o(e)),C.addClass("click"),void 0!==document.onselectstart&&(document.onselectstart=new Function("return false"))}),C.hover(function(){C.addClass("hover"),g._left=g.offset().left},function(){C.removeClass("hover")}),S.mouseup(function(){w.rangeMouseup=!1,C.removeClass("click"),void 0!==document.onselectstart&&(document.onselectstart=new Function("return true"))}),C.on("__rangeSlide",function(e){l(),m=C.ratio,e&&b&&b(m,g)}).on("focus",function(){C.addClass("focus")}).on("blur",function(){C.removeClass("focus")}).on("keydown",function(e){switch(e.which){case 37:e.shiftKey?C.ratio-=10:C.ratio--;break;case 39:e.shiftKey?C.ratio+=10:C.ratio++;break;default:return}o(s(C.ratio)),l(),m=C.ratio,b&&b(m,g)}),$(e).on("resize",function(){g._width=g.width(),g._left=g.offset().left,p=g._width-C.handle.width()/2,C.trackWrap.width(p),C.points.width(p)}),this.Range=C,this.Update=u,this.Reset=_)},"function"==typeof define?define("static/js/exchange/dist/script/module_range",[],function(){return BitRange}):"undefined"!=typeof exports?module.exports=BitRange:e.BitRange=BitRange}(window),function(){var e=function(e,t){function a(){n(),A?r():clearTimeout(T)}function n(e){var t=void 0===e?j:e;f.r=Math.random().toString(36).substr(2),t||$.ajax({url:p,type:y,data:f,dataType:v,jsonp:b,jsonpCallback:C,beforeSend:o,success:i,error:s,complete:c})}function r(){T=setTimeout(a,A)}function o(){t&&t({code:"loading",msg:"loading"})}function i(e){10002==e.flag&&(window.location=F),10003==e.flag&&S.Stop(),x?M--:M=w,M<=0&&A<=k-1e3&&(A+=1e3),t&&t({code:"success",msg:"success",data:e})}function s(){t&&t({code:"error",msg:L("网络异常")})}function c(e,a){t&&t({code:"complete",xhr:e,ts:a,msg:"complete"})}function d(){j=1}function l(){j=0,M=w,A=h}function u(){n(0),M=w,A=h}function _(e){var t=e||{};p=t.url?t.url:p,f=t.data||f,h=t.refresh?1*t.refresh:h,v=t.datatype?t.datatype:v,b=t.jsonp?t.jsonp:b,C=t.jsonpcallback?t.jsonpcallback:C,A=h}var m=e||{},p=m.url?m.url:"/account/ajax.do",f=m.data||{},g=void 0==m.init||m.init,h=m.refresh?1*m.refresh:0,y=m.type||"GET",v=m.datatype?m.datatype:"",b=m.jsonp?m.jsonp:"",x=void 0!=m.damp?m.damp:CONST.AJAX_DAMP,w=CONST.AJAX_DAMP_TIME?CONST.AJAX_DAMP_TIME:6,k=CONST.AJAX_DAMP_REFRESH?CONST.AJAX_DAMP_REFRESH:5e3,C=m.jsonpcallback?m.jsonpcallback:"",T=null,j=0,S=this,O=window.location,F="/account/account.do?a=validate_all&jump_url="+O.pathname+O.search,M=w,A=h;clearTimeout(T),g&&f&&a(),S.Stop=d,S.Play=l,S.Fire=u,S.Update=_};"function"==typeof define?define("static/js/exchange/dist/script/module_ajax",[],function(){return e}):"undefined"!=typeof exports?module.exports=e:window.HbAjax=e}(),function(e){BitSwitch=function(e){function t(e,t){var a=t.parent(),o=(a.find("b"),a.find("i")),i=a.find("span"),s=t.data("text")&&t.data("text").split(","),c=t.prop("disabled")?1:0,d=1*a.width(),l=d-2*r-n;switch(e){case 0:a.removeClass("focus"),s&&i.text(s[1]);break;case 1:a.addClass("focus");break;case 2:o.animate({left:0,right:l},100,"swing"),a.addClass("switch_off").removeClass("switch_on "),s&&i.text(s[1]);break;case 3:o.animate({left:l,right:0},100,"swing"),a.addClass("switch_on").removeClass("switch_off "),s&&i.text(s[0]);break;case 4:a.addClass("disabled"),s&&i.text(s[1]);break;case 5:a.removeClass("focus")}c?a.addClass("disabled"):a.removeClass("disabled")}var a=e||{},n=a.width||13,r=a.gap||1,o=$(a.Switch),i=$('<label class="input_switch"></label>');(function(){o.length>0&&o.wrap(i).after("<b></b><i></i><span></span>")})(),o.each(function(){var e=$(this),a=e.prop("checked")?3:0;t(a,e),e.on("change",function(){a=e.prop("checked")?3:2,t(a,e)}).on("focus",function(){t(1,e)}).on("blur",function(){t(5,e)}).on("__Update",function(){a=e.prop("checked")?3:2,t(a,e)})})},
"function"==typeof define?define("static/js/exchange/dist/script/module_switch",[],function(){return BitSwitch}):"undefined"!=typeof exports?module.exports=BitSwitch:e.BitSwitch=BitSwitch}(window),function(){var e={Cookie:function(e,t,a){return e=(COOKIE_PRE||"")+e,this._Cookie(e,t,a)},_Cookie:function(e,t,a){var n=e,r=t;if(void 0!==r){var o=new Date;return a&&Math.round(o.setDate(o.getDate()+a.expires)),document.cookie=[encodeURI(n),"=",encodeURIComponent(r),a&&a.expires?"; expires="+o.toUTCString():"",a&&a.path?"; path="+a.path:"",a&&a.domain?"; domain="+a.domain:"",a&&a.secure?"; secure":""].join("")}var i=document.cookie.match("(?:^|;)\\s*"+n+"=([^;]*)");return i?decodeURIComponent(i[1]):null},RemoveCookie:function(e){return void 0!==this.Cookie(e)&&(this.Cookie(e,"",{expires:-1}),!0)}};"function"==typeof define?define("static/js/exchange/dist/script/module_cookie",[],function(){return e}):"undefined"!=typeof exports?module.exports=e:window.BitCookie=e}(),function(e){var t=function(e,t){function a(e){e.title&&d._title.html(e.title),e.content&&d._body.html(e.content),e.foot&&d._foot.html(e.foot)}function n(e){d.show(),u.show().addClass("in"),e?e(d,"show"):_&&_(d,"show")}function r(e,t){d.hide(),u.hide().removeClass("in"),e?e(d,"close"):_&&_(d,"close",t)}var o=e||{},i=$('<div class="doc_dialog" style="display: none"><div class="mod_dialog"><div class="mod_hd"><span class="icon_wrap"><i class="icon"></i></span><span class="mod_title"></span><div class="mod_option"><a href="#" class="close">×</a></div></div><div class="mod_bd"></div><div class="mod_ft"></div></div></div>'),s=$('<div class="dialog_backdrop" style="display: none"></div>'),c=o.wrap?$(o.wrap):$("body"),d=o.dialog?$(o.dialog):$(".doc_dialog"),l=$(o.trigger)||"",u=o.backdrop?$(o.backdrop):$(".dialog_backdrop"),_=t||null;(function(){if(d.length<=0){var e=d.selector;/^\./.test(e)?i.addClass(e.replace(".","")):/^\#/.test(e)&&i.attr("id",e.replace("#","")),c.append(i),d=i}$(u).length<=0&&(s.addClass(u.selector.replace(".","")),$("body").append(s),u=s),d._title=d.find(".mod_title"),d._body=d.find(".mod_bd"),d._foot=d.find(".mod_ft"),d._close=d.find(".close")})(),l&&l.on("click",function(){n()}),d._close.on("click",function(){r("",$(this))}),this.Close=r,this.Show=n,this.Write=a};"function"==typeof define?define("static/js/exchange/dist/script/module_dialog",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:e.BitDialog=t}(window),function(e){"use strict";function t(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function a(e,t){return e<<t|e>>>32-t}function n(e,n,r,o,i,s){return t(a(t(t(n,e),t(o,s)),i),r)}function r(e,t,a,r,o,i,s){return n(t&a|~t&r,e,t,o,i,s)}function o(e,t,a,r,o,i,s){return n(t&r|a&~r,e,t,o,i,s)}function i(e,t,a,r,o,i,s){return n(t^a^r,e,t,o,i,s)}function s(e,t,a,r,o,i,s){return n(a^(t|~r),e,t,o,i,s)}function c(e,a){e[a>>5]|=128<<a%32,e[14+(a+64>>>9<<4)]=a;var n,c,d,l,u,_=1732584193,m=-271733879,p=-1732584194,f=271733878;for(n=0;n<e.length;n+=16)c=_,d=m,l=p,u=f,_=r(_,m,p,f,e[n],7,-680876936),f=r(f,_,m,p,e[n+1],12,-389564586),p=r(p,f,_,m,e[n+2],17,606105819),m=r(m,p,f,_,e[n+3],22,-1044525330),_=r(_,m,p,f,e[n+4],7,-176418897),f=r(f,_,m,p,e[n+5],12,1200080426),p=r(p,f,_,m,e[n+6],17,-1473231341),m=r(m,p,f,_,e[n+7],22,-45705983),_=r(_,m,p,f,e[n+8],7,1770035416),f=r(f,_,m,p,e[n+9],12,-1958414417),p=r(p,f,_,m,e[n+10],17,-42063),m=r(m,p,f,_,e[n+11],22,-1990404162),_=r(_,m,p,f,e[n+12],7,1804603682),f=r(f,_,m,p,e[n+13],12,-40341101),p=r(p,f,_,m,e[n+14],17,-1502002290),m=r(m,p,f,_,e[n+15],22,1236535329),_=o(_,m,p,f,e[n+1],5,-165796510),f=o(f,_,m,p,e[n+6],9,-1069501632),p=o(p,f,_,m,e[n+11],14,643717713),m=o(m,p,f,_,e[n],20,-373897302),_=o(_,m,p,f,e[n+5],5,-701558691),f=o(f,_,m,p,e[n+10],9,38016083),p=o(p,f,_,m,e[n+15],14,-660478335),m=o(m,p,f,_,e[n+4],20,-405537848),_=o(_,m,p,f,e[n+9],5,568446438),f=o(f,_,m,p,e[n+14],9,-1019803690),p=o(p,f,_,m,e[n+3],14,-187363961),m=o(m,p,f,_,e[n+8],20,1163531501),_=o(_,m,p,f,e[n+13],5,-1444681467),f=o(f,_,m,p,e[n+2],9,-51403784),p=o(p,f,_,m,e[n+7],14,1735328473),m=o(m,p,f,_,e[n+12],20,-1926607734),_=i(_,m,p,f,e[n+5],4,-378558),f=i(f,_,m,p,e[n+8],11,-2022574463),p=i(p,f,_,m,e[n+11],16,1839030562),m=i(m,p,f,_,e[n+14],23,-35309556),_=i(_,m,p,f,e[n+1],4,-1530992060),f=i(f,_,m,p,e[n+4],11,1272893353),p=i(p,f,_,m,e[n+7],16,-155497632),m=i(m,p,f,_,e[n+10],23,-1094730640),_=i(_,m,p,f,e[n+13],4,681279174),f=i(f,_,m,p,e[n],11,-358537222),p=i(p,f,_,m,e[n+3],16,-722521979),m=i(m,p,f,_,e[n+6],23,76029189),_=i(_,m,p,f,e[n+9],4,-640364487),f=i(f,_,m,p,e[n+12],11,-421815835),p=i(p,f,_,m,e[n+15],16,530742520),m=i(m,p,f,_,e[n+2],23,-995338651),_=s(_,m,p,f,e[n],6,-198630844),f=s(f,_,m,p,e[n+7],10,1126891415),p=s(p,f,_,m,e[n+14],15,-1416354905),m=s(m,p,f,_,e[n+5],21,-57434055),_=s(_,m,p,f,e[n+12],6,1700485571),f=s(f,_,m,p,e[n+3],10,-1894986606),p=s(p,f,_,m,e[n+10],15,-1051523),m=s(m,p,f,_,e[n+1],21,-2054922799),_=s(_,m,p,f,e[n+8],6,1873313359),f=s(f,_,m,p,e[n+15],10,-30611744),p=s(p,f,_,m,e[n+6],15,-1560198380),m=s(m,p,f,_,e[n+13],21,1309151649),_=s(_,m,p,f,e[n+4],6,-145523070),f=s(f,_,m,p,e[n+11],10,-1120210379),p=s(p,f,_,m,e[n+2],15,718787259),m=s(m,p,f,_,e[n+9],21,-343485551),_=t(_,c),m=t(m,d),p=t(p,l),f=t(f,u);return[_,m,p,f]}function d(e){var t,a="";for(t=0;t<32*e.length;t+=8)a+=String.fromCharCode(e[t>>5]>>>t%32&255);return a}function l(e){var t,a=[];for(a[(e.length>>2)-1]=void 0,t=0;t<a.length;t+=1)a[t]=0;for(t=0;t<8*e.length;t+=8)a[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return a}function u(e){return d(c(l(e),8*e.length))}function _(e,t){var a,n,r=l(e),o=[],i=[];for(o[15]=i[15]=void 0,r.length>16&&(r=c(r,8*e.length)),a=0;a<16;a+=1)o[a]=909522486^r[a],i[a]=1549556828^r[a];return n=c(o.concat(l(t)),512+8*t.length),d(c(i.concat(n),640))}function m(e){var t,a,n="0123456789abcdef",r="";for(a=0;a<e.length;a+=1)t=e.charCodeAt(a),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}function p(e){return unescape(encodeURIComponent(e))}function f(e){return u(p(e))}function g(e){return m(f(e))}function h(e,t){return _(p(e),p(t))}function y(e,t){return m(h(e,t))}function v(e,t,a){return t?a?h(t,e):y(t,e):a?f(e):g(e)}function b(e,t,a){return v(e+"hello, moto",t,a)}"function"==typeof define?define("static/js/exchange/dist/script/module_md5",[],function(){return{md5:v,hbmd5:b}}):(e.md5=v,e.hbmd5=b)}(this),function(){function e(){var e=[].slice.apply(arguments);if(!(e.length<2))return e.shift().apply(e.shift(),e)}"function"==typeof define?define("static/js/exchange/dist/script/module_this_jack",[],function(){return e}):"undefined"!=typeof exports?module.exports=e:window.Jack=e}(),function(){function e(e,a){function n(e,t,a){var n=a||200;setTimeout(function(){e.removeClass(t)},n)}var r=this,o=e||{},i=o.message?o.message:"",s=o.type||"succeed",c=o.long,d=$('<div id="notice" class="notice"><a href="" class="close">×</a><div class="message">'+i+"</div></div>"),l=$("body"),u=d.find(".message"),_=d.find(".close");return r.Init=function(e){var t;return l.find("#notice").length>0?(d=l.find("#notice"),u=d.find(".message"),_=d.find(".close"),"close"!=e&&d.addClass("reappear"),t=!1):(l.append(d),t=!0),"error"==s?d.addClass("error").removeClass("succeed"):d.removeClass("error").addClass("succeed"),setTimeout(function(){d.removeClass("reappear")},1e3),t},r.Open=function(){var e=r.Init();r.CloseNow=0,e&&(d.removeClass("notice_close").addClass("notice_open"),n(d,"notice_open"))},r.Close=function(){r.Init("close"),r.CloseNow=1,d.addClass("notice_close").removeClass("notice_open"),t[1]=setTimeout(function(){d.remove()},300)},r.Write=function(e){u.html(e||i)},function(){r.Open(),r.Write(),clearTimeout(t[0]),clearTimeout(t[1]),t[0]=c&&setTimeout(function(){r.Close()},c),_.click(function(){return r.Close(),!1}),d.hover(function(){clearTimeout(t[0])},function(){l.find("#notice").length<=0||(t[0]=c&&setTimeout(function(){r.Close()},c))})}(),r}var t=[];"function"==typeof define?define("static/js/exchange/dist/script/page_l_notice",[],function(){return e}):"undefined"!=typeof exports?module.exports=e:window.Notice=e}(),define("static/js/exchange/dist/script/page_l_order",["static/js/exchange/dist/script/module_order","jquery","static/js/exchange/dist/script/module_ajax","static/js/exchange/dist/script/module_tmpl","static/js/exchange/dist/script/module_md5","static/js/exchange/dist/script/page_l_notice"],function(e,t,a){var n=e("static/js/exchange/dist/script/module_order"),r=e("static/js/exchange/dist/script/page_l_notice"),o=SYMBOL,i=UID&&n.GetOrder({temp:"tmp_us_order",wrap:"view_us_order",coin_type:o,is_history:10,damp:!0},function(){s&&s.Fire()}),s=UID&&n.GetOrder({temp:"tmp_us_order_history",wrap:"view_us_order_history",coin_type:o,is_history:20,delay:0}),c={};c.view_us_order=$("#view_us_order"),c.cancel_order_all=$("#cancel_order_all"),c.view_us_order.on("click",".cancel",function(){var e=$(this),t=e.attr("data-ids"),a=e.parents(".tr");return!(1*e.attr("data-init")||(e.attr("data-init",1),n.CancelOrder({coin_type:o,id:t},function(t){"loading"==t.code?(a.addClass("cancel"),i.Stop()):"error"==t.code?(a.hasClass("cancel")&&a.removeClass("cancel"),e.attr("data-init",0),r({message:window.Texts&&Texts.NetworkError,type:"error",long:1800}),i.Play()):(0===t.code?(a.next(".hidden_info").remove(),a.slideUp(function(){a.remove(),i.Fire()}),HRYB.AJAX.GetBalance.Fire()):(e.attr("data-init",0),a.hasClass("cancel")&&a.removeClass("cancel"),r({message:t.msg,type:"error",long:1800})),i.Play())}),1))}),c.cancel_order_all.on("click",function(){var e=$(this),t=e.attr("data-ids")?e.attr("data-ids").split("|"):0;return e.prop("disabled",!0),t&&n.CancelAllOrder({coin_type:o,id:t},function(t){"loading"==t.code?(i.Stop(),c.view_us_order.find(".tr").addClass("cancel")):"error"==t.code?(c.view_us_order.find(".tr").removeClass("cancel"),e.prop("disabled",!1),r({message:window.Texts&&Texts.NetworkError,type:"error",long:1800})):0==t.code?(i.Fire(),i.Play(),e.prop("disabled",!1),HRYB.AJAX.GetBalance.Fire(),r({message:t.msg,long:1800})):(i.Play(),c.view_us_order.find(".tr").removeClass("cancel"),e.prop("disabled",!1),r({message:t.msg,type:"error",long:1800}))}),!1}),t.GetOrder=i,t.GetHistory=s}),define("static/js/exchange/dist/script/module_order",["jquery","static/js/exchange/dist/script/module_ajax","static/js/exchange/dist/script/module_tmpl","static/js/exchange/dist/script/module_md5"],function(require,exports,module){function GetOrder(options,change){var op=options||{},temp=op.temp,wrap=$("#"+op.wrap),coin_type=op.coin_type,is_history=op.is_history,damp=op.damp,delay=0==op.delay?0:3e3,init=0,hash=[0,0],oldId=[0,0],Fn,time=4;return Fn=new A({url:HRY.host+HRY.modules.exmain+"entrust/findByCustomerId.do",refresh:delay,damp:damp,data:{coin_type:coin_type,status:is_history,page:1,pageSize:5}},function(data){var _code=data.code;switch(_code){case"loading":""==wrap.html()&&wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder"><i class="icon_loading"></i></td></tr>');break;case"error":wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder">'+data.msg+"</td></tr>"),hash=[0,0];break;case"success":if("success"===data.code&&-1==data.data.indexOf("script")){var delegation=eval("("+data.data+")"),_h=D.md5(JSON.stringify(delegation));if(20==is_history){if(_h!==hash[1]){for(var _i=0;_i<delegation.length;_i++){var _t=delegation[_i];_t.id>oldId[1]&&init?_t.new_order=1:_t.new_order=0}wrap.html(M(temp,delegation)),hash[1]=_h,init||(oldId[1]=delegation.length>0?1*delegation[0].id:0),init=1}}else time--,0==data.data.total?time<=0&&(Fn.Stop(),console.log("Order Stop"),time=4):time=4,_h!==hash[0]&&(wrap.html(M(temp,delegation)),hash[0]=_h,change&&change())}else data.code&&wrap.html('<tr><td colspan="100" class="align_center p_t_30 no_barder"><i class="icon_info"></i> code:'+data.code+", "+(data.msg?data.msg:"")+"</td></tr>"),hash=[0,0]}})}function GetDetails(e){var t=e||{},a=t.temp,n=$(t.wrap),r=t.coin_type,o=t.id,i=t.type;a&&n&&A({url:"/trade/entrust_detail",data:{coin_type:r,order_id:o,delegation_type:i}},function(e){switch(e.code){case"loading":n.html('<div class="align_center p_t_30 no_barder"><i class="icon_loading"></i>'+e.msg+"</div>");break;case"error":n.html('<div class="align_center p_t_30 no_barder">'+e.msg+"</div>");break;case"success":0===e.data.code?n.html(M(a,e.data)):e.code&&n.html('<tr><td colspan="100" class="align_center p_t_30 no_barder">code:'+e.data.code+","+e.data.msg?e.data.msg:"</td></tr>")}})}function CancelOrder(e,t){var a=e||{},n=(a.coin_type,"object"==typeof a.id?a.id.join(","):a.id);ids=n,A({url:HRY.host+HRY.modules.exmain+"entrust/cancelExEntrust.do",data:{coinCode:CURRENT_SYMBOL,entrustNums:ids},type:"POST"},function(e){switch(e.code){case"loading":case"error":t&&t(e);break;case"success":t&&t(JSON.parse(e.data))}})}function CancelAllOrder(e,t){var a=e||{},n=(a.coin_type,"object"==typeof a.id?a.id.join(","):a.id);ids=n,A({url:HRY.host+HRY.modules.exmain+"entrust/cancelallcoinCodeExEntrust.do",data:{coinCode:CURRENT_SYMBOL,entrustNums:ids},type:"POST"},function(e){switch(e.code){case"loading":case"error":t&&t(e);break;case"success":t&&t(JSON.parse(e.data))}})}var $=require("jquery"),A=require("static/js/exchange/dist/script/module_ajax"),M=require("static/js/exchange/dist/script/module_tmpl"),D=require("static/js/exchange/dist/script/module_md5");exports.GetOrder=GetOrder,exports.GetDetails=GetDetails,exports.CancelOrder=CancelOrder,exports.CancelAllOrder=CancelAllOrder}),function(){function e(a,n){var r=/\W/.test(a)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);},__data = obj;with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[a]=t[a]||e(document.getElementById(a).innerHTML);return n?r(n):r}var t={};"function"==typeof define?define("static/js/exchange/dist/script/module_tmpl",[],function(){return e}):"undefined"!=typeof exports?module.exports=e:window.TmpL=e}(),function(){window.HRYB||(window.HRYB={});var e=function(e){var t=e||{},a=t.name,n=t.value;HRYB[a]?$.extend(HRYB[a],n):(HRYB[a]={},$.extend(HRYB[a],n))};"function"==typeof define?define("static/js/exchange/dist/script/module_hb_extend",[],function(){return e}):"undefined"!=typeof exports?module.exports=e:window.HurongbiExtend=e}();